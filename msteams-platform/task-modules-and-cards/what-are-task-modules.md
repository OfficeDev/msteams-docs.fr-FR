---
title: Qu-est-ce qu’un module de tâche ?
author: clearab
description: Ajouter des expériences popup modales pour collecter ou afficher des informations à vos utilisateurs à partir de Microsoft Teams applications
localization_priority: Normal
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 7c047c02167e143cc8536c1dfcff3a335b18c46e
ms.sourcegitcommit: 20e623a82f9676dd036cf6a350dd480885e0ea2c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/10/2021
ms.locfileid: "52300562"
---
# <a name="what-are-task-modules"></a><span data-ttu-id="f1959-103">Qu-est-ce qu’un module de tâche ?</span><span class="sxs-lookup"><span data-stu-id="f1959-103">What are task modules?</span></span>

<span data-ttu-id="f1959-104">Les modules de tâches vous permettent de créer des expériences de menu contextuel modal dans votre application Teams.</span><span class="sxs-lookup"><span data-stu-id="f1959-104">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="f1959-105">À l’intérieur de la fenêtre popup, vous pouvez exécuter votre propre code HTML/JavaScript personnalisé, afficher un widget basé sur un widget tel qu’une vidéo YouTube ou Microsoft Stream ou afficher une `<iframe>` [carte adaptative.](/adaptive-cards/)</span><span class="sxs-lookup"><span data-stu-id="f1959-105">Inside the popup you can run your own custom HTML/JavaScript code, show an `<iframe>`-based widget such as a YouTube or Microsoft Stream video or display an [Adaptive card](/adaptive-cards/).</span></span> <span data-ttu-id="f1959-106">Ils sont particulièrement utiles pour initier et effectuer des tâches, ou afficher des informations enrichies, telles que des vidéos ou des tableaux de bord Power BI.</span><span class="sxs-lookup"><span data-stu-id="f1959-106">They are especially useful for initiating and completing tasks or displaying rich information like videos or Power BI dashboards.</span></span> <span data-ttu-id="f1959-107">Une expérience contextuelle est souvent plus naturelle pour les utilisateurs qui initient et effectuent des tâches, par rapport à une expérience d’onglet ou de bot basée sur une conversation.</span><span class="sxs-lookup"><span data-stu-id="f1959-107">A popup experience is often more natural for users initiating and completing tasks compared to a tab or a conversation-based bot experience.</span></span>

<span data-ttu-id="f1959-108">Les modules de tâche s’appuient sur les bases Microsoft Teams onglets ; Il s’agit essentiellement d’un onglet à l’intérieur d’une fenêtre popup.</span><span class="sxs-lookup"><span data-stu-id="f1959-108">Task modules build on the foundation of Microsoft Teams tabs; they are essentially a tab inside a popup window.</span></span> <span data-ttu-id="f1959-109">Ils utilisent le même SDK, donc si vous avez créé un onglet, vous êtes déjà à 90 % de la façon de créer un module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-109">They use the same SDK, so if you've built a tab you are already 90% of the way to being able to create a task module.</span></span>

<span data-ttu-id="f1959-110">Les modules de tâche peuvent être appelés de trois façons :</span><span class="sxs-lookup"><span data-stu-id="f1959-110">Task modules can be invoked in three ways:</span></span>

* <span data-ttu-id="f1959-111">**Onglets de canal ou personnels.**</span><span class="sxs-lookup"><span data-stu-id="f1959-111">**Channel or personal tabs.**</span></span> <span data-ttu-id="f1959-112">Le SDK Microsoft Teams Onglets vous permet d’appeler des modules de tâche à partir de boutons, de liens ou de menus de votre onglet. Cette information est détaillée [ici.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="f1959-112">Using the Microsoft Teams Tabs SDK you can invoke task modules from buttons, links or menus on your tab. [This is covered in detail here.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span></span>
* <span data-ttu-id="f1959-113">**Bots.**</span><span class="sxs-lookup"><span data-stu-id="f1959-113">**Bots.**</span></span> <span data-ttu-id="f1959-114">Boutons sur [les cartes](~/task-modules-and-cards/cards/cards-reference.md) envoyées à partir de votre bot.</span><span class="sxs-lookup"><span data-stu-id="f1959-114">Buttons on [cards](~/task-modules-and-cards/cards/cards-reference.md) sent from your bot.</span></span> <span data-ttu-id="f1959-115">Ceci est particulièrement utile lorsque vous n’avez pas besoin de tout le monde dans un canal pour voir ce que vous faites avec un bot.</span><span class="sxs-lookup"><span data-stu-id="f1959-115">This is particularly useful when you don't need everyone in a channel to see what you are doing with a bot.</span></span> <span data-ttu-id="f1959-116">Par exemple, lorsque des utilisateurs répondent à un sondage dans un canal, il n'est pas très utile de voir un enregistrement de ce sondage.</span><span class="sxs-lookup"><span data-stu-id="f1959-116">For example, when having users respond to a poll in a channel it's not terribly useful to see a record of that poll being created.</span></span> [<span data-ttu-id="f1959-117">Ce sujet est abordé en détail ici.</span><span class="sxs-lookup"><span data-stu-id="f1959-117">This is covered in detail here.</span></span>](~/task-modules-and-cards/task-modules/task-modules-bots.md)
* <span data-ttu-id="f1959-118">**En dehors Teams à partir d’un lien profond.**</span><span class="sxs-lookup"><span data-stu-id="f1959-118">**Outside of Teams from a deep link.**</span></span> <span data-ttu-id="f1959-119">Vous pouvez également créer des URL pour appeler un module de tâche de n’importe où.</span><span class="sxs-lookup"><span data-stu-id="f1959-119">You can also create URLs to invoke a task module from anywhere.</span></span> [<span data-ttu-id="f1959-120">Ce sujet est abordé en détail ici.</span><span class="sxs-lookup"><span data-stu-id="f1959-120">This is covered in detail here.</span></span>](#task-module-deep-link-syntax)

## <a name="what-a-task-module-looks-like"></a><span data-ttu-id="f1959-121">Apparence d’un module de tâche</span><span class="sxs-lookup"><span data-stu-id="f1959-121">What a task module looks like</span></span>

<span data-ttu-id="f1959-122">Voici à quoi ressemble un module de tâche lorsqu’il est appelé à partir d’un bot (sans les rectangles de couleur et les cercles numérotés, bien entendu) :</span><span class="sxs-lookup"><span data-stu-id="f1959-122">Here's what a task module looks like when invoked from a bot (without the colored rectangles and numbered circles, of course):</span></span>

![Exemple de module de tâche](~/assets/images/task-module/task-module-example.png)

<span data-ttu-id="f1959-124">Examinons ce qui se passe :</span><span class="sxs-lookup"><span data-stu-id="f1959-124">Let's walk through it:</span></span>

1. <span data-ttu-id="f1959-125">Icône de votre [ `color` application.](~/resources/schema/manifest-schema.md#icons)</span><span class="sxs-lookup"><span data-stu-id="f1959-125">Your app's [`color` icon](~/resources/schema/manifest-schema.md#icons).</span></span>
2. <span data-ttu-id="f1959-126">Nom de votre [ `short` application.](~/resources/schema/manifest-schema.md#name)</span><span class="sxs-lookup"><span data-stu-id="f1959-126">Your app's [`short` name](~/resources/schema/manifest-schema.md#name).</span></span>
3. <span data-ttu-id="f1959-127">Titre du module de tâche spécifié dans la `title` propriété de [l’objet TaskInfo](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="f1959-127">The task module's title specified in the `title` property of the [TaskInfo object](#the-taskinfo-object).</span></span>
4. <span data-ttu-id="f1959-128">Bouton Fermer/Annuler du module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-128">The task module's close/cancel button.</span></span> <span data-ttu-id="f1959-129">Si l’utilisateur appuie sur cette touche, votre application recevra un `err` événement comme décrit [ici.](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module)</span><span class="sxs-lookup"><span data-stu-id="f1959-129">If the user presses this, your app will receive an `err` event as described [here](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span></span> <span data-ttu-id="f1959-130">(**Remarque :** il n’est actuellement pas possible de détecter cet événement lorsqu’un module de tâche est appelé à partir d’un bot.)</span><span class="sxs-lookup"><span data-stu-id="f1959-130">(**Note:** It is currently not possible to detect this event when a task module is invoked from a bot.)</span></span>
5. <span data-ttu-id="f1959-131">Le rectangle bleu est l’endroit où votre page web apparaît si vous chargez votre propre page web à l’aide de la `url` propriété de [l’objet TaskInfo](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="f1959-131">The blue rectangle is the where your web page appears if you are loading your own web page using the `url` property of the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="f1959-132">Pour plus d’informations, voir la section [de resserrisation](#task-module-sizing) du module de tâche ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f1959-132">More detail is in the [task module sizing](#task-module-sizing) section below.</span></span>
6. <span data-ttu-id="f1959-133">Si vous affichez une carte adaptative via la propriété de `card` l’objet [TaskInfo,](#the-taskinfo-object) le remplissage est ajouté pour vous, sinon vous devrez gérer [cela vous-même.](#task-module-css-for-htmljavascript-task-modules)</span><span class="sxs-lookup"><span data-stu-id="f1959-133">If you are displaying an Adaptive card via the `card` property of the [TaskInfo object](#the-taskinfo-object) the padding is added for you, otherwise you'll need to [handle this yourself](#task-module-css-for-htmljavascript-task-modules).</span></span>
7. <span data-ttu-id="f1959-134">Les boutons de carte adaptative s’restituera ici.</span><span class="sxs-lookup"><span data-stu-id="f1959-134">Adaptive card buttons will render here.</span></span> <span data-ttu-id="f1959-135">Si vous utilisez votre propre page, vous devez créer vos propres boutons.</span><span class="sxs-lookup"><span data-stu-id="f1959-135">If you're using your own page you must create your own buttons.</span></span>

## <a name="overview-of-invoking-and-dismissing-task-modules"></a><span data-ttu-id="f1959-136">Vue d’ensemble de l’facturation et de l’annulation des modules de tâche</span><span class="sxs-lookup"><span data-stu-id="f1959-136">Overview of invoking and dismissing task modules</span></span>

<span data-ttu-id="f1959-137">Les modules de tâche peuvent être appelés à partir d’onglets, de bots ou de liens profonds, et ce qui apparaît dans l’un d’eux peut être du code HTML ou une carte adaptative. Il existe donc beaucoup de flexibilité quant à la façon dont ils sont appelés et à gérer le résultat de l’interaction d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f1959-137">Task modules can be invoked from tabs, bots or deep links and what appears in one can be either HTML or an Adaptive card, so there's a lot of flexibility in terms of how they are invoked and how to deal with the result of a user's interaction.</span></span> <span data-ttu-id="f1959-138">Le tableau ci-dessous récapitule le fonctionnement :</span><span class="sxs-lookup"><span data-stu-id="f1959-138">The table below summarizes how this works:</span></span>

| <span data-ttu-id="f1959-139">**Appelé via...**</span><span class="sxs-lookup"><span data-stu-id="f1959-139">**Invoked via...**</span></span> | <span data-ttu-id="f1959-140">**Module de tâche html/JavaScript**</span><span class="sxs-lookup"><span data-stu-id="f1959-140">**Task module is HTML/JavaScript**</span></span> | <span data-ttu-id="f1959-141">**Le module de tâche est une carte adaptative**</span><span class="sxs-lookup"><span data-stu-id="f1959-141">**Task module is Adaptive card**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f1959-142">**JavaScript dans un onglet**</span><span class="sxs-lookup"><span data-stu-id="f1959-142">**JavaScript in a tab**</span></span> | <span data-ttu-id="f1959-143">1. Utiliser la fonction Teams SDK client avec `tasks.startTask()` une fonction de rappel `submitHandler(err, result)` facultative</span><span class="sxs-lookup"><span data-stu-id="f1959-143">1. Use the Teams client SDK function `tasks.startTask()` with an optional `submitHandler(err, result)` callback function</span></span> <br/><br/> <span data-ttu-id="f1959-144">2. Dans le code du module de tâche, lorsque l’utilisateur a terminé, appelez la fonction Teams SDK avec un objet `tasks.submitTask()` `result` en tant que paramètre.</span><span class="sxs-lookup"><span data-stu-id="f1959-144">2. In the task module code, when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <span data-ttu-id="f1959-145">Si un `submitHandler` rappel a été spécifié dans , Teams `tasks.startTask()` l’appelle avec `result` comme paramètre.</span><span class="sxs-lookup"><span data-stu-id="f1959-145">If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with `result` as a parameter.</span></span><br/><br/> <span data-ttu-id="f1959-146">3. En cas d’erreur lors de l’appel, la fonction est `tasks.startTask()` appelée avec une chaîne à la `submitHandler` `err` place.</span><span class="sxs-lookup"><span data-stu-id="f1959-146">3. If there was an error when invoking `tasks.startTask()`, the `submitHandler` function is called with an `err` string instead.</span></span> <br/><br/> <span data-ttu-id="f1959-147">4. Vous pouvez également spécifier un lorsque vous appelez , dans ce `completionBotId` cas est envoyé au bot à la `teams.startTask()` `result` place.</span><span class="sxs-lookup"><span data-stu-id="f1959-147">4. You can also specify a `completionBotId` when calling `teams.startTask()` - in that case `result` is sent to the bot instead.</span></span> | <span data-ttu-id="f1959-148">1. Appelez la fonction Teams client SDK avec un objet TaskInfo et contenant le JSON de la carte adaptative à afficher dans la fenêtre popup du `tasks.startTask()` module de [](#the-taskinfo-object) `TaskInfo.card` tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-148">1. Call the Teams client SDK function `tasks.startTask()` with a [TaskInfo object](#the-taskinfo-object) and `TaskInfo.card` containing the JSON for the Adaptive card to show in the task module popup.</span></span> <br/><br/> <span data-ttu-id="f1959-149">2. Si un rappel a été spécifié dans , Teams l’appelle avec une chaîne en cas d’erreur lors de l’appel ou si l’utilisateur ferme la fenêtre popup du module de tâche à l’aide du X en haut à `submitHandler` `tasks.startTask()` `err` `tasks.startTask()` droite.</span><span class="sxs-lookup"><span data-stu-id="f1959-149">2. If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with an `err` string if there was an error when invoking `tasks.startTask()` or if the user closes the task module popup using the X at the upper right.</span></span> <br/><br/> <span data-ttu-id="f1959-150">3. Si l’utilisateur appuie sur un bouton Action.Submit, son objet est renvoyé en tant que `data` valeur de `result` .</span><span class="sxs-lookup"><span data-stu-id="f1959-150">3. If the user presses an Action.Submit button then its `data` object is returned as the value of `result`.</span></span> |
| <span data-ttu-id="f1959-151">**Bouton de carte bot**</span><span class="sxs-lookup"><span data-stu-id="f1959-151">**Bot card button**</span></span> | <span data-ttu-id="f1959-152">1. Les boutons de carte bot, en fonction du type de bouton, peuvent appeler des modules de tâche de deux manières : une URL de lien profond ou en envoyant un `task/fetch` message.</span><span class="sxs-lookup"><span data-stu-id="f1959-152">1. Bot card buttons, depending on the type of button, can invoke task modules in two ways: a deep link URL or by sending a `task/fetch` message.</span></span> <span data-ttu-id="f1959-153">Voir ci-dessous pour savoir comment fonctionnent les URL de liens profonds.</span><span class="sxs-lookup"><span data-stu-id="f1959-153">See below for how deep link URLs work.</span></span> <br/><br/> <span data-ttu-id="f1959-154">2. Si l’action du bouton est ( type de bouton pour les cartes adaptatives), un événement (une DEMANDE HTTP en dessous) est envoyé au bot, et le bot répond au POST avec `type` `task/fetch` HTTP `Action.Submit` `task/fetch invoke` 200 [](#the-taskinfo-object)et le corps de la réponse contenant un wrapper autour de l’objet TaskInfo .</span><span class="sxs-lookup"><span data-stu-id="f1959-154">2. If the button's action `type` is `task/fetch` (`Action.Submit` button type for Adaptive cards), a `task/fetch invoke` event (an HTTP POST under the covers) is sent to the bot, and the bot responds to the POST with HTTP 200 and the response body containing a wrapper around the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="f1959-155">Cela est expliqué en détail dans [l’facturation d’un module de tâche via task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-via-taskfetch).</span><span class="sxs-lookup"><span data-stu-id="f1959-155">This is explained in detail in [invoking a task module via task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-via-taskfetch).</span></span><br/><br/> <span data-ttu-id="f1959-156">3. Teams le module de tâche ; Lorsque l’utilisateur a terminé, appelez la Teams SDK avec `tasks.submitTask()` un objet en tant que `result` paramètre.</span><span class="sxs-lookup"><span data-stu-id="f1959-156">3. Teams displays the task module; when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <br/><br/> <span data-ttu-id="f1959-157">4. Le bot reçoit un `task/submit invoke` message contenant `result` l’objet.</span><span class="sxs-lookup"><span data-stu-id="f1959-157">4. The bot receives a `task/submit invoke` message that contains the `result` object.</span></span> <span data-ttu-id="f1959-158">Vous pouvez répondre au message de trois manières différentes : en ne rien faire (la tâche s’est terminée correctement), en affichant un message à l’utilisateur dans une fenêtre popup ou en invoquant une autre fenêtre de module de tâche (c’est-à-dire en créant une expérience de `task/submit` l’Assistant).</span><span class="sxs-lookup"><span data-stu-id="f1959-158">You have three different ways to respond to the `task/submit` message: by doing nothing (the task completed successfully), by displaying a message to the user in a popup window, or by invoking another task module window (i.e. creating a wizard-like experience).</span></span> <span data-ttu-id="f1959-159">Ces trois options sont abordées plus en détail dans la [discussion détaillée sur la tâche/l’soumission.](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit)</span><span class="sxs-lookup"><span data-stu-id="f1959-159">These three options are discussed more [in the detailed discussion on task/submit](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> | <span data-ttu-id="f1959-160">1. Comme les boutons des cartes Bot Framework, les boutons des cartes adaptatives offrent deux moyens d’appel des modules de tâche : les URL de liens profonds avec des boutons et l’utilisation de `Action.openUrl` `task/fetch` `Action.Submit` boutons.</span><span class="sxs-lookup"><span data-stu-id="f1959-160">1. Like buttons on Bot Framework cards, buttons on Adaptive cards support two ways of invoking task modules: deep link URLs with `Action.openUrl` buttons, and via `task/fetch` using `Action.Submit` buttons.</span></span> <br/><br/> <span data-ttu-id="f1959-161">2. Les modules de tâche avec cartes adaptatives fonctionnent de manière très similaire au cas HTML/JavaScript (voir à gauche).</span><span class="sxs-lookup"><span data-stu-id="f1959-161">2. Task modules with Adaptive cards work very similarly to the HTML/JavaScript case (see left).</span></span> <span data-ttu-id="f1959-162">La principale différence est que, étant donné qu’il n’existe pas de JavaScript lorsque vous utilisez des cartes adaptatives, il n’existe aucun moyen d’appeler `tasks.submitTask()` .</span><span class="sxs-lookup"><span data-stu-id="f1959-162">The major difference is that since there's no JavaScript when you're using Adaptive cards, there's no way to call `tasks.submitTask()`.</span></span> <span data-ttu-id="f1959-163">Au lieu de cela, Teams l’objet et le renvoie en tant que charge utile de l’événement, `data` `Action.Submit` comme décrit `task/submit` [ici](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="f1959-163">Instead, Teams takes the `data` object from `Action.Submit` and returns it as the payload of in the `task/submit` event, as described [here](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> |
| <span data-ttu-id="f1959-164">**URL du lien profond**</span><span class="sxs-lookup"><span data-stu-id="f1959-164">**Deep link URL**</span></span> <br/>[<span data-ttu-id="f1959-165">Syntaxe d'URL</span><span class="sxs-lookup"><span data-stu-id="f1959-165">URL syntax</span></span>](#task-module-deep-link-syntax) | <span data-ttu-id="f1959-166">1. Teams appelle le module de tâche ; URL qui apparaît à l’intérieur `<iframe>` de la valeur spécifiée dans le paramètre `url` du lien profond.</span><span class="sxs-lookup"><span data-stu-id="f1959-166">1. Teams invokes the task module; the URL that appears inside the `<iframe>` specified in the `url` parameter of the deep link.</span></span> <span data-ttu-id="f1959-167">Il n’y `submitHandler` a pas de rappel.</span><span class="sxs-lookup"><span data-stu-id="f1959-167">There is no `submitHandler` callback.</span></span> <br/><br/> <span data-ttu-id="f1959-168">2. Dans le JavaScript de la page dans le module de tâche, appelez pour le fermer avec un objet en tant que paramètre, comme lors de l’appel à partir d’un onglet ou d’un bouton de carte `tasks.submitTask()` `result` bot.</span><span class="sxs-lookup"><span data-stu-id="f1959-168">2. Within the JavaScript of the page in the task module, call `tasks.submitTask()` to close it with a `result` object as a parameter, the same as when invoking it from a tab or a bot card button.</span></span> <span data-ttu-id="f1959-169">La logique d’achèvement est toutefois légèrement différente.</span><span class="sxs-lookup"><span data-stu-id="f1959-169">Completion logic is slightly different, however.</span></span> <span data-ttu-id="f1959-170">Si votre logique d’achèvement réside sur le client (c’est-à-dire, s’il n’y a pas de bot), il n’y a pas de rappel, de sorte que toute logique d’achèvement doit se trouver dans le code précédant l’appel vers `submitHandler` `tasks.submitTask()` .</span><span class="sxs-lookup"><span data-stu-id="f1959-170">If your completion logic resides on the client (i.e. if there is no bot) there is no `submitHandler` callback, so any completion logic must be in the code preceding the call to `tasks.submitTask()`.</span></span> <span data-ttu-id="f1959-171">Les erreurs d’appel sont uniquement signalées via la console.</span><span class="sxs-lookup"><span data-stu-id="f1959-171">Invocation errors are only reported via the console.</span></span> <span data-ttu-id="f1959-172">Si vous avez un bot, vous pouvez spécifier un paramètre dans le lien profond pour envoyer l’objet `completionBotId` `result` via un `task/submit` événement.</span><span class="sxs-lookup"><span data-stu-id="f1959-172">If you have a bot, then you can specify a `completionBotId` parameter in the deep link to send the `result` object via a `task/submit` event.</span></span> | <span data-ttu-id="f1959-173">1. Teams appelle le module de tâche ; Le corps de la carte JSON de la carte adaptative est spécifié en tant que valeur codée URL du paramètre `card` du lien profond.</span><span class="sxs-lookup"><span data-stu-id="f1959-173">1. Teams invokes the task module; the JSON card body of the Adaptive card is specified as a URL-encoded value of the `card` parameter of the deep link.</span></span> <br/><br/> <span data-ttu-id="f1959-174">2. L’utilisateur ferme le module de tâche en cliquant sur le X en haut à droite du module de tâche ou en appuyant sur un bouton `Action.Submit` de la carte.</span><span class="sxs-lookup"><span data-stu-id="f1959-174">2. The user closes the task module by clicking on the X at the upper right of the task module or by pressing an `Action.Submit` button on the card.</span></span> <span data-ttu-id="f1959-175">Étant donné qu’il n’y a pas d’appel, vous devez avoir un bot pour envoyer la valeur des champs de `submitHandler` carte adaptative.</span><span class="sxs-lookup"><span data-stu-id="f1959-175">Since there is no `submitHandler` to call, you must have a bot to send the value of the Adaptive card fields to.</span></span> <span data-ttu-id="f1959-176">Vous utilisez le paramètre dans le lien profond pour spécifier le bot vers qui envoyer les `completionBotId` données via un `task/submit invoke` événement.</span><span class="sxs-lookup"><span data-stu-id="f1959-176">You use the `completionBotId` parameter in the deep link to specify the bot to send the data to via a `task/submit invoke` event.</span></span> |

## <a name="the-taskinfo-object"></a><span data-ttu-id="f1959-177">Objet TaskInfo</span><span class="sxs-lookup"><span data-stu-id="f1959-177">The TaskInfo object</span></span>

<span data-ttu-id="f1959-178">`TaskInfo`L’objet contient les métadonnées d’un module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-178">The `TaskInfo` object contains the metadata for a task module.</span></span> <span data-ttu-id="f1959-179">La définition d’objet est ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f1959-179">The object definition is below.</span></span> <span data-ttu-id="f1959-180">Vous **devez** définir soit `url` (pour un iFrame incorporé) soit `card` (pour une carte adaptative).</span><span class="sxs-lookup"><span data-stu-id="f1959-180">You **must** define either `url` (for an embedded iFrame) or `card` (for an Adaptive Card).</span></span>

| <span data-ttu-id="f1959-181">Attribut</span><span class="sxs-lookup"><span data-stu-id="f1959-181">Attribute</span></span> | <span data-ttu-id="f1959-182">Type</span><span class="sxs-lookup"><span data-stu-id="f1959-182">Type</span></span> | <span data-ttu-id="f1959-183">Description</span><span class="sxs-lookup"><span data-stu-id="f1959-183">Description</span></span> |
| --- | --- | --- |
| `title` | <span data-ttu-id="f1959-184">string</span><span class="sxs-lookup"><span data-stu-id="f1959-184">string</span></span> | <span data-ttu-id="f1959-185">Apparaît sous le nom de l’application et à droite de l’icône de l’application</span><span class="sxs-lookup"><span data-stu-id="f1959-185">Appears below the app name and to the right of the app icon</span></span> |
| `height` | <span data-ttu-id="f1959-186">valeur numérique ou chaîne</span><span class="sxs-lookup"><span data-stu-id="f1959-186">number or string</span></span> | <span data-ttu-id="f1959-187">Il peut s’agit d’un nombre représentant la hauteur du module de tâche en pixels, `small` ou `medium` , ou `large` .</span><span class="sxs-lookup"><span data-stu-id="f1959-187">This can be a number representing the task module's height in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="f1959-188">[Voir ci-dessous comment la hauteur et la largeur sont gérées.](#task-module-sizing)</span><span class="sxs-lookup"><span data-stu-id="f1959-188">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `width` | <span data-ttu-id="f1959-189">valeur numérique ou chaîne</span><span class="sxs-lookup"><span data-stu-id="f1959-189">number or string</span></span> | <span data-ttu-id="f1959-190">Il peut s’agit d’un nombre représentant la largeur du module de tâche en pixels, `small` ou `medium` , ou `large` .</span><span class="sxs-lookup"><span data-stu-id="f1959-190">This can be a number representing the task module's width in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="f1959-191">[Voir ci-dessous comment la hauteur et la largeur sont gérées.](#task-module-sizing)</span><span class="sxs-lookup"><span data-stu-id="f1959-191">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `url` | <span data-ttu-id="f1959-192">string</span><span class="sxs-lookup"><span data-stu-id="f1959-192">string</span></span> | <span data-ttu-id="f1959-193">URL de la page chargée en tant qu’url `<iframe>` à l’intérieur du module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-193">The URL of the page loaded as an `<iframe>` inside the task module.</span></span> <span data-ttu-id="f1959-194">Le domaine de l’URL doit se trouver dans le tableau [validDomains](~/resources/schema/manifest-schema.md#validdomains) de l’application dans le manifeste de votre application.</span><span class="sxs-lookup"><span data-stu-id="f1959-194">The URL's domain must be in the app's [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in your app's manifest.</span></span> |
| `card` | <span data-ttu-id="f1959-195">Carte adaptative ou pièce jointe d’une carte de bot de carte adaptative</span><span class="sxs-lookup"><span data-stu-id="f1959-195">Adaptive card or an Adaptive card bot card attachment</span></span> | <span data-ttu-id="f1959-196">JSON de la carte adaptative à apparaître dans le module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-196">The JSON for the Adaptive card to appear in the task module.</span></span> <span data-ttu-id="f1959-197">Si vous voquer à partir d’un bot, vous devez utiliser la carte adaptative JSON dans un objet Bot `attachment` Framework.</span><span class="sxs-lookup"><span data-stu-id="f1959-197">If you're invoking from a bot, you'll need to use the Adaptive card JSON in a Bot Framework `attachment` object.</span></span> <span data-ttu-id="f1959-198">À partir d’un onglet, vous n’utiliserez qu’une carte adaptative.</span><span class="sxs-lookup"><span data-stu-id="f1959-198">From a tab you'll use just an Adaptive Card.</span></span> [<span data-ttu-id="f1959-199">Voici un exemple.</span><span class="sxs-lookup"><span data-stu-id="f1959-199">Here's an example.</span></span>](#adaptive-card-or-adaptive-card-bot-card-attachment) |
| `fallbackUrl` | <span data-ttu-id="f1959-200">string</span><span class="sxs-lookup"><span data-stu-id="f1959-200">string</span></span> | <span data-ttu-id="f1959-201">Si un client ne prend pas en charge la fonctionnalité de module de tâche, cette URL est ouverte dans un onglet de navigateur.</span><span class="sxs-lookup"><span data-stu-id="f1959-201">If a client does not support the task module feature, this URL is opened in a browser tab.</span></span> |
| `completionBotId` | <span data-ttu-id="f1959-202">string</span><span class="sxs-lookup"><span data-stu-id="f1959-202">string</span></span> | <span data-ttu-id="f1959-203">Spécifie un ID d’application de bot vers qui envoyer le résultat de l’interaction de l’utilisateur avec le module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-203">Specifies a bot App ID to send the result of the user's interaction with the task module to.</span></span> <span data-ttu-id="f1959-204">S’il est spécifié, le bot reçoit un événement avec un objet `task/submit invoke` JSON dans la charge utile de l’événement.</span><span class="sxs-lookup"><span data-stu-id="f1959-204">If specified, the bot will receive a `task/submit invoke` event with a JSON object in the event payload.</span></span> |

> [!NOTE]
> <span data-ttu-id="f1959-205">La fonctionnalité de module de tâche nécessite que les domaines des URL que vous souhaitez charger soient inclus dans le tableau dans le manifeste `validDomains` de votre application.</span><span class="sxs-lookup"><span data-stu-id="f1959-205">The task module feature requires that the domains of any URLs you want to load are included in the `validDomains` array in your app's manifest.</span></span>

## <a name="task-module-sizing"></a><span data-ttu-id="f1959-206">Resserrage du module de tâche</span><span class="sxs-lookup"><span data-stu-id="f1959-206">Task module sizing</span></span>

<span data-ttu-id="f1959-207">À l’aide d’nombres integers `TaskInfo.width` pour et `TaskInfo.height` définira la hauteur et la largeur en pixels.</span><span class="sxs-lookup"><span data-stu-id="f1959-207">Using integers for `TaskInfo.width` and `TaskInfo.height` will set the height and width in pixels.</span></span> <span data-ttu-id="f1959-208">Toutefois, en fonction de la taille de la fenêtre et de la résolution de l’écran de l’équipe, elles seront réduites proportionnellement tout en conservant les proportions (largeur/hauteur).</span><span class="sxs-lookup"><span data-stu-id="f1959-208">However, depending on the size of the Team's window and screen resolution they will be reduced proportionally while maintaining the aspect ratio (width/height).</span></span>

<span data-ttu-id="f1959-209">Si et sont , ou la taille du rectangle rouge dans l’image ci-dessus est une proportion de l’espace disponible `TaskInfo.width` `TaskInfo.height` : `"small"` `"medium"` `"large"` 20 %, 50 %, 60 % pour et `width` 20 %, 50 %, 66 % pour `height` .</span><span class="sxs-lookup"><span data-stu-id="f1959-209">If `TaskInfo.width` and `TaskInfo.height` are `"small"`, `"medium"` or `"large"` the size of the red rectangle in the picture above is a proportion of the available space: 20%, 50%, 60% for `width` and 20%, 50%, 66% for `height`.</span></span>

<span data-ttu-id="f1959-210">Les modules de tâche appelés à partir d’un onglet peuvent être resserrisés dynamiquement.</span><span class="sxs-lookup"><span data-stu-id="f1959-210">Task modules invoked from a tab can be dynamically resized.</span></span> <span data-ttu-id="f1959-211">Après avoir appelé, vous pouvez appeler l’endroit où les propriétés de hauteur et de largeur de l’objet newSize sont conformes aux `tasks.startTask()` `tasks.updateTask(newSize)` spécifications TaskInfo (par exemple.</span><span class="sxs-lookup"><span data-stu-id="f1959-211">After calling `tasks.startTask()` you can call `tasks.updateTask(newSize)` where height and width properties on the newSize object conform to the TaskInfo spec (ex.</span></span> <span data-ttu-id="f1959-212">`{ height: 'medium', width: 'medium' }`).</span><span class="sxs-lookup"><span data-stu-id="f1959-212">`{ height: 'medium', width: 'medium' }`).</span></span>

## <a name="task-module-css-for-htmljavascript-task-modules"></a><span data-ttu-id="f1959-213">Module de tâche CSS pour les modules de tâche HTML/JavaScript</span><span class="sxs-lookup"><span data-stu-id="f1959-213">Task module CSS for HTML/JavaScript task modules</span></span>

<span data-ttu-id="f1959-214">Les modules de tâche HTML/JavaScript ont accès à toute la zone du module de tâche sous l’en-tête.</span><span class="sxs-lookup"><span data-stu-id="f1959-214">HTML/JavaScript-based task modules have access to the entire area of the task module below the header.</span></span> <span data-ttu-id="f1959-215">Bien que cela offre beaucoup de flexibilité, si vous souhaitez que l’espacement autour des bords s’aligne sur les éléments d’en-tête et évite les barres de défilement inutiles, vous devez fournir le bon CSS.</span><span class="sxs-lookup"><span data-stu-id="f1959-215">While that offers a great deal of flexibility, if you want padding around the edges to align with the header elements and avoid unnecessary scrollbars you'll need to provide the right CSS.</span></span> <span data-ttu-id="f1959-216">Voici quelques exemples pour quelques cas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="f1959-216">Here are some examples for a few use cases.</span></span>

### <a name="example-1---youtube-video"></a><span data-ttu-id="f1959-217">Exemple 1 - Vidéo YouTube</span><span class="sxs-lookup"><span data-stu-id="f1959-217">Example 1 - YouTube video</span></span>

<span data-ttu-id="f1959-218">YouTube offre la possibilité d’incorporer des vidéos sur des pages web.</span><span class="sxs-lookup"><span data-stu-id="f1959-218">YouTube offers the ability to embed videos on web pages.</span></span> <span data-ttu-id="f1959-219">À l’aide d’une page web stub simple, il est facile de l’afficher dans un module de tâche :</span><span class="sxs-lookup"><span data-stu-id="f1959-219">Using a simple stub web page it's easy to show this in a task module:</span></span>

![Vidéo YouTube](~/assets/images/task-module/youtube-example.png)

<span data-ttu-id="f1959-221">Voici le code HTML de cette page, sans CSS :</span><span class="sxs-lookup"><span data-stu-id="f1959-221">Here's the HTML for this page, without the CSS:</span></span>

```html
<!DOCTYPE html>
<html lang="en">
<head>
  ⋮
</head>
<body>
  <div id="embed-container">
    <iframe width="1000" height="700" src="https://www.youtube.com/embed/rd0Rd8w3FZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
  </div>
</body>
</html>
```

<span data-ttu-id="f1959-222">Le CSS ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="f1959-222">The CSS looks like this:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 95%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

### <a name="example-2---powerapp"></a><span data-ttu-id="f1959-223">Exemple 2 - PowerApp</span><span class="sxs-lookup"><span data-stu-id="f1959-223">Example 2 - PowerApp</span></span>

<span data-ttu-id="f1959-224">Vous pouvez également utiliser la même approche pour incorporer un PowerApp.</span><span class="sxs-lookup"><span data-stu-id="f1959-224">You can use the same approach to embed a PowerApp as well.</span></span> <span data-ttu-id="f1959-225">Comme la hauteur/largeur d’un PowerApp individuel est personnalisable, vous devrez peut-être ajuster la hauteur et la largeur pour obtenir la présentation souhaitée.</span><span class="sxs-lookup"><span data-stu-id="f1959-225">As the height/width of any individual PowerApp is customizable, you may need to adjust the height and width to achieve your desired presentation.</span></span>

![PowerApp de gestion des biens](~/assets/images/task-module/powerapp-example.png)

```html
<iframe width="720" height="520" src="https://web.powerapps.com/webplayer/iframeapp?source=iframe&screenColor=rgba(104,101,171,1)&appId=/providers/Microsoft.PowerApps/apps/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></iframe>
```

<span data-ttu-id="f1959-227">Et le CSS est :</span><span class="sxs-lookup"><span data-stu-id="f1959-227">And the CSS is:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 94%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

## <a name="adaptive-card-or-adaptive-card-bot-card-attachment"></a><span data-ttu-id="f1959-228">Pièce jointe de carte adaptative ou de carte adaptative bot</span><span class="sxs-lookup"><span data-stu-id="f1959-228">Adaptive card or Adaptive card bot card attachment</span></span>

<span data-ttu-id="f1959-229">Comme nous l’avons indiqué ci-dessus, selon la façon dont vous voquerez votre carte adaptative, vous devrez utiliser une carte adaptative ou une pièce jointe de carte de bot de carte adaptative (qui est simplement une carte adaptative wrapped dans un objet pièce `card` jointe).</span><span class="sxs-lookup"><span data-stu-id="f1959-229">As we noted above, depending on how you're invoking your `card` you'll need to use either an Adaptive card, or an Adaptive card bot card attachment (which is just an Adaptive card wrapped in an attachment object).</span></span>

<span data-ttu-id="f1959-230">Lorsque vous voquer à partir d’un onglet, vous devez utiliser une carte adaptative.</span><span class="sxs-lookup"><span data-stu-id="f1959-230">When you're invoking from a tab, you'll need to use an adaptive card.</span></span> <span data-ttu-id="f1959-231">Voici un exemple très simple :</span><span class="sxs-lookup"><span data-stu-id="f1959-231">Here's a very simple example:</span></span>

```json
{
    "type": "AdaptiveCard",
    "body": [
        {
            "type": "TextBlock",
            "text": "Here is a ninja cat:"
        },
        {
            "type": "Image",
            "url": "http://adaptivecards.io/content/cats/1.png",
            "size": "Medium"
        }
    ],
    "version": "1.0"
}
```

<span data-ttu-id="f1959-232">Lorsque vous voquer à partir d’un bot, vous devez utiliser une pièce jointe de carte de bot de carte adaptative, comme dans l’exemple ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="f1959-232">When you're invoking from a bot you'll need to use an Adaptive card bot card attachment as in the example below:</span></span>

```json
{
    "contentType": "application/vnd.microsoft.card.adaptive",
    "content": {
        "type": "AdaptiveCard",
        "body": [
            {
                "type": "TextBlock",
                "text": "Here is a ninja cat:"
            },
            {
                "type": "Image",
                "url": "http://adaptivecards.io/content/cats/1.png",
                "size": "Medium"
            }
        ],
        "version": "1.0"
    }
}
```

<span data-ttu-id="f1959-233">Vous devez vous souvenir si vous voquer un module de tâche contenant une carte adaptative à partir d’un bot ou d’un onglet.</span><span class="sxs-lookup"><span data-stu-id="f1959-233">You'll need to remember whether you are invoking a task module containing an Adaptive card from a bot or a tab.</span></span>

## <a name="task-module-deep-link-syntax"></a><span data-ttu-id="f1959-234">Syntaxe de lien profond du module de tâche</span><span class="sxs-lookup"><span data-stu-id="f1959-234">Task module deep link syntax</span></span>

<span data-ttu-id="f1959-235">Un lien profond de module de tâche est simplement une sérialisation de l’objet [TaskInfo](#the-taskinfo-object) avec deux autres éléments d’informations, et éventuellement les éléments `APP_ID` suivants `BOT_APP_ID` :</span><span class="sxs-lookup"><span data-stu-id="f1959-235">A task module deep link is just a serialization of the [TaskInfo object](#the-taskinfo-object) with two other pieces of information, `APP_ID` and optionally the `BOT_APP_ID`:</span></span>

`https://teams.microsoft.com/l/task/APP_ID?url=<TaskInfo.url>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

`https://teams.microsoft.com/l/task/APP_ID?card=<TaskInfo.card>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

<span data-ttu-id="f1959-236">Voir [l’objet TaskInfo](#the-taskinfo-object) pour les types de données et les valeurs permises pour `<TaskInfo.url>` , , et `<TaskInfo.card>` `<TaskInfo.height>` `<TaskInfo.width>` `<TaskInfo.title>` .</span><span class="sxs-lookup"><span data-stu-id="f1959-236">See [TaskInfo object](#the-taskinfo-object) for the data types and allowable values for `<TaskInfo.url>`, `<TaskInfo.card>`, `<TaskInfo.height>`, `<TaskInfo.width>`, and `<TaskInfo.title>`.</span></span>

> [!TIP]
> <span data-ttu-id="f1959-237">Assurez-vous d’encoder l’URL du lien profond, en particulier lorsque vous utilisez le paramètre (par exemple, la fonction `card` JavaScript). [ `encodeURI()` ](https://www.w3schools.com/jsref/jsref_encodeURI.asp)</span><span class="sxs-lookup"><span data-stu-id="f1959-237">Be sure to URL encode the deep link, especially when using the `card` parameter (for example, JavaScript's [`encodeURI()` function](https://www.w3schools.com/jsref/jsref_encodeURI.asp)).</span></span>

<span data-ttu-id="f1959-238">Voici les informations sur `APP_ID` et `BOT_APP_ID` :</span><span class="sxs-lookup"><span data-stu-id="f1959-238">Here's the information on `APP_ID` and `BOT_APP_ID`:</span></span>

| <span data-ttu-id="f1959-239">Valeur</span><span class="sxs-lookup"><span data-stu-id="f1959-239">Value</span></span> | <span data-ttu-id="f1959-240">Type</span><span class="sxs-lookup"><span data-stu-id="f1959-240">Type</span></span> | <span data-ttu-id="f1959-241">Obligatoire ?</span><span class="sxs-lookup"><span data-stu-id="f1959-241">Required?</span></span> | <span data-ttu-id="f1959-242">Description</span><span class="sxs-lookup"><span data-stu-id="f1959-242">Description</span></span> |
| --- | --- | --- | --- |
| `APP_ID` | <span data-ttu-id="f1959-243">string</span><span class="sxs-lookup"><span data-stu-id="f1959-243">string</span></span> | <span data-ttu-id="f1959-244">Oui</span><span class="sxs-lookup"><span data-stu-id="f1959-244">Yes</span></span> | <span data-ttu-id="f1959-245">ID [de l’application](~/resources/schema/manifest-schema.md#id) qui invoquer le module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-245">The [id](~/resources/schema/manifest-schema.md#id) of the app invoking the task module.</span></span> <span data-ttu-id="f1959-246">Le [tableau validDomains dans](~/resources/schema/manifest-schema.md#validdomains) le manifeste doit contenir le domaine pour si se trouve dans `APP_ID` `url` `url` l’URL.</span><span class="sxs-lookup"><span data-stu-id="f1959-246">The [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in the manifest for `APP_ID` must contain the domain for `url` if `url` is in the URL.</span></span> <span data-ttu-id="f1959-247">(L’ID d’application est déjà connu lorsqu’un module de tâche est appelé à partir d’un onglet ou d’un bot, c’est pourquoi il n’est pas inclus `TaskInfo` dans .)</span><span class="sxs-lookup"><span data-stu-id="f1959-247">(The app ID is already known when a task module is invoked from a tab or a bot, which is why it's not included in `TaskInfo`.)</span></span> |
| `BOT_APP_ID` | <span data-ttu-id="f1959-248">string</span><span class="sxs-lookup"><span data-stu-id="f1959-248">string</span></span> | <span data-ttu-id="f1959-249">Non</span><span class="sxs-lookup"><span data-stu-id="f1959-249">No</span></span> | <span data-ttu-id="f1959-250">Si une valeur `completionBotId` est spécifiée, l’objet est envoyé via un message au `result` bot `task/submit invoke` spécifié.</span><span class="sxs-lookup"><span data-stu-id="f1959-250">If a value for `completionBotId` is specified, the `result` object is sent via a a `task/submit invoke` message to the specified bot.</span></span> <span data-ttu-id="f1959-251">`BOT_APP_ID` doit être spécifié en tant que bot dans le manifeste de l’application, c’est-à-dire que vous ne pouvez pas simplement l’envoyer à un bot.</span><span class="sxs-lookup"><span data-stu-id="f1959-251">`BOT_APP_ID` must be specified as a bot in the app's manifest, i.e. you can't just send it to any bot.</span></span> |

<span data-ttu-id="f1959-252">Notez qu’il est valide pour et doit être identique, et dans de nombreux cas, si une application possède un bot, car il est recommandé de `APP_ID` `BOT_APP_ID` l’utiliser comme ID d’application s’il en existe un.</span><span class="sxs-lookup"><span data-stu-id="f1959-252">Note that it's valid for `APP_ID` and `BOT_APP_ID` to be the same, and in many cases will be if an app has a bot since it's recommended to use that as an app's ID if there is one.</span></span>

## <a name="keyboard-and-accessibility-guidelines"></a><span data-ttu-id="f1959-253">Recommandations en matière de clavier et d’accessibilité</span><span class="sxs-lookup"><span data-stu-id="f1959-253">Keyboard and accessibility guidelines</span></span>

<span data-ttu-id="f1959-254">Avec les modules de tâche HTML/JavaScript, il est de votre responsabilité de vous assurer que le module de tâche de votre application peut être utilisé avec un clavier.</span><span class="sxs-lookup"><span data-stu-id="f1959-254">With HTML/JavaScript-based task modules it is your responsibility to ensure your app's task module can be used with a keyboard.</span></span> <span data-ttu-id="f1959-255">Les programmes de lecteur d’écran dépendent également de la possibilité de naviguer à l’aide du clavier.</span><span class="sxs-lookup"><span data-stu-id="f1959-255">Screen reader programs also depend on the ability to navigate using the keyboard.</span></span> <span data-ttu-id="f1959-256">En pratique, cela signifie deux choses :</span><span class="sxs-lookup"><span data-stu-id="f1959-256">As a practical matter this means two things:</span></span>

1. <span data-ttu-id="f1959-257">Utilisation de l’attribut [tabindex](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) dans vos balises HTML pour contrôler les éléments qui peuvent être focusés et si/où il participe à la navigation séquentielle au clavier (généralement avec les touches <kbd>Tab</kbd> et <kbd>Shift-Tab).</kbd></span><span class="sxs-lookup"><span data-stu-id="f1959-257">Using the [tabindex attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) in your HTML tags to control which elements can be focused and if/where it participates in sequential keyboard navigation (usually with the <kbd>Tab</kbd> and <kbd>Shift-Tab</kbd> keys).</span></span>
2. <span data-ttu-id="f1959-258">Gestion de la <kbd>touche Échap</kbd> dans javaScript pour votre module de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-258">Handling the <kbd>Esc</kbd> key in the JavaScript for your task module.</span></span> <span data-ttu-id="f1959-259">Voici un exemple de code montrant comment faire :</span><span class="sxs-lookup"><span data-stu-id="f1959-259">Here's a code sample showing how to do this:</span></span>

  ```javascript
  // Handle the Esc key
  document.onkeyup = function(event) {
  if ((event.key === 27) || (event.key === "Escape")) {
    microsoftTeams.submitTask(null); // this will return an err object to the completionHandler()
    }
  }
  ```

<span data-ttu-id="f1959-260">Microsoft Teams vous assurer que la navigation au clavier fonctionne correctement à partir de l’en-tête du module de tâche dans votre code HTML et inversement.</span><span class="sxs-lookup"><span data-stu-id="f1959-260">Microsoft Teams will ensure that keyboard navigation works properly from the task module header into your HTML and vice-versa.</span></span>

## <a name="code-sample"></a><span data-ttu-id="f1959-261">Exemple de code</span><span class="sxs-lookup"><span data-stu-id="f1959-261">Code sample</span></span>
|<span data-ttu-id="f1959-262">**Exemple de nom**</span><span class="sxs-lookup"><span data-stu-id="f1959-262">**Sample name**</span></span> | <span data-ttu-id="f1959-263">**Description**</span><span class="sxs-lookup"><span data-stu-id="f1959-263">**Description**</span></span> | <span data-ttu-id="f1959-264">**.NET**</span><span class="sxs-lookup"><span data-stu-id="f1959-264">**.NET**</span></span> | <span data-ttu-id="f1959-265">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="f1959-265">**Node.js**</span></span>|
|----------------|-----------------|--------------|----------------|
|<span data-ttu-id="f1959-266">Exemple de module de tâche (Bots-V4)</span><span class="sxs-lookup"><span data-stu-id="f1959-266">Task module sample (Bots-V4)</span></span> | <span data-ttu-id="f1959-267">Exemples de création de modules de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-267">Samples for creating task modules.</span></span> |[<span data-ttu-id="f1959-268">View</span><span class="sxs-lookup"><span data-stu-id="f1959-268">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/csharp)|[<span data-ttu-id="f1959-269">View</span><span class="sxs-lookup"><span data-stu-id="f1959-269">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/nodejs)| 
|<span data-ttu-id="f1959-270">Exemple de module de tâche (Onglets + Bots-V3)</span><span class="sxs-lookup"><span data-stu-id="f1959-270">Task module sample (Tabs + Bots-V3)</span></span> | <span data-ttu-id="f1959-271">Exemples de création de modules de tâche.</span><span class="sxs-lookup"><span data-stu-id="f1959-271">Samples for creating task modules.</span></span> |[<span data-ttu-id="f1959-272">View</span><span class="sxs-lookup"><span data-stu-id="f1959-272">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/csharp_dotnetcore/54.teams-task-module)|[<span data-ttu-id="f1959-273">View</span><span class="sxs-lookup"><span data-stu-id="f1959-273">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/javascript_nodejs/54.teams-task-module)|



> [!div class="nextstepaction"]
> [<span data-ttu-id="f1959-274">En savoir plus : Demander des autorisations d’appareil</span><span class="sxs-lookup"><span data-stu-id="f1959-274">Learn  more: Request device permissions</span></span>](../concepts/device-capabilities/native-device-permissions.md)

> [!div class="nextstepaction"]
> [<span data-ttu-id="f1959-275">En savoir plus : intégrer des fonctionnalités multimédias</span><span class="sxs-lookup"><span data-stu-id="f1959-275">Learn more: Integrate media capabilities</span></span>](../concepts/device-capabilities/mobile-camera-image-permissions.md)

> [!div class="nextstepaction"]
> [<span data-ttu-id="f1959-276">En savoir plus : intégrer la fonctionnalité de QR ou de scanneur de code-barres dans Teams</span><span class="sxs-lookup"><span data-stu-id="f1959-276">Learn more: Integrate QR or barcode scanner capability in Teams</span></span>](../concepts/device-capabilities/qr-barcode-scanner-capability.md)

> [!div class="nextstepaction"]
> [<span data-ttu-id="f1959-277">En savoir plus : intégrer des fonctionnalités d’emplacement dans Teams</span><span class="sxs-lookup"><span data-stu-id="f1959-277">Learn more: Integrate location capabilities in Teams</span></span>](../concepts/device-capabilities/location-capability.md)
