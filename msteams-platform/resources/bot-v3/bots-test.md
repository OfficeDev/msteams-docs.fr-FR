---
title: Testez et débogez votre bot
description: Décrit comment tester les bots dans Microsoft Teams
keywords: équipes bots test
ms.topic: how-to
localization_priority: Normal
ms.date: 03/20/2019
ms.openlocfilehash: 269b0680e45d764cf4cb0269c40d3d202145edb8
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566459"
---
# <a name="test-and-debug-your-microsoft-teams-bot"></a><span data-ttu-id="91f5b-104">Testez et débogez votre bot Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="91f5b-104">Test and debug your Microsoft Teams bot</span></span>

[!include[v3-to-v4-SDK-pointer](~/includes/v3-to-v4-pointer-bots.md)]

<span data-ttu-id="91f5b-105">Lors de l’essai de votre bot, vous devez prendre en considération à la fois le contexte (s) que vous souhaitez que votre bot s’exécute, ainsi que toutes les fonctionnalités que vous avez peut-être ajouté à votre bot qui nécessite des données spécifiques à Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91f5b-105">When testing your bot you need to take into consideration both the context(s) you want your bot to run in, as well as any functionality you may have added to your bot that requires data specific to Microsoft Teams.</span></span> <span data-ttu-id="91f5b-106">Assurez-vous que la méthode que vous avez choisie pour tester votre bot s’aligne sur ses fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="91f5b-106">Make sure that the method you chose to test your bot aligns with its functionality.</span></span>

## <a name="test-by-uploading-to-teams"></a><span data-ttu-id="91f5b-107">Testez en téléchargeant sur Teams</span><span class="sxs-lookup"><span data-stu-id="91f5b-107">Test by uploading to Teams</span></span>

<span data-ttu-id="91f5b-108">La façon la plus complète de tester votre bot est de créer un paquet d’applications et de le télécharger sur Teams.</span><span class="sxs-lookup"><span data-stu-id="91f5b-108">The most comprehensive way to test your bot is by creating an app package and uploading it to Teams.</span></span> <span data-ttu-id="91f5b-109">C’est la seule méthode pour tester toutes les fonctionnalités disponibles pour votre bot, dans toutes les étendues.</span><span class="sxs-lookup"><span data-stu-id="91f5b-109">This is the only method to test the full functionality available to your bot, across all scopes.</span></span>

<span data-ttu-id="91f5b-110">Il existe deux méthodes pour télécharger votre application.</span><span class="sxs-lookup"><span data-stu-id="91f5b-110">There are two methods for uploading your app.</span></span> <span data-ttu-id="91f5b-111">Vous pouvez soit utiliser [App Studio pour](~/concepts/build-and-test/app-studio-overview.md) vous aider, soit créer manuellement un package [d’application et](~/concepts/build-and-test/apps-package.md) télécharger votre [application.](~/concepts/deploy-and-publish/apps-upload.md)</span><span class="sxs-lookup"><span data-stu-id="91f5b-111">You can either use [App Studio](~/concepts/build-and-test/app-studio-overview.md) to help you, or you can manually [create an app package](~/concepts/build-and-test/apps-package.md) and [upload your app](~/concepts/deploy-and-publish/apps-upload.md).</span></span> <span data-ttu-id="91f5b-112">Si vous devez modifier votre manifeste et re-télécharger votre application, vous devez [supprimer votre bot avant](#deleting-a-bot-from-teams) de télécharger votre paquet d’application modifié.</span><span class="sxs-lookup"><span data-stu-id="91f5b-112">If you need to alter your manifest and re-upload your app, you should [delete your bot](#deleting-a-bot-from-teams) before uploading your altered app package.</span></span>

## <a name="debug-your-bot-locally"></a><span data-ttu-id="91f5b-113">Débogez votre bot localement</span><span class="sxs-lookup"><span data-stu-id="91f5b-113">Debug your bot locally</span></span>

<span data-ttu-id="91f5b-114">Si vous hébergez votre bot localement pendant le développement, vous devrez utiliser un service de tunnelage [comme ngrok](https://ngrok.com/) afin de tester votre bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-114">If you are hosting your bot locally during development you'll need to use a tunneling service like [ngrok](https://ngrok.com/) in order to test your bot.</span></span> <span data-ttu-id="91f5b-115">Une fois que vous avez téléchargé et installé ngrok, exécutez la commande ci-dessous pour démarrer le service de tunneling.</span><span class="sxs-lookup"><span data-stu-id="91f5b-115">Once you've downloaded and installed ngrok, run the below command to start the tunneling service.</span></span> <span data-ttu-id="91f5b-116">Vous devrez peut-être ajouter du ngrok à votre chemin.</span><span class="sxs-lookup"><span data-stu-id="91f5b-116">You may need to add ngrok to your path.</span></span>

```bash
ngrok http <port> -host-header=localhost:<port>
```

<span data-ttu-id="91f5b-117">Utilisez le point de terminaison https fourni par ngrok dans votre manifeste d’application.</span><span class="sxs-lookup"><span data-stu-id="91f5b-117">Use the https endpoint provided by ngrok in your app manifest.</span></span> <span data-ttu-id="91f5b-118">Si vous fermez votre fenêtre de commande et redémarrez, vous obtiendrez une nouvelle URL, et vous devrez mettre à jour votre adresse de point de terminaison bot pour l’utiliser également.</span><span class="sxs-lookup"><span data-stu-id="91f5b-118">If you close your command window and restart you'll get a new URL, and you'll need to update your bot endpoint address to use that one as well.</span></span>

## <a name="testing-your-bot-without-uploading-to-teams"></a><span data-ttu-id="91f5b-119">Testez votre bot sans le télécharger sur Teams</span><span class="sxs-lookup"><span data-stu-id="91f5b-119">Testing your bot without uploading to Teams</span></span>

<span data-ttu-id="91f5b-120">Parfois, il peut être nécessaire de tester votre bot sans l’installer comme une application dans Teams.</span><span class="sxs-lookup"><span data-stu-id="91f5b-120">Occasionally it may be necessary to test your bot without installing it as an app in Teams.</span></span> <span data-ttu-id="91f5b-121">Nous fournissons deux méthodes pour le faire ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="91f5b-121">We provide two methods for doing so below.</span></span> <span data-ttu-id="91f5b-122">Tester votre bot sans l’installer comme une application peut être utile pour s’assurer que votre bot est disponible et de répondre, mais il ne vous permettra pas de tester toute la gamme des fonctionnalités de Microsoft Teams que vous avez peut-être ajouté à votre bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-122">Testing your bot without installing it as an app can be useful to ensure your bot is available and responding, however it will not allow you to test the full breadth of Microsoft Teams functionality you may have added to your bot.</span></span> <span data-ttu-id="91f5b-123">Si vous avez besoin de tester entièrement votre bot, s’il vous plaît suivre les instructions [pour les tests en téléchargeant](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="91f5b-123">If you need to fully test your bot, please follow the instructions for [testing by uploading](#test-by-uploading-to-teams).</span></span>

### <a name="use-the-bot-emulator"></a><span data-ttu-id="91f5b-124">Utilisez l’émulateur Bot</span><span class="sxs-lookup"><span data-stu-id="91f5b-124">Use the Bot Emulator</span></span>

<span data-ttu-id="91f5b-125">Le Bot Framework Emulator une application de bureau qui permet aux développeurs de bots de tester et de déboger leurs bots, localement ou à distance.</span><span class="sxs-lookup"><span data-stu-id="91f5b-125">The Bot Framework Emulator is a desktop application that allows bot developers to test and debug their bots, either locally or remotely.</span></span> <span data-ttu-id="91f5b-126">À l’aide de l’émulateur, vous pouvez discuter avec votre bot et inspecter les messages que votre bot envoie et reçoit.</span><span class="sxs-lookup"><span data-stu-id="91f5b-126">Using the emulator, you can chat with your bot and inspect the messages that your bot sends and receives.</span></span> <span data-ttu-id="91f5b-127">Cela peut être utile pour vérifier que votre bot est disponible et de répondre, mais l’émulateur ne vous permettra pas de tester toutes les fonctionnalités spécifiques à Teams que vous avez ajouté à votre bot, ni les réponses de votre bot sera une représentation visuelle précise de la façon dont ils seront rendus en Teams.</span><span class="sxs-lookup"><span data-stu-id="91f5b-127">This can be useful for verifying that your bot is available and responding, however the emulator will not allow you to test any Teams-specific functionality you've added to your bot, nor will responses from your bot be an accurate visual representation of how they will be rendered in Teams.</span></span> <span data-ttu-id="91f5b-128">Si vous avez besoin de tester l’une ou l’autre de ces choses, il est préférable [de télécharger votre bot](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="91f5b-128">If you need to test either of those things it is best to [upload your bot](#test-by-uploading-to-teams).</span></span>

<span data-ttu-id="91f5b-129">Des instructions complètes sur Bot Framework Emulator peuvent être trouvées [ici](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true).</span><span class="sxs-lookup"><span data-stu-id="91f5b-129">Complete instructions on the Bot Framework Emulator can be found [here](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true).</span></span>

### <a name="talk-to-your-bot-directly-by-id"></a><span data-ttu-id="91f5b-130">Parlez directement à votre bot par Id</span><span class="sxs-lookup"><span data-stu-id="91f5b-130">Talk to your bot directly by Id</span></span>

>[!Important]
><span data-ttu-id="91f5b-131">Parler à votre bot par Id est destiné à des fins de test seulement.</span><span class="sxs-lookup"><span data-stu-id="91f5b-131">Talking to your bot by Id is intended for testing purposes only.</span></span>

<span data-ttu-id="91f5b-132">Vous pouvez également entamer une conversation avec votre bot en utilisant son Id. Deux méthodes pour ce faire sont données ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="91f5b-132">You can also initiate a conversation with your bot by using its Id. Two methods for doing so are given below.</span></span> <span data-ttu-id="91f5b-133">Lorsqu’un bot a été ajouté par l’une de ces méthodes, il ne sera pas adressable dans les conversations de canaux, et vous ne pouvez pas profiter d’autres fonctionnalités d’application Microsoft Teams comme les onglets ou les extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="91f5b-133">When a bot has been added through one of these methods it will not be addressable in channel conversations, and you cannot take advantage of other Microsoft Teams app capabilities like tabs or messaging extensions.</span></span>

1. <span data-ttu-id="91f5b-134">Sur la page [Bot Dashboard](https://dev.botframework.com/bots) pour votre bot, sous **Canaux,** sélectionnez **Ajouter à Microsoft Teams**.</span><span class="sxs-lookup"><span data-stu-id="91f5b-134">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Channels**, select **Add to Microsoft Teams**.</span></span> <span data-ttu-id="91f5b-135">Microsoft Teams lancera avec une conversation personnelle avec votre bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-135">Microsoft Teams will launch with a personal chat with your bot.</span></span>
2. <span data-ttu-id="91f5b-136">Référez directement l’iD de l’application de votre bot de Microsoft Teams :</span><span class="sxs-lookup"><span data-stu-id="91f5b-136">Directly reference your bot's app ID from within Microsoft Teams:</span></span>
   * <span data-ttu-id="91f5b-137">Sur la page [Bot Dashboard](https://dev.botframework.com/bots) pour votre bot, sous **Détails,** copiez l’IDENTIFIANT **Microsoft App** pour votre bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-137">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Details**, copy the **Microsoft App ID** for your bot.</span></span>
  
     ![Obtenir l’AppID pour le bot](~/assets/images/bots_appid_botframework.png)
  
   * <span data-ttu-id="91f5b-139">De l’Microsoft Teams, sur le **volet Chat,** sélectionnez l’icône **Ajouter le chat.**</span><span class="sxs-lookup"><span data-stu-id="91f5b-139">From within Microsoft Teams, on the **Chat** pane, select the **Add chat** icon.</span></span> <span data-ttu-id="91f5b-140">Pour **: ,** coller l’identifiant microsoft app de votre bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-140">For **To:**, paste your bot's Microsoft App ID.</span></span>
  
     ![Téléchargement de l’AppID pour le bot](~/assets/images/bots_uploading.png)

     <span data-ttu-id="91f5b-142">L’ID de l’application doit se résoudre à votre nom de bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-142">The app ID should resolve to your bot name.</span></span>

   * <span data-ttu-id="91f5b-143">Sélectionnez votre bot et envoyez un message pour lancer une conversation.</span><span class="sxs-lookup"><span data-stu-id="91f5b-143">Select your bot and send a message to initiate a conversation.</span></span>
   * <span data-ttu-id="91f5b-144">Alternativement, vous pouvez coller l’iD de l’application de votre bot dans la boîte de recherche en haut à gauche Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91f5b-144">Alternatively, you can paste your bot's app ID in the search box in the top left in Microsoft Teams.</span></span> <span data-ttu-id="91f5b-145">Dans la page des résultats de recherche, accédez à l’onglet Personnes pour voir votre bot et commencer à discuter avec elle.</span><span class="sxs-lookup"><span data-stu-id="91f5b-145">In the search results page, navigate to the People tab to see your bot and to start chatting with it.</span></span>

<span data-ttu-id="91f5b-146">Votre bot recevra l’événement `conversationUpdate` tout comme les bots ajoutés à une équipe, mais sans les informations de l’équipe dans l’objet. `channelData`</span><span class="sxs-lookup"><span data-stu-id="91f5b-146">Your bot will receive the `conversationUpdate` event just like bots added to a team, but without the team information in the `channelData` object.</span></span>

## <a name="blocking-a-bot-in-personal-chat"></a><span data-ttu-id="91f5b-147">Blocage d’un bot dans le chat personnel</span><span class="sxs-lookup"><span data-stu-id="91f5b-147">Blocking a bot in personal chat</span></span>

<span data-ttu-id="91f5b-148">Notez que les utilisateurs peuvent choisir de bloquer votre bot d’envoyer des messages de chat personnel.</span><span class="sxs-lookup"><span data-stu-id="91f5b-148">Note that users can choose to block your bot from sending personal chat messages.</span></span> <span data-ttu-id="91f5b-149">Ils peuvent basculer cela en cliquant à droite sur votre bot dans le canal de chat et en **choisissant block bot conversation**.</span><span class="sxs-lookup"><span data-stu-id="91f5b-149">They may toggle this by right-clicking your bot in the chat channel and choosing **Block bot conversation**.</span></span> <span data-ttu-id="91f5b-150">Cela signifie que vos bots continueront d’envoyer des messages, mais l’utilisateur ne recevra pas ces messages.</span><span class="sxs-lookup"><span data-stu-id="91f5b-150">This means your bots will continue to send messages but the user will not receive those messages.</span></span>

![Blocage d’un bot](~/assets/images/bots/botdisable.png)

## <a name="removing-a-bot-from-a-team"></a><span data-ttu-id="91f5b-152">Retrait d’un bot d’une équipe</span><span class="sxs-lookup"><span data-stu-id="91f5b-152">Removing a bot from a team</span></span>

<span data-ttu-id="91f5b-153">Les utilisateurs peuvent supprimer le bot en choisissant l’icône poubelle sur la liste des bots dans la vue de leurs équipes.</span><span class="sxs-lookup"><span data-stu-id="91f5b-153">Users can delete the bot by choosing the trash-can icon on the bots list in their teams view.</span></span> <span data-ttu-id="91f5b-154">Notez que cela supprime uniquement le bot de l’utilisation de cette équipe; les utilisateurs individuels seront toujours en mesure d’interagir dans leur contexte personnel.</span><span class="sxs-lookup"><span data-stu-id="91f5b-154">Note that this only removes the bot from that team's use; individual users will still be able to interact in personal context.</span></span>

<span data-ttu-id="91f5b-155">Les bots dans leur contexte personnel ne peuvent pas être désactivés ou supprimés par un utilisateur, à moins de supprimer complètement le bot Teams.</span><span class="sxs-lookup"><span data-stu-id="91f5b-155">Bots in personal context cannot be disabled or removed by a user, short of completely removing the bot from Teams.</span></span>

## <a name="disabling-a-bot-in-teams"></a><span data-ttu-id="91f5b-156">Désactiver un bot dans Teams</span><span class="sxs-lookup"><span data-stu-id="91f5b-156">Disabling a bot in Teams</span></span>

<span data-ttu-id="91f5b-157">Pour empêcher votre bot de recevoir des messages, rendez-vous sur votre tableau de bord Bot et modifiez Microsoft Teams canal.</span><span class="sxs-lookup"><span data-stu-id="91f5b-157">To stop your bot receiving messages, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="91f5b-158">Effacer **l’option Activer** Microsoft Teams’achat.</span><span class="sxs-lookup"><span data-stu-id="91f5b-158">Clear the **Enable on Microsoft Teams** option.</span></span> <span data-ttu-id="91f5b-159">Cela empêche les utilisateurs d’interagir avec le bot, mais il sera toujours détectable et les utilisateurs seront toujours en mesure de l’ajouter aux équipes.</span><span class="sxs-lookup"><span data-stu-id="91f5b-159">This prevents users from interacting with the bot, but it will still be discoverable and users will still be able to add it to teams.</span></span>

## <a name="deleting-a-bot-from-teams"></a><span data-ttu-id="91f5b-160">Suppression d’un bot de Teams</span><span class="sxs-lookup"><span data-stu-id="91f5b-160">Deleting a bot from Teams</span></span>

<span data-ttu-id="91f5b-161">Pour supprimer complètement votre bot de votre Teams, rendez-vous sur votre tableau de bord Bot et modifiez le canal Microsoft Teams’eau.</span><span class="sxs-lookup"><span data-stu-id="91f5b-161">To remove your bot completely from Teams, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="91f5b-162">Choisissez le **bouton** Supprimer en bas.</span><span class="sxs-lookup"><span data-stu-id="91f5b-162">Choose the **Delete** button at the bottom.</span></span> <span data-ttu-id="91f5b-163">Cela empêche les utilisateurs de découvrir, d’ajouter ou d’interagir avec votre bot.</span><span class="sxs-lookup"><span data-stu-id="91f5b-163">This prevents users from discovering, adding, or interacting with your bot.</span></span> <span data-ttu-id="91f5b-164">Notez que cela ne supprime pas le bot des instances d’Teams utilisateurs, bien qu’il cesse de fonctionner pour eux aussi.</span><span class="sxs-lookup"><span data-stu-id="91f5b-164">Note that this does not remove the bot from other users' Teams instances, although it will cease functioning for them as well.</span></span>

## <a name="removing-your-bot-from-appsource"></a><span data-ttu-id="91f5b-165">Suppression de votre bot d’AppSource</span><span class="sxs-lookup"><span data-stu-id="91f5b-165">Removing your bot from AppSource</span></span>

<span data-ttu-id="91f5b-166">Si vous souhaitez supprimer votre bot de votre application Teams dans AppSource (précédemment Office Store), vous devez supprimer le bot de votre manifeste d’application et soumettre à nouveau votre application pour validation.</span><span class="sxs-lookup"><span data-stu-id="91f5b-166">If you want to remove your bot from your Teams app in AppSource (previously Office Store), you must remove the bot from your app manifest and resubmit your app for validation.</span></span> <span data-ttu-id="91f5b-167">Pour plus d’informations, [consultez l’application Microsoft Teams votre application à AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span><span class="sxs-lookup"><span data-stu-id="91f5b-167">For more information, see [Publish your Microsoft Teams app to AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span></span>
