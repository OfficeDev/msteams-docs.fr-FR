---
title: Créer un bot dans Microsoft Teams
author: clearab
description: Comment créer un bot pour Microsoft Teams à l’aide de App Studio, Yeoman Generator et d’autres outils.
ms.topic: conceptual
localization_priority: Priority
ms.author: anclear
ms.openlocfilehash: 03196c32e5e1a4b2714a4c916a71c80fc10a5edc
ms.sourcegitcommit: 1aa0b172931d0f81db346452788c41dc4a6717b9
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/22/2020
ms.locfileid: "48209829"
---
# <a name="create-a-bot-for-microsoft-teams"></a><span data-ttu-id="763fb-103">Créer un bot dans Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="763fb-103">Create a bot for Microsoft Teams</span></span>

<span data-ttu-id="763fb-104">Pour créer un bot de conversation, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="763fb-104">You'll need to complete the following steps to create a conversational bot:</span></span>

1. <span data-ttu-id="763fb-105">Préparez votre environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="763fb-105">Prepare your development environment.</span></span>
1. <span data-ttu-id="763fb-106">Créez votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-106">Create your web service.</span></span>
1. <span data-ttu-id="763fb-107">Enregistrez votre service web en tant que bot avec Microsoft Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="763fb-107">Register your web service as a bot with Microsoft Bot Framework.</span></span>
1. <span data-ttu-id="763fb-108">Créez votre manifeste d'application et votre package de l’application.</span><span class="sxs-lookup"><span data-stu-id="763fb-108">Create your app manifest and your app package.</span></span>
1. <span data-ttu-id="763fb-109">Télécharger votre package dans Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="763fb-109">Upload your package to Microsoft Teams.</span></span>

<span data-ttu-id="763fb-110">La création de votre service web, l'inscription de votre service web et la création de votre package de l'application, avec le Bot Framework, peuvent être effectuées dans n'importe quel ordre. Toutefois, étant donné que les trois éléments sont imbriqués, quel que soit l'ordre dans lequel vous les effectuez, vous devez revenir pour mettre à jour les autres. </span><span class="sxs-lookup"><span data-stu-id="763fb-110">Creating your web service, registering your web service, and creating your app package, with the Bot Framework can be done in any order; however, because the three pieces are so intertwined, no matter in which order you do them, you'll need to return to update the others.</span></span> <span data-ttu-id="763fb-111">Votre inscription nécessite du point de terminaison de la messagerie à partir de votre service web déployé. votre service web nécessite l’ID et le mot de passe créés à partir de votre inscription.</span><span class="sxs-lookup"><span data-stu-id="763fb-111">Your registration needs the messaging endpoint from your deployed web service and your web service needs the ID and password created from your registration.</span></span> <span data-ttu-id="763fb-112">Votre manifeste d’application a également besoin de l’ID d’inscription pour connecter les équipes à votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-112">Your app manifest also needs the registration ID to connect Teams to your web service.</span></span>

<span data-ttu-id="763fb-113">Au fur et à mesure que vous construisez votre bot, vous passez régulièrement de la modification de votre manifeste d'application au déploiement de code pour votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-113">As you're building your bot, you'll regularly move between changing your app manifest and deploying code to your web service.</span></span> <span data-ttu-id="763fb-114">Lorsque vous utilisez le manifeste de l’application, gardez à l’esprit que vous pouvez soit manipuler manuellement le fichier JSON, soit effectuer des modifications à l’aide de App Studio.</span><span class="sxs-lookup"><span data-stu-id="763fb-114">When working with the app manifest, keep in mind you can either manually manipulate the JSON file, or make changes through App Studio.</span></span> <span data-ttu-id="763fb-115">Dans les deux cas, vous devez redéployer (télécharger) votre application dans Teams lorsque vous apportez une modification au manifeste. Toutefois, vous n’avez pas besoin de le faire lorsque vous déployez des modifications apportées à votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-115">Either way, you'll need to re-deploy (upload) your app in Teams when you make a change to the manifest; however, there's no need to do so when you deploy changes to your web service.</span></span>

<span data-ttu-id="763fb-116">Pour plus d’informations sur le Bot Framework, consultez la [Documentation Bot Framework](/azure/bot-service/).</span><span class="sxs-lookup"><span data-stu-id="763fb-116">See the [Bot Framework Documentation](/azure/bot-service/) for additional information on the Bot Framework.</span></span>

[!include[prepare environment](~/includes/prepare-environment.md)]

## <a name="create-your-web-service"></a><span data-ttu-id="763fb-117">Créez votre service web</span><span class="sxs-lookup"><span data-stu-id="763fb-117">Create your web service</span></span>

<span data-ttu-id="763fb-118">Le cœur de votre bot est votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-118">The heart of your bot is your web service.</span></span> <span data-ttu-id="763fb-119">Celle-ci permet de définir un itinéraire unique, généralement `/api/messages`, sur lequel recevoir toutes les demandes.</span><span class="sxs-lookup"><span data-stu-id="763fb-119">It will define a single route, typically `/api/messages`, on which to receive all requests.</span></span> <span data-ttu-id="763fb-120">Pour commencer, vous avez le choix entre plusieurs options :</span><span class="sxs-lookup"><span data-stu-id="763fb-120">To get started, you have a few options to choose from:</span></span>

* <span data-ttu-id="763fb-121">Commencez par utiliser l’exemple de bot de conversation Teams dans [C#/dotnet](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/57.teams-conversation-bot) ou [JavaScript](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/57.teams-conversation-bot).</span><span class="sxs-lookup"><span data-stu-id="763fb-121">Start with the Teams conversation bot sample in either [C#/dotnet](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/57.teams-conversation-bot) or [JavaScript](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/57.teams-conversation-bot).</span></span>
* <span data-ttu-id="763fb-122">Si vous utilisez JavaScript, utilisez le générateur [Yeoman pour Microsoft Teams](https://github.com/OfficeDev/generator-teams) pour structurer votre application d’équipe, y compris votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-122">If you're using JavaScript, use the [Yeoman Generator for Microsoft Teams](https://github.com/OfficeDev/generator-teams) to scaffold your Teams app, including your web service.</span></span> <span data-ttu-id="763fb-123">Ceci est particulièrement utile lorsque vous créez une application Teams qui contient plusieurs bots de conversation.</span><span class="sxs-lookup"><span data-stu-id="763fb-123">This is particularly helpful when building a Teams app that contains more than just a conversational bot.</span></span>
* <span data-ttu-id="763fb-124">Créez votre service web de toutes pièces.</span><span class="sxs-lookup"><span data-stu-id="763fb-124">Create your web service from scratch.</span></span> <span data-ttu-id="763fb-125">Vous pouvez choisir d’ajouter le kit de développement logiciel (SDK) Bot Framework pour votre langue. Vous pouvez également travailler directement avec les charges utiles JSON.</span><span class="sxs-lookup"><span data-stu-id="763fb-125">You can choose to add the Bot Framework SDK for your language, or you can work directly with the JSON payloads.</span></span>

## <a name="register-your-web-service-with-the-bot-framework"></a><span data-ttu-id="763fb-126">Inscrivez votre service web à l’aide de Bot Framework</span><span class="sxs-lookup"><span data-stu-id="763fb-126">Register your web service with the Bot Framework</span></span>

> [!IMPORTANT]
> <span data-ttu-id="763fb-127">Lorsque vous inscrivez votre service web, assurez-vous d’attribuer au **Nom complet** le nom que vous avez utilisé pour votre **Nom court** dans votre manifeste de l’application.</span><span class="sxs-lookup"><span data-stu-id="763fb-127">When registering your web service, be sure to set the **Display name** to the same name you used for your **Short name** in your app manifest.</span></span> <span data-ttu-id="763fb-128">Lorsque votre application est distribuée par téléchargement direct ou via le catalogue d'applications d'une organisation, les messages envoyés à une conversation par votre bot utilisent le **Nom complet** d'inscription plutôt que le **Nom court** de l'application.</span><span class="sxs-lookup"><span data-stu-id="763fb-128">When your app is distributed by either direct uploading or through an organization's app catalog, messages sent to a conversation by your bot will use the registration's **Display name** rather than the app's **Short name**.</span></span>

<span data-ttu-id="763fb-129">L'inscription de votre service web au Bot Framework fournit un canal de communication sécurisé entre le client Teams et votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-129">Registering your web service with the Bot Framework provides a secure communication channel between the Teams client and your web service.</span></span> <span data-ttu-id="763fb-130">Le client Teams et votre service Web ne communiquent jamais directement.</span><span class="sxs-lookup"><span data-stu-id="763fb-130">The Teams client and your web service never communicate directly.</span></span> <span data-ttu-id="763fb-131">Au lieu de cela, les messages sont acheminés par le Bot Framework Service (Microsoft Teams utilise une instance distincte de ce service qui est conforme aux normes Office 365).</span><span class="sxs-lookup"><span data-stu-id="763fb-131">Instead, messages are routed through the Bot Framework Service (Microsoft Teams uses a separate instance of this service that is compliant with Office 365 standards).</span></span>

<span data-ttu-id="763fb-132">Deux options s’offrent à vous lorsque vous inscrivez votre service web à l’aide de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="763fb-132">You have two options when registering your web service with the Bot Framework.</span></span> <span data-ttu-id="763fb-133">Vous pouvez utiliser [App Studio](#using-app-studio) ou le [Portail hérité](#in-the-legacy-portal) pour inscrire votre bot sans utiliser d’abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-133">You can use either [App Studio](#using-app-studio) or the [legacy portal](#in-the-legacy-portal) to register your bot without using an Azure subscription.</span></span> <span data-ttu-id="763fb-134">Ou, si vous avez déjà un abonnement Azure (ou si vous n’avez pas besoin d’en créer un), vous pouvez utiliser [le Portail Microsoft Azure](#with-an-azure-subscription) pour inscrire votre service web.</span><span class="sxs-lookup"><span data-stu-id="763fb-134">Or, if you already have an Azure subscription (or don't mind creating one), you can use [the Azure portal](#with-an-azure-subscription) to register your web service.</span></span>

### <a name="without-an-azure-subscription"></a><span data-ttu-id="763fb-135">Sans abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-135">Without an Azure subscription</span></span>

<span data-ttu-id="763fb-136">Si vous ne souhaitez pas créer votre inscription de bot dans Azure, vous **devez** utiliser ce lien https://dev.botframework.com/bots/newou App Studio.</span><span class="sxs-lookup"><span data-stu-id="763fb-136">If you do not wish to create your bot registration in Azure, you **must** use either this link - https://dev.botframework.com/bots/new, or App Studio.</span></span> <span data-ttu-id="763fb-137">Si vous cliquez sur le bouton *Créer un bot* dans le portail Bot Framework, vous allez créer l'inscription de votre bot dans Microsoft Azure, et vous devrez fournir un abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-137">If you click on the *Create a bot* button in the Bot Framework portal, you will create your bot registration in Microsoft Azure, and will need to provide an Azure subscription.</span></span> <span data-ttu-id="763fb-138">Pour gérer votre inscription ou la migrer vers un abonnement Azure après la création, accédez à : https://dev.botframework.com/bots.</span><span class="sxs-lookup"><span data-stu-id="763fb-138">To manage your registration or migrate it to an Azure subscription after creation go to: https://dev.botframework.com/bots.</span></span>

<span data-ttu-id="763fb-139">Lorsque vous modifiez les propriétés d'une inscription existante au Bot Framework non inscrite dans Azure, celui-ci est répertorié dans la colonne « État de la migration » et un bouton bleu « Migrer » vous permet d’accéder au Portail Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-139">When you edit the properties of an existing Bot Framework registration not registered in Azure, you'll see A "Migration status" column and a blue "Migrate" button that will take you to the Microsoft Azure portal.</span></span> <span data-ttu-id="763fb-140">Ne sélectionnez pas le bouton « Migrer », sauf s’il s’agit de ce que vous voulez faire.</span><span class="sxs-lookup"><span data-stu-id="763fb-140">Don't select the "Migrate" button unless that's what you want to do.</span></span> <span data-ttu-id="763fb-141">Au lieu de cela, sélectionnez le **nom** du bot et modifiez ses propriétés :</span><span class="sxs-lookup"><span data-stu-id="763fb-141">Instead, select the **name** of the bot and you can edit its properties:</span></span>

   ![Modifier les propriétés du bot](~/assets/images/bots/bf-migrate-bot-to-azure.png)

<span data-ttu-id="763fb-143">Scénarios dans lesquels vous **devez** faire inscrire votre bot dans Azure (soit en le créant dans le Portail Microsoft Azure, soit via une migration) :</span><span class="sxs-lookup"><span data-stu-id="763fb-143">Scenarios when you **must** have your bot registration in Azure (either by creating it in the Azure portal or via migration):</span></span>

* <span data-ttu-id="763fb-144">Vous voulez utiliser le [OAuthPrompt](./authentication/auth-flow-bot.md) de Bot Framework pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="763fb-144">You want to use the Bot Framework's [OAuthPrompt](./authentication/auth-flow-bot.md) for authentication.</span></span>
* <span data-ttu-id="763fb-145">Vous voulez activer d’autres canaux tels que la conversation web, Direct Line ou Skype.</span><span class="sxs-lookup"><span data-stu-id="763fb-145">You want to enable additional channels like Web Chat, Direct Line, or Skype.</span></span>

#### <a name="using-app-studio"></a><span data-ttu-id="763fb-146">Utilisation de App Studio</span><span class="sxs-lookup"><span data-stu-id="763fb-146">Using App Studio</span></span>

<span data-ttu-id="763fb-147">*App Studio* est une application de Teams qui vous aide à créer des applications Teams, y compris l’inscription de votre service web en tant que bot, la création d’un manifeste d’application et votre package d’application et la mise à jour des paramètres et des configurations.</span><span class="sxs-lookup"><span data-stu-id="763fb-147">*App Studio* is a Teams application that helps you build Teams apps, including registering your web service as a bot, creating an app manifest and your app package, and updating settings and configurations.</span></span> <span data-ttu-id="763fb-148">Elle contient également une bibliothèque de contrôle React et des exemples configurables pour les cartes.</span><span class="sxs-lookup"><span data-stu-id="763fb-148">It also contains a React control library and configurable samples for cards.</span></span> <span data-ttu-id="763fb-149">Consultez [Commencer à gérer App Studio de Teams](../../concepts/build-and-test/app-studio-overview.md).</span><span class="sxs-lookup"><span data-stu-id="763fb-149">See [Getting started with Teams App Studio](../../concepts/build-and-test/app-studio-overview.md).</span></span>

<span data-ttu-id="763fb-150">N’oubliez pas que si vous utilisez App Studio pour inscrire votre service web, vous devez accéder à https://dev.botframework.com/bots pour gérer votre inscription.</span><span class="sxs-lookup"><span data-stu-id="763fb-150">Remember, if you use App Studio to register your web service you'll need to go to https://dev.botframework.com/bots to manage your registration.</span></span>

#### <a name="in-the-legacy-portal"></a><span data-ttu-id="763fb-151">Dans le portail hérité</span><span class="sxs-lookup"><span data-stu-id="763fb-151">In the legacy portal</span></span>

<span data-ttu-id="763fb-152">Créez votre inscription au bot à l’aide de ce lien : https://dev.botframework.com/bots/new.</span><span class="sxs-lookup"><span data-stu-id="763fb-152">Create your bot registration using this link: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="763fb-153">**Veillez à ajouter Microsoft Teams sous la forme d’un canal à partir de la liste de chaînes proposées après avoir créé votre bot.**</span><span class="sxs-lookup"><span data-stu-id="763fb-153">**Be sure to add Microsoft Teams as a channel from the featured channels list after creating your bot.**</span></span> <span data-ttu-id="763fb-154">N’hésitez pas à réutiliser tout ID d’application Microsoft que vous avez généré si vous avez déjà créé votre package d’application/manifeste.</span><span class="sxs-lookup"><span data-stu-id="763fb-154">Feel free to re-use any Microsoft App ID you generated if you've already created your app package/manifest.</span></span>

   ![Page d’inscription de Bot Framework](~/assets/images/bots/bfregister.png)

### <a name="with-an-azure-subscription"></a><span data-ttu-id="763fb-156">Avec un abonnement Azure</span><span class="sxs-lookup"><span data-stu-id="763fb-156">With an Azure subscription</span></span>

<span data-ttu-id="763fb-157">Vous pouvez également inscrire votre service web en créant une ressource d’inscription canaux de bots dans le Portail Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-157">You can also register your web service by creating a Bot Channels Registration resource in the Azure portal.</span></span>

[!INCLUDE [bot channels registration steps](~/includes/bots/azure-bot-channels-registration.md)]

<span data-ttu-id="763fb-158">Le [portail Bot Framework](https://dev.botframework.com) est optimisé pour l’inscription des bots dans Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-158">The [Bot Framework portal](https://dev.botframework.com) is optimized for registering bots in Microsoft Azure.</span></span> <span data-ttu-id="763fb-159">Voici quelques opérations que vous pouvez prendre en compte :</span><span class="sxs-lookup"><span data-stu-id="763fb-159">Here are some things to know:</span></span>

* <span data-ttu-id="763fb-160">Le canal Microsoft Teams pour les bots inscrits sur Azure est **gratuit**.</span><span class="sxs-lookup"><span data-stu-id="763fb-160">The Microsoft Teams channel for bots registered on Azure is **free**.</span></span> <span data-ttu-id="763fb-161">Les messages envoyés sur le canal Teams ne sont PAS pris en compte dans les messages consommés pour le bot.</span><span class="sxs-lookup"><span data-stu-id="763fb-161">Messages sent over the Teams channel will NOT count towards the consumed messages for the bot.</span></span>
* <span data-ttu-id="763fb-162">Si vous inscrivez votre bot à l’aide de Microsoft Azure, votre code bot n’a pas besoin d’être *hébergé* sur Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-162">If you register your bot using Microsoft Azure, your bot code doesn't need to be *hosted* on Microsoft Azure.</span></span>
* <span data-ttu-id="763fb-163">Si vous inscrivez un bot à l’aide du Portail Microsoft Azure, vous devez disposer d’un compte Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="763fb-163">If you do register a bot using Microsoft Azure portal, you must have a Microsoft Azure account.</span></span> <span data-ttu-id="763fb-164">Vous pouvez [en créer un gratuitement](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="763fb-164">You can [create one for free](https://azure.microsoft.com/free/).</span></span> <span data-ttu-id="763fb-165">Pour vérifier votre identité lorsque vous créez un compte Azure, vous devez fournir une carte de crédit, mais celle-ci ne sera pas débitée. Il est toujours gratuit de créer et d’utiliser des bots avec Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="763fb-165">To verify your identity when you create an Azure account, you must provide a credit card, but it won't be charged; it's always free to create and use bots with Microsoft Teams.</span></span>

## <a name="create-your-app-manifest-and-package"></a><span data-ttu-id="763fb-166">Créez votre manifeste d'application et votre package</span><span class="sxs-lookup"><span data-stu-id="763fb-166">Create your app manifest and package</span></span>

<span data-ttu-id="763fb-167">Votre [manifeste d’application](~/resources/schema/manifest-schema.md) définit les métadonnées de votre application, les points d’extension utilisés par votre application et les pointeurs vers les services web auxquels les points d’extension se connectent.</span><span class="sxs-lookup"><span data-stu-id="763fb-167">Your [app manifest](~/resources/schema/manifest-schema.md) defines the metadata for your app, the extension points your app is using, and pointers to the web services those extension points connect to.</span></span> <span data-ttu-id="763fb-168">Vous pouvez utiliser App Studio pour créer votre manifeste d’application ou le créer manuellement.</span><span class="sxs-lookup"><span data-stu-id="763fb-168">You can either use App Studio to help you create your app manifest, or create it manually.</span></span>

### <a name="add-using-app-studio"></a><span data-ttu-id="763fb-169">Ajouter à l’aide de App Studio</span><span class="sxs-lookup"><span data-stu-id="763fb-169">Add using App Studio</span></span>

1. <span data-ttu-id="763fb-170">Dans le client Teams, ouvrez App Studio à partir du menu **...** dépassement sur le rail de navigation gauche.</span><span class="sxs-lookup"><span data-stu-id="763fb-170">In the Teams client, open App Studio from the **...** overflow menu on the left navigation rail.</span></span> <span data-ttu-id="763fb-171">Si App Studio n’est pas déjà installé, vous pouvez le faire en le recherchant.</span><span class="sxs-lookup"><span data-stu-id="763fb-171">If App Studio isn't already installed, you can do so by searching for it.</span></span>
2. <span data-ttu-id="763fb-172">Dans l’onglet **Éditeur de manifeste**, sélectionnez **Créer une application** (ou si vous ajoutez un bot à une application existante, vous pouvez importer votre package d’application)</span><span class="sxs-lookup"><span data-stu-id="763fb-172">On the **Manifest editor** tab select **Create a new app** (or if you're adding a bot to an existing app, you can import your app package)</span></span>
3. <span data-ttu-id="763fb-173">Ajoutez les détails de votre application (consultez [définition de schéma de manifeste](~/resources/schema/manifest-schema.md) pour obtenir une description complète de chaque champ).</span><span class="sxs-lookup"><span data-stu-id="763fb-173">Add your app details (see [manifest schema definition](~/resources/schema/manifest-schema.md) for full descriptions of each field).</span></span>
4. <span data-ttu-id="763fb-174">Sous l’onglet **Bots** sélectionnez le bouton **Configuration**.</span><span class="sxs-lookup"><span data-stu-id="763fb-174">On the **Bots** tab select the **Setup** button.</span></span>
5. <span data-ttu-id="763fb-175">Vous pouvez soit créer une inscription de service web (**Nouveau bot**), soit sélectionner **Bot existant**.</span><span class="sxs-lookup"><span data-stu-id="763fb-175">You can either create a new web service registration (**New bot**), or if you've already registered one, select **Existing bot**.</span></span>
6. <span data-ttu-id="763fb-176">Sélectionnez les fonctionnalités et les étendues dont votre bot aura besoin.</span><span class="sxs-lookup"><span data-stu-id="763fb-176">Select the capabilities and scopes your bot will need.</span></span>
7. <span data-ttu-id="763fb-177">Si nécessaire, mettez à jour votre adresse de point de terminaison de bot pour qu’elle pointe vers votre bot.</span><span class="sxs-lookup"><span data-stu-id="763fb-177">If necessary, update your bot endpoint address to point to your bot.</span></span> <span data-ttu-id="763fb-178">Celle-ci doit avoir la forme `https://someplace.com/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="763fb-178">It should look something like `https://someplace.com/api/messages`.</span></span>
8. <span data-ttu-id="763fb-179">Vous pouvez également ajouter des [commandes de bot](~/bots/how-to/create-a-bot-commands-menu.md).</span><span class="sxs-lookup"><span data-stu-id="763fb-179">Optionally, add [bot commands](~/bots/how-to/create-a-bot-commands-menu.md).</span></span>
9. <span data-ttu-id="763fb-180">Vous pouvez également télécharger votre package de l’application terminé à partir de l’onglet **tester et distribuer**.</span><span class="sxs-lookup"><span data-stu-id="763fb-180">Optionally, you can download your completed app package from the **Test and distribute** tab.</span></span>

### <a name="create-it-manually"></a><span data-ttu-id="763fb-181">Créez-le manuellement</span><span class="sxs-lookup"><span data-stu-id="763fb-181">Create it manually</span></span>

<span data-ttu-id="763fb-182">Comme pour les onglets et les extensions de messagerie, vous mettez à jour l’[App-manifest](~/resources/schema/manifest-schema.md) pour définir votre bot.</span><span class="sxs-lookup"><span data-stu-id="763fb-182">As with messaging extensions and tabs, you update the [app-manifest](~/resources/schema/manifest-schema.md) to define your bot.</span></span> <span data-ttu-id="763fb-183">Ajoutez une nouvelle structure JSON de niveau supérieur dans votre manifeste d’application avec la propriété `bots`.</span><span class="sxs-lookup"><span data-stu-id="763fb-183">Add new top-level JSON structure in your app manifest with the `bots` property.</span></span>

|<span data-ttu-id="763fb-184">Nom</span><span class="sxs-lookup"><span data-stu-id="763fb-184">Name</span></span>| <span data-ttu-id="763fb-185">Type</span><span class="sxs-lookup"><span data-stu-id="763fb-185">Type</span></span>| <span data-ttu-id="763fb-186">Taille maximale</span><span class="sxs-lookup"><span data-stu-id="763fb-186">Maximum size</span></span> | <span data-ttu-id="763fb-187">Requis</span><span class="sxs-lookup"><span data-stu-id="763fb-187">Required</span></span> | <span data-ttu-id="763fb-188">Description</span><span class="sxs-lookup"><span data-stu-id="763fb-188">Description</span></span>|
|---|---|---|---|---|
|`botId`|<span data-ttu-id="763fb-189">String</span><span class="sxs-lookup"><span data-stu-id="763fb-189">String</span></span>|<span data-ttu-id="763fb-190">64 caractères</span><span class="sxs-lookup"><span data-stu-id="763fb-190">64 characters</span></span>|<span data-ttu-id="763fb-191">✔</span><span class="sxs-lookup"><span data-stu-id="763fb-191">✔</span></span>|<span data-ttu-id="763fb-192">ID d’application Microsoft unique pour le bot inscrit dans le Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="763fb-192">The unique Microsoft app ID for the bot as registered with the Bot Framework.</span></span> <span data-ttu-id="763fb-193">Il peut s’agir d’une ID d’application globale.</span><span class="sxs-lookup"><span data-stu-id="763fb-193">This may well be the same as the overall app ID.</span></span>|
|`needsChannelSelector`|<span data-ttu-id="763fb-194">Boolean</span><span class="sxs-lookup"><span data-stu-id="763fb-194">Boolean</span></span>|||<span data-ttu-id="763fb-195">Indique si le bot utilise ou non un indicateur d’utilisateur pour ajouter le bot à un canal spécifique.</span><span class="sxs-lookup"><span data-stu-id="763fb-195">Describes whether or not the bot utilizes a user hint to add the bot to a specific channel.</span></span> <span data-ttu-id="763fb-196">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="763fb-196">Default: `false`.</span></span>|
|`isNotificationOnly`|<span data-ttu-id="763fb-197">Boolean</span><span class="sxs-lookup"><span data-stu-id="763fb-197">Boolean</span></span>|||<span data-ttu-id="763fb-198">Indique si un bot est unidirectionnel, de notification uniquement, par opposition à un bot conversationnel.</span><span class="sxs-lookup"><span data-stu-id="763fb-198">Indicates whether a bot is a one-way, notification-only bot, as opposed to a conversational bot.</span></span> <span data-ttu-id="763fb-199">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="763fb-199">Default: `false`.</span></span>|
|`supportsFiles`|<span data-ttu-id="763fb-200">Boolean</span><span class="sxs-lookup"><span data-stu-id="763fb-200">Boolean</span></span>|||<span data-ttu-id="763fb-201">Indique si le bot prend en charge la possibilité de télécharger des fichiers dans une conversation personnelle.</span><span class="sxs-lookup"><span data-stu-id="763fb-201">Indicates whether the bot supports the ability to upload/download files in personal chat.</span></span> <span data-ttu-id="763fb-202">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="763fb-202">Default: `false`.</span></span>|
|`scopes`|<span data-ttu-id="763fb-203">Tableau de l’énum</span><span class="sxs-lookup"><span data-stu-id="763fb-203">Array of enum</span></span>|<span data-ttu-id="763fb-204">3</span><span class="sxs-lookup"><span data-stu-id="763fb-204">3</span></span>|<span data-ttu-id="763fb-205">✔</span><span class="sxs-lookup"><span data-stu-id="763fb-205">✔</span></span>|<span data-ttu-id="763fb-206">Indique si le bot offre une expérience dans le contexte d’un canal dans une `team`, dans une conversation de groupe (`groupchat`) ou dans une expérience limitée à un utilisateur individuel (`personal`).</span><span class="sxs-lookup"><span data-stu-id="763fb-206">Specifies whether the bot offers an experience in the context of a channel in a `team`, in a group chat (`groupchat`), or an experience scoped to an individual user alone (`personal`).</span></span> <span data-ttu-id="763fb-207">Ces options ne sont pas exclusives.</span><span class="sxs-lookup"><span data-stu-id="763fb-207">These options are non-exclusive.</span></span>|

<span data-ttu-id="763fb-208">Vous pouvez également définir une ou plusieurs listes de commandes que votre bot peut recommander aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="763fb-208">Optionally, you can define one or more lists of commands that your bot can recommend to users.</span></span> <span data-ttu-id="763fb-209">L’objet est un tableau (maximum de 2 éléments) avec tous les éléments de type `object`.</span><span class="sxs-lookup"><span data-stu-id="763fb-209">The object is an array (maximum of 2 elements) with all elements of type `object`.</span></span> <span data-ttu-id="763fb-210">Vous devez définir une liste de commandes distincte pour chaque étendue prise en charge par votre bot.</span><span class="sxs-lookup"><span data-stu-id="763fb-210">You must define a separate command list for each scope that your bot supports.</span></span> <span data-ttu-id="763fb-211">Pour plus d’informations, *consultez* la rubrique[Menus du Bot](./create-a-bot-commands-menu.md) .</span><span class="sxs-lookup"><span data-stu-id="763fb-211">*See* [Bot menus](./create-a-bot-commands-menu.md), for more information.</span></span>

|<span data-ttu-id="763fb-212">Nom</span><span class="sxs-lookup"><span data-stu-id="763fb-212">Name</span></span>| <span data-ttu-id="763fb-213">Type</span><span class="sxs-lookup"><span data-stu-id="763fb-213">Type</span></span>| <span data-ttu-id="763fb-214">Taille maximale</span><span class="sxs-lookup"><span data-stu-id="763fb-214">Maximum size</span></span> | <span data-ttu-id="763fb-215">Requis</span><span class="sxs-lookup"><span data-stu-id="763fb-215">Required</span></span> | <span data-ttu-id="763fb-216">Description</span><span class="sxs-lookup"><span data-stu-id="763fb-216">Description</span></span>|
|---|---|---|---|---|
|`items.scopes`|<span data-ttu-id="763fb-217">tableau de l’énum</span><span class="sxs-lookup"><span data-stu-id="763fb-217">array of enum</span></span>|<span data-ttu-id="763fb-218">3</span><span class="sxs-lookup"><span data-stu-id="763fb-218">3</span></span>|<span data-ttu-id="763fb-219">✔</span><span class="sxs-lookup"><span data-stu-id="763fb-219">✔</span></span>|<span data-ttu-id="763fb-220">Spécifie l’étendue pour laquelle la liste de commandes est valide.</span><span class="sxs-lookup"><span data-stu-id="763fb-220">Specifies the scope for which the command list is valid.</span></span> <span data-ttu-id="763fb-221">Les options sont `team`, `personal` et `groupchat`.</span><span class="sxs-lookup"><span data-stu-id="763fb-221">Options are `team`, `personal`, and `groupchat`.</span></span>|
|`items.commands`|<span data-ttu-id="763fb-222">tableau d’objets</span><span class="sxs-lookup"><span data-stu-id="763fb-222">array of objects</span></span>|<span data-ttu-id="763fb-223">10</span><span class="sxs-lookup"><span data-stu-id="763fb-223">10</span></span>|<span data-ttu-id="763fb-224">✔</span><span class="sxs-lookup"><span data-stu-id="763fb-224">✔</span></span>|<span data-ttu-id="763fb-225">Ensemble de commandes prises en charge par le bot :</span><span class="sxs-lookup"><span data-stu-id="763fb-225">An array of commands the bot supports:</span></span><br><span data-ttu-id="763fb-226">`title`: nom de la commande bot (chaîne, 32)</span><span class="sxs-lookup"><span data-stu-id="763fb-226">`title`: the bot command name (string, 32)</span></span><br><span data-ttu-id="763fb-227">`description` : description simple ou exemple de la syntaxe de commande et de son argument (chaîne, 128)</span><span class="sxs-lookup"><span data-stu-id="763fb-227">`description`: a simple description or example of the command syntax and its argument (string, 128)</span></span>|

#### <a name="simple-manifest-example"></a><span data-ttu-id="763fb-228">Exemple de manifeste simple</span><span class="sxs-lookup"><span data-stu-id="763fb-228">Simple manifest example</span></span>

<span data-ttu-id="763fb-229">L’exemple ci-dessous est un objet bot simple, avec deux listes de commandes définies.</span><span class="sxs-lookup"><span data-stu-id="763fb-229">The example below is a simple bot object, with two command lists defined.</span></span> <span data-ttu-id="763fb-230">Il ne s’agit pas de la totalité du fichier manifeste de l’application, uniquement de la partie spécifique aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="763fb-230">This is not the entire app manifest file, just the part specific to messaging extensions.</span></span>

```json
...
  "bots": [
    {
      "botId": "%MICROSOFT-APP-ID-REGISTERED-WITH-BOT-FRAMEWORK%",
      "needsChannelSelector": false,
      "isNotificationOnly": false,
      "scopes": [ "team", "personal", "groupchat" ],
      "supportsFiles": true,
      "commandLists": [
        {
          "scopes": [ "team", "groupchat" ],
          "commands": [
            {
              "title": "Command 1",
              "description": "Description of Command 1"
            },
            {
              "title": "Command N",
              "description": "Description of Command N"
            }
          ]
        },
        {
          "scopes": [ "personal", "groupchat" ],
          "commands": [
            {
              "title": "Personal command 1",
              "description": "Description of Personal command 1"
            },
            {
              "title": "Personal command N",
              "description": "Description of Personal command N"
            }
          ]
        }
      ]
    }
  ],
...
```

#### <a name="create-your-app-package-manually"></a><span data-ttu-id="763fb-231">Créer manuellement votre package de l’application</span><span class="sxs-lookup"><span data-stu-id="763fb-231">Create your app package manually</span></span>

<span data-ttu-id="763fb-232">Pour créer un package de l’application, vous devez ajouter votre manifeste d’application et (éventuellement) vos icônes d’application dans un fichier archive .zip.</span><span class="sxs-lookup"><span data-stu-id="763fb-232">To create an app package, you need to add your app manifest and (optionally) your app icons to a .zip archive file.</span></span> <span data-ttu-id="763fb-233">Pour plus d’informations, consultez [Créer votre package d’application](~/concepts/build-and-test/apps-package.md).</span><span class="sxs-lookup"><span data-stu-id="763fb-233">See [Create your app package](~/concepts/build-and-test/apps-package.md) for complete details.</span></span> <span data-ttu-id="763fb-234">Assurez-vous que l’archive .zip contient uniquement les fichiers nécessaires et qu'elle ne contient aucune autre structure de dossier.</span><span class="sxs-lookup"><span data-stu-id="763fb-234">Make sure your .zip archive contains only the necessary files, and has no additional folder structure inside of it.</span></span>

## <a name="upload-your-package-to-microsoft-teams"></a><span data-ttu-id="763fb-235">Télécharger votre package dans Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="763fb-235">Upload your package to Microsoft Teams</span></span>

> [!NOTE]
> <span data-ttu-id="763fb-236">Pour charger votre robot, l’administrateur de votre client doit d’abord [autoriser le chargement](/microsoftteams/manage-apps#manage-org-wide-app-settings) d’applications tierces ou personnalisées dans Teams.</span><span class="sxs-lookup"><span data-stu-id="763fb-236">To successfully upload your bot, your tenant admin must first [allow uploading](/microsoftteams/manage-apps#manage-org-wide-app-settings) third-party or custom apps in Teams.</span></span>

<span data-ttu-id="763fb-237">Si vous utilisez App Studio, vous pouvez installer votre application à partir de l'onglet **Tester et distribuer** de l’**Éditeur de manifeste**.</span><span class="sxs-lookup"><span data-stu-id="763fb-237">If you've been using App Studio, you can install your app from the **Test and distribute** tab of the **Manifest editor**.</span></span> <span data-ttu-id="763fb-238">Vous pouvez également installer votre package d’application en cliquant sur le menu `...` dépassement sur le rail gauche de la barre de navigation, en cliquant sur **Autres applications**, puis sur le lien **Télécharger une application personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="763fb-238">Alternatively, you can install your app package by clicking the `...` overflow menu from the left navigation rail, clicking **More apps**, then the **Upload a custom app** link.</span></span> <span data-ttu-id="763fb-239">Vous pouvez également importer un manifeste d’application ou un package d’application dans App Studio pour effectuer des mises à jour supplémentaires avant de les télécharger.</span><span class="sxs-lookup"><span data-stu-id="763fb-239">You can also import an app manifest or app package into App Studio to make additional updates before uploading.</span></span>

## <a name="bots-in-teams-meetings"></a><span data-ttu-id="763fb-240">Robots dans les réunions Teams</span><span class="sxs-lookup"><span data-stu-id="763fb-240">Bots in Teams meetings</span></span>

<span data-ttu-id="763fb-241">Teams prend en charge l’invocation des robots pendant les réunions.</span><span class="sxs-lookup"><span data-stu-id="763fb-241">Teams supports bot invocation during meetings.</span></span> <span data-ttu-id="763fb-242">Lorsque votre robot reçoit le message d’appel, il peut identifier l’utilisateur et le client grâce à `userId` et `tenantId`.</span><span class="sxs-lookup"><span data-stu-id="763fb-242">When your bot receives the invoke message, it can identify the user and tenant from `userId` and `tenantId`.</span></span> <span data-ttu-id="763fb-243">`meetingId` fait partie de l’objet `channelData`.</span><span class="sxs-lookup"><span data-stu-id="763fb-243">The `meetingId` can be found as part of the `channelData` object.</span></span> <span data-ttu-id="763fb-244">Votre robot peut utiliser `userId` et `meetingId` pour la demande d’API `GetParticipant` afin de récupérer les rôles d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="763fb-244">Your bot can use the `userId` and `meetingId`  for the `GetParticipant` API request to retrieve user roles.</span></span>

## <a name="next-steps"></a><span data-ttu-id="763fb-245">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="763fb-245">Next steps</span></span>

* [<span data-ttu-id="763fb-246">Concepts de base d’une conversation de bot</span><span class="sxs-lookup"><span data-stu-id="763fb-246">Bot conversation basics</span></span>](./conversations/conversation-basics.md)
* [<span data-ttu-id="763fb-247">S’abonner à des événements de conversation</span><span class="sxs-lookup"><span data-stu-id="763fb-247">Subscribe to conversation events</span></span>](./conversations/subscribe-to-conversation-events.md)
