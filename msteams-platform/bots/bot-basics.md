---
title: Notions de base sur les robots
author: clearab
description: Maîtrisez les notions de base des robots dans Teams.
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 43dd351b30fdba3435d39aca43aae0f2de00ed24
ms.sourcegitcommit: d0e71ea63af2f67eba75ba283ec46cc7cdf87d75
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/24/2020
ms.locfileid: "49731957"
---
# <a name="bot-basics"></a><span data-ttu-id="00467-103">Notions de base sur les robots</span><span class="sxs-lookup"><span data-stu-id="00467-103">Bot basics</span></span>

<span data-ttu-id="00467-104">Il s’agit d’une introduction qui s’appuie sur l’article [How bots Work](https://aka.ms/how-bots-work) in the Core [bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span><span class="sxs-lookup"><span data-stu-id="00467-104">This is an introduction that builds on the article [How bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="00467-105">Vous trouverez peut-être cet article, ainsi que les autres Articles de la section *concepts* , utiles.</span><span class="sxs-lookup"><span data-stu-id="00467-105">You may find that article, and the other articles in the *Concepts* section, useful.</span></span>

<span data-ttu-id="00467-106">La principale différence dans les robots développés pour Microsoft teams réside dans la façon dont les activités sont gérées.</span><span class="sxs-lookup"><span data-stu-id="00467-106">The primary difference in bots developed for Microsoft Teams is in how the activities are handled.</span></span> <span data-ttu-id="00467-107">Le gestionnaire d’activité Microsoft teams dérive du gestionnaire d’activité de l’infrastructure bot pour acheminer toutes les activités de teams avant d’autoriser le traitement de toutes les activités spécifiques non liées à l’équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-107">The Microsoft Teams activity handler derives from the Bot Framework's activity handler to route  all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="00467-108">Gestionnaires d’activités de teams</span><span class="sxs-lookup"><span data-stu-id="00467-108">Teams Activity handlers</span></span>

<span data-ttu-id="00467-109">Lorsqu’un bot pour Microsoft Teams reçoit une activité, il la transmet à ses *gestionnaires d’activités*.</span><span class="sxs-lookup"><span data-stu-id="00467-109">When a bot for Microsoft Teams receives an activity, it passes it on to its *activity handlers*.</span></span> <span data-ttu-id="00467-110">En coulisses, un gestionnaire de base (*gestionnaire de tours*) assure l’acheminement de toutes les activités.</span><span class="sxs-lookup"><span data-stu-id="00467-110">Under the covers, there's one base handler called the *turn handler*, that all activities are routed through.</span></span> <span data-ttu-id="00467-111">Le *Gestionnaire Turn* appelle le gestionnaire d’activités requis pour gérer le type d’activité reçu.</span><span class="sxs-lookup"><span data-stu-id="00467-111">The *turn handler* calls the required activity handler to handle whatever type of activity was received.</span></span> <span data-ttu-id="00467-112">Lorsqu’un bot conçu pour Microsoft teams diffère, il est dérivé de `TeamsActivityHandler` la classe qui est dérivée de la classe de l’infrastructure bot `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-112">Where a bot designed for Microsoft Teams differs is that it is derived from `TeamsActivityHandler` class that is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="00467-113">C#</span><span class="sxs-lookup"><span data-stu-id="00467-113">C#</span></span>](#tab/csharp)

<span data-ttu-id="00467-114">Comme avec tout robot créé à l’aide de Microsoft bot Framework, si le bot reçoit une activité de message, le gestionnaire de tournage voit cette activité entrante et l’envoie au `OnMessageActivityAsync` Gestionnaire d’activité.</span><span class="sxs-lookup"><span data-stu-id="00467-114">As with any bot created using the Microsoft Bot Framework, if the bot receives a message activity, the turn handler sees that incoming activity and sends it to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="00467-115">Dans Teams, cette fonctionnalité reste identique.</span><span class="sxs-lookup"><span data-stu-id="00467-115">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="00467-116">Si le bot reçoit une activité de mise à jour de conversation, le gestionnaire de tournage voit cette activité entrante et l’envoie au `OnConversationUpdateActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="00467-116">If the bot receives a conversation update activity, the turn handler sees that incoming activity and sends it to the `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="00467-117">Gestionnaire d’activités de *teams* qui vérifieront d’abord les événements spécifiques des équipes et les transmettra au gestionnaire d’activités de l’infrastructure bot si aucun n’est trouvé.</span><span class="sxs-lookup"><span data-stu-id="00467-117">*Teams* activity handler that will first check for any Teams specific events and pass it along to the Bot Framework's activity handler if none are found.</span></span>

<span data-ttu-id="00467-118">Dans la classe de gestionnaire d’activités de teams, il existe deux gestionnaires d’activité de teams principaux, `OnConversationUpdateActivityAsync` qui acheminent toutes les activités de mise à jour de conversation et `OnInvokeActivityAsync` qui achemine toutes les équipes.</span><span class="sxs-lookup"><span data-stu-id="00467-118">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` that routes all conversation update activities, and `OnInvokeActivityAsync` that routes all Teams invoke activities.</span></span>

<span data-ttu-id="00467-119">Pour implémenter votre logique pour les gestionnaires d’activités spécifiques à Teams, vous devez remplacer ces méthodes dans votre bot, comme illustré dans la section [logique bot](#bot-logic) ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="00467-119">To implement your logic for Teams specific activity handlers, you'll override these methods in your bot as shown in the [Bot logic](#bot-logic) section below.</span></span> <span data-ttu-id="00467-120">Pour chacun de ces gestionnaires, il n’existe pas d’implémentation de base, il vous suffit d’ajouter la logique de votre choix dans votre substitution.</span><span class="sxs-lookup"><span data-stu-id="00467-120">For each of these handlers, there is no base implementation, so just add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="00467-121">JavaScript</span><span class="sxs-lookup"><span data-stu-id="00467-121">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="00467-122">Comme avec tout robot créé à l’aide de Microsoft bot Framework, si le bot reçoit une activité de message, le gestionnaire de tournage voit cette activité entrante et l’envoie au `onMessage` Gestionnaire d’activité.</span><span class="sxs-lookup"><span data-stu-id="00467-122">As with any bot created using the Microsoft Bot Framework, if the bot receives a message activity, the turn handler sees that incoming activity and sends it to the `onMessage` activity handler.</span></span> <span data-ttu-id="00467-123">Dans Teams, cette fonctionnalité reste identique.</span><span class="sxs-lookup"><span data-stu-id="00467-123">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="00467-124">Si le bot reçoit une activité de mise à jour de conversation, le gestionnaire de tournage voit cette activité entrante et l’envoie au `dispatchConversationUpdateActivity` .</span><span class="sxs-lookup"><span data-stu-id="00467-124">If the bot receives a conversation update activity, the turn handler sees that incoming activity and sends it to the `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="00467-125">Gestionnaire d’activités de *teams* qui vérifieront d’abord les événements spécifiques des équipes et les transmettra au gestionnaire d’activités de l’infrastructure bot si aucun n’est trouvé.</span><span class="sxs-lookup"><span data-stu-id="00467-125">*Teams* activity handler that will first check for any Teams specific events and pass it along to the bot frameworks activity handler if none are found.</span></span>

<span data-ttu-id="00467-126">Dans la classe de gestionnaire d’activités de teams, il existe deux gestionnaires d’activité de teams principaux, `dispatchConversationUpdateActivity` qui acheminent toutes les activités de mise à jour de conversation et `onInvokeActivity` qui achemine toutes les équipes.</span><span class="sxs-lookup"><span data-stu-id="00467-126">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` that routes all conversation update Activities, and `onInvokeActivity` that routes all Teams invoke activities.</span></span>

<span data-ttu-id="00467-127">Pour implémenter votre logique pour les gestionnaires d’activités spécifiques à Teams, vous devez remplacer ces méthodes dans votre bot comme indiqué dans la section de [logique bot](#bot-logic) .</span><span class="sxs-lookup"><span data-stu-id="00467-127">To implement your logic for Teams specific activity handlers, you'll override these methods in your bot as seen in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="00467-128">Pour chacun de ces gestionnaires, définissez votre logique de robot, puis **Veillez à appeler `next()` à la fin**.</span><span class="sxs-lookup"><span data-stu-id="00467-128">For each of these handlers, define your bot logic, then **be sure to call `next()` at the end**.</span></span> <span data-ttu-id="00467-129">En vous appelant, `next()` Assurez-vous que le gestionnaire suivant s’exécute.</span><span class="sxs-lookup"><span data-stu-id="00467-129">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="00467-130">Python</span><span class="sxs-lookup"><span data-stu-id="00467-130">Python</span></span>](#tab/python)

<span data-ttu-id="00467-131">Les robots sont créés à l’aide de Microsoft bot Framework, si ces derniers reçoivent une activité de message, puis le gestionnaire Turn reçoit une notification de cette activité entrante.</span><span class="sxs-lookup"><span data-stu-id="00467-131">Bots are created using the Microsoft Bot Framework, if these bot receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="00467-132">Le gestionnaire de tournage envoie ensuite l’activité entrante au `on_message_activity` Gestionnaire d’activité.</span><span class="sxs-lookup"><span data-stu-id="00467-132">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="00467-133">Dans Teams, cette fonctionnalité reste identique.</span><span class="sxs-lookup"><span data-stu-id="00467-133">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="00467-134">Si le bot reçoit une activité de mise à jour de conversation, le gestionnaire Turn reçoit une notification de cette activité entrante et envoie l’activité entrante à `on_conversation_update_activity` .</span><span class="sxs-lookup"><span data-stu-id="00467-134">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="00467-135">Le gestionnaire d’activités teams vérifiera d’abord les événements spécifiques de teams.</span><span class="sxs-lookup"><span data-stu-id="00467-135">The Teams activity handler will first check for any Teams specific events.</span></span> <span data-ttu-id="00467-136">Si aucun événement n’est trouvé, il les transmet ensuite au gestionnaire d’activité de l’infrastructure bot.</span><span class="sxs-lookup"><span data-stu-id="00467-136">If no events are found, it will then pass them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="00467-137">Dans la classe de gestionnaire d’activités de teams, il existe deux gestionnaires d’activité de teams principaux, `on_conversation_update_activity` et `on_invoke_activity` .</span><span class="sxs-lookup"><span data-stu-id="00467-137">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="00467-138">`on_conversation_update_activity` achemine toutes les activités de mise à jour de conversation et `on_invoke_activity` achemine toutes les activités appel à des équipes.</span><span class="sxs-lookup"><span data-stu-id="00467-138">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="00467-139">Pour implémenter votre logique pour les gestionnaires d’activités spécifiques à Teams, vous devez remplacer ces méthodes dans votre bot, comme illustré dans la section de [logique bot](#bot-logic) .</span><span class="sxs-lookup"><span data-stu-id="00467-139">To implement your logic for Teams specific activity handlers, you need to override these methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="00467-140">Il n’existe pas d’implémentation de base pour ces gestionnaires, par conséquent, vous devez ajouter la logique souhaitée dans votre remplacement.</span><span class="sxs-lookup"><span data-stu-id="00467-140">There is no base implementation for these handlers, therefore, you need to add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="00467-141">Logique de robot</span><span class="sxs-lookup"><span data-stu-id="00467-141">Bot logic</span></span>

<span data-ttu-id="00467-142">La logique du robot traite les activités entrantes à partir d’un ou de plusieurs de vos canaux de robots et génère des activités sortantes en réponse.</span><span class="sxs-lookup"><span data-stu-id="00467-142">The bot logic processes incoming activities from one or more of your bot channels and generates outgoing activities in response.</span></span>  <span data-ttu-id="00467-143">Cela est toujours vrai pour les robots dérivés de la classe de gestionnaire d’activités Teams, qui vérifie d’abord les activités Teams, puis passe toutes les autres activités au gestionnaire d’activité de l’infrastructure de robot.</span><span class="sxs-lookup"><span data-stu-id="00467-143">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities, then passes all other activities to the bot frameworks activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="00467-144">C#</span><span class="sxs-lookup"><span data-stu-id="00467-144">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="00467-145">Gestionnaires d’infrastructure de robot principal</span><span class="sxs-lookup"><span data-stu-id="00467-145">Core Bot Framework handlers</span></span>

<span data-ttu-id="00467-146">Tous les gestionnaires d’activité décrits ci-dessous continueront de fonctionner comme avec un robot non Teams, à l’exception de la gestion des membres *ajoutés* et des activités *supprimées* , celles-ci seront différentes dans le contexte d’une équipe, où le nouveau membre est ajouté à l’équipe par opposition à un thread de message.</span><span class="sxs-lookup"><span data-stu-id="00467-146">All of the activity handlers described below will continue to work as they do with a non-Teams bot, with the exception of handling members *added* and members *removed* activities, these will be different in the context of a team, where the new member is added to the team as opposed to a message thread.</span></span>

<span data-ttu-id="00467-147">Les gestionnaires définis dans `ActivityHandler` sont présentés ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="00467-147">The handlers defined in `ActivityHandler` are outlined below:</span></span>

| <span data-ttu-id="00467-148">Événement</span><span class="sxs-lookup"><span data-stu-id="00467-148">Event</span></span> | <span data-ttu-id="00467-149">D</span><span class="sxs-lookup"><span data-stu-id="00467-149">Handler</span></span> | <span data-ttu-id="00467-150">Description</span><span class="sxs-lookup"><span data-stu-id="00467-150">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="00467-151">N’importe quel type d’activité reçu</span><span class="sxs-lookup"><span data-stu-id="00467-151">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="00467-152">Appelle l’un des autres gestionnaires, en fonction du type d’activité reçu.</span><span class="sxs-lookup"><span data-stu-id="00467-152">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="00467-153">Activité de message reçue</span><span class="sxs-lookup"><span data-stu-id="00467-153">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="00467-154">Remplacez ceci pour gérer une `Message` activité.</span><span class="sxs-lookup"><span data-stu-id="00467-154">Override this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="00467-155">Activité de mise à jour de conversation reçue</span><span class="sxs-lookup"><span data-stu-id="00467-155">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="00467-156">Sur une `ConversationUpdate` activité, appelle un gestionnaire si les membres autres que le bot ont rejoint ou quitté la conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-156">On a `ConversationUpdate` activity, calls a handler if members other than the bot joined or left the conversation.</span></span> |
| <span data-ttu-id="00467-157">Les membres autres que les robots joignent la conversation</span><span class="sxs-lookup"><span data-stu-id="00467-157">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="00467-158">Remplacez ceci pour gérer les membres qui rejoignent une conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-158">Override this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="00467-159">Les membres non-bot ont quitté la conversation</span><span class="sxs-lookup"><span data-stu-id="00467-159">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="00467-160">Remplacez ceci pour gérer les membres qui quittent une conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-160">Override this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="00467-161">Activité d’événement reçue</span><span class="sxs-lookup"><span data-stu-id="00467-161">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="00467-162">Sur une `Event` activité, appelle un gestionnaire spécifique au type d’événement.</span><span class="sxs-lookup"><span data-stu-id="00467-162">On an `Event` activity, calls a handler specific to the event type.</span></span> |
| <span data-ttu-id="00467-163">Activité d’événement de réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="00467-163">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="00467-164">Substituez cette option pour gérer les événements de réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="00467-164">Override this to handle token response events.</span></span> |
| <span data-ttu-id="00467-165">Activité d’événement sans réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="00467-165">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="00467-166">Substituez ceci pour gérer les autres types d’événements.</span><span class="sxs-lookup"><span data-stu-id="00467-166">Override this to handle other types of events.</span></span> |
| <span data-ttu-id="00467-167">Autre type d’activité reçu</span><span class="sxs-lookup"><span data-stu-id="00467-167">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="00467-168">Remplacez ceci pour gérer n’importe quel type d’activité non géré.</span><span class="sxs-lookup"><span data-stu-id="00467-168">Override this to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="00467-169">Gestionnaires spécifiques à teams</span><span class="sxs-lookup"><span data-stu-id="00467-169">Teams-specific handlers</span></span>

<span data-ttu-id="00467-170">L' `TeamsActivityHandler` étend la liste des gestionnaires ci-dessus pour inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="00467-170">The `TeamsActivityHandler` extends the list of handlers above to include the following:</span></span>

| <span data-ttu-id="00467-171">Événement</span><span class="sxs-lookup"><span data-stu-id="00467-171">Event</span></span> | <span data-ttu-id="00467-172">D</span><span class="sxs-lookup"><span data-stu-id="00467-172">Handler</span></span> | <span data-ttu-id="00467-173">Description</span><span class="sxs-lookup"><span data-stu-id="00467-173">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="00467-174">channelCreated</span><span class="sxs-lookup"><span data-stu-id="00467-174">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="00467-175">Remplacez ceci pour gérer la création d’un canal Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-175">Override this to handle a Teams channel being created.</span></span> <span data-ttu-id="00467-176">Pour plus d’informations, consultez la rubrique [canal créé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-176">For more information see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="00467-177">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="00467-177">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="00467-178">Remplacez ceci pour gérer la suppression d’un canal Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-178">Override this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="00467-179">Pour plus d’informations, consultez la rubrique [canal supprimé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-179">For more information see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-180">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="00467-180">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="00467-181">Remplacez ceci pour gérer un canal teams renommé.</span><span class="sxs-lookup"><span data-stu-id="00467-181">Override this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="00467-182">Pour plus d’informations, voir [canal renommé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-182">For more information see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-183">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="00467-183">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="00467-184">`return Task.CompletedTask;` Remplacez ceci pour gérer une équipe teams renommée.</span><span class="sxs-lookup"><span data-stu-id="00467-184">`return Task.CompletedTask;` Override this to handle a Teams Team being Renamed.</span></span> <span data-ttu-id="00467-185">Pour plus d’informations, consultez la rubrique [Equipe renommée](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) en [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-185">For more information see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-186">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="00467-186">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="00467-187">Appelle la `OnMembersAddedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-187">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="00467-188">Remplacez ceci pour gérer les membres qui rejoignent une équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-188">Override this to handle members joining a team.</span></span> <span data-ttu-id="00467-189">Pour plus d’informations, consultez la rubrique membres de l' [équipe ajoutés dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-189">For more information see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-190">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="00467-190">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="00467-191">Appelle la `OnMembersRemovedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-191">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="00467-192">Remplacez ceci pour gérer les membres qui quittent une équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-192">Override this to handle members leaving a team.</span></span> <span data-ttu-id="00467-193">Pour plus d’informations, consultez la rubrique membres de l' [équipe supprimés dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-193">For more information see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="00467-194">Les équipes appellent des activités</span><span class="sxs-lookup"><span data-stu-id="00467-194">Teams invoke activities</span></span>

<span data-ttu-id="00467-195">Voici une liste de tous les gestionnaires d’activités de teams appelés à partir du gestionnaire d’activités de `OnInvokeActivityAsync` _teams_ :</span><span class="sxs-lookup"><span data-stu-id="00467-195">Here is a list of all of the Teams activity handlers called from the `OnInvokeActivityAsync` _Teams_ activity handler:</span></span>

| <span data-ttu-id="00467-196">Types d’appel</span><span class="sxs-lookup"><span data-stu-id="00467-196">Invoke types</span></span>                    | <span data-ttu-id="00467-197">D</span><span class="sxs-lookup"><span data-stu-id="00467-197">Handler</span></span>                              | <span data-ttu-id="00467-198">Description</span><span class="sxs-lookup"><span data-stu-id="00467-198">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="00467-199">CardAction. Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-199">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="00467-200">Appel d’action de la carte Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-200">Teams Card Action Invoke.</span></span> |
| <span data-ttu-id="00467-201">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-201">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="00467-202">Acceptation du consentement de fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-202">Teams File Consent Accept.</span></span> |
| <span data-ttu-id="00467-203">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-203">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="00467-204">Consentement du fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-204">Teams File Consent.</span></span> |
| <span data-ttu-id="00467-205">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-205">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="00467-206">Consentement du fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-206">Teams File Consent.</span></span> |
| <span data-ttu-id="00467-207">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="00467-207">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="00467-208">Action de la carte de connecteur O365 Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-208">Teams O365 connector Card Action.</span></span> |
| <span data-ttu-id="00467-209">connexion/verifyState</span><span class="sxs-lookup"><span data-stu-id="00467-209">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="00467-210">L’état de vérification de la connexion Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-210">Teams Sign in Verify State.</span></span> |
| <span data-ttu-id="00467-211">tâche/extraction</span><span class="sxs-lookup"><span data-stu-id="00467-211">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="00467-212">Extraction du module de tâche Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-212">Teams Task Module Fetch.</span></span> |
| <span data-ttu-id="00467-213">tâche/Envoyer</span><span class="sxs-lookup"><span data-stu-id="00467-213">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="00467-214">Soumission du module de tâche équipes.</span><span class="sxs-lookup"><span data-stu-id="00467-214">Teams Task Module Submit.</span></span> |

<span data-ttu-id="00467-215">Les activités d’appel répertoriées ci-dessus concernent les robots de conversation dans Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-215">The invoke activities listed above are for conversational bots in Teams.</span></span> <span data-ttu-id="00467-216">Le kit de développement logiciel (SDK) de robot prend également en charge les appels spécifiques aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="00467-216">The Bot Framework SDK also supports invokes specific to messaging extensions.</span></span> <span data-ttu-id="00467-217">Pour plus d’informations, consultez [qu’est-ce que les extensions de messagerie](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="00467-217">For more information see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions)</span></span>

# <a name="javascript"></a>[<span data-ttu-id="00467-218">JavaScript</span><span class="sxs-lookup"><span data-stu-id="00467-218">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="00467-219">Tous les gestionnaires d’activité décrits ci-dessous continuent de fonctionner comme ils le font avec un robot non Teams, à l’exception de la gestion des membres *ajoutés* et des membres des activités *supprimées* , celles-ci seront différentes dans le contexte d’une équipe, où le nouveau membre est ajouté à l’équipe par opposition à un thread de message.</span><span class="sxs-lookup"><span data-stu-id="00467-219">All of the activity handlers described below will continue to work as they do with a non-Teams bot, with the exception of handling the members *added* and members *removed* activities, these will be different in the context of a team, where the new member is added to the team as opposed to a message thread.</span></span>

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="00467-220">Gestionnaires d’infrastructure de robot principal</span><span class="sxs-lookup"><span data-stu-id="00467-220">Core Bot Framework handlers</span></span>

<span data-ttu-id="00467-221">Les gestionnaires définis dans `ActivityHandler` sont présentés ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="00467-221">The handlers defined in `ActivityHandler` are outlined below.</span></span>

| <span data-ttu-id="00467-222">Événement</span><span class="sxs-lookup"><span data-stu-id="00467-222">Event</span></span> | <span data-ttu-id="00467-223">D</span><span class="sxs-lookup"><span data-stu-id="00467-223">Handler</span></span> | <span data-ttu-id="00467-224">Description</span><span class="sxs-lookup"><span data-stu-id="00467-224">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="00467-225">N’importe quel type d’activité reçu</span><span class="sxs-lookup"><span data-stu-id="00467-225">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="00467-226">Appelle l’un des autres gestionnaires, en fonction du type d’activité reçu.</span><span class="sxs-lookup"><span data-stu-id="00467-226">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="00467-227">Activité de message reçue</span><span class="sxs-lookup"><span data-stu-id="00467-227">Message activity received</span></span> | `onMessage` | <span data-ttu-id="00467-228">Fournissez une fonction pour qu’elle gère une `Message` activité.</span><span class="sxs-lookup"><span data-stu-id="00467-228">Provide a function for this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="00467-229">Activité de mise à jour de conversation reçue</span><span class="sxs-lookup"><span data-stu-id="00467-229">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="00467-230">Sur une `ConversationUpdate` activité, appelle un gestionnaire si les membres autres que le bot ont rejoint ou quitté la conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-230">On a `ConversationUpdate` activity, calls a handler if members other than the bot joined or left the conversation.</span></span> |
| <span data-ttu-id="00467-231">Les membres autres que les robots joignent la conversation</span><span class="sxs-lookup"><span data-stu-id="00467-231">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="00467-232">Fournissez une fonction permettant de gérer les membres qui rejoignent une conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-232">Provide a function for this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="00467-233">Les membres non-bot ont quitté la conversation</span><span class="sxs-lookup"><span data-stu-id="00467-233">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="00467-234">Fournir une fonction pour ce qui permet de gérer les membres qui quittent une conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-234">Provide a function for this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="00467-235">Activité d’événement reçue</span><span class="sxs-lookup"><span data-stu-id="00467-235">Event activity received</span></span> | `onEvent` | <span data-ttu-id="00467-236">Sur une `Event` activité, appelle un gestionnaire spécifique au type d’événement.</span><span class="sxs-lookup"><span data-stu-id="00467-236">On an `Event` activity, calls a handler specific to the event type.</span></span> |
| <span data-ttu-id="00467-237">Activité d’événement de réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="00467-237">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="00467-238">Fournissez une fonction permettant de gérer les événements de réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="00467-238">Provide a function for this to handle token response events.</span></span> |
| <span data-ttu-id="00467-239">Autre type d’activité reçu</span><span class="sxs-lookup"><span data-stu-id="00467-239">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="00467-240">Fournissez une fonction pour qu’elle gère n’importe quel type d’activité non géré.</span><span class="sxs-lookup"><span data-stu-id="00467-240">Provide a function for this to handle any activity type otherwise unhandled.</span></span> |
| <span data-ttu-id="00467-241">Gestionnaires d’activité terminés</span><span class="sxs-lookup"><span data-stu-id="00467-241">Activity handlers have completed</span></span> | `onDialog` | <span data-ttu-id="00467-242">Fournissez une fonction permettant de gérer le traitement qui doit être effectué à la fin d’un tour une fois que le reste de vos gestionnaires d’activité est terminé.</span><span class="sxs-lookup"><span data-stu-id="00467-242">Provide a function for this to handle any processing that should be done at the end of a turn after the rest of your activity handlers have completed.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="00467-243">Gestionnaires spécifiques à teams</span><span class="sxs-lookup"><span data-stu-id="00467-243">Teams-specific handlers</span></span>

<span data-ttu-id="00467-244">L' `TeamsActivityHandler` étend la liste des gestionnaires dans la section des gestionnaires de l’infrastructure de robot pour inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="00467-244">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="00467-245">Événement</span><span class="sxs-lookup"><span data-stu-id="00467-245">Event</span></span> | <span data-ttu-id="00467-246">D</span><span class="sxs-lookup"><span data-stu-id="00467-246">Handler</span></span> | <span data-ttu-id="00467-247">Description</span><span class="sxs-lookup"><span data-stu-id="00467-247">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="00467-248">channelCreated</span><span class="sxs-lookup"><span data-stu-id="00467-248">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="00467-249">Remplacez ceci pour gérer la création d’un canal Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-249">Override this to handle a Teams channel being created.</span></span> <span data-ttu-id="00467-250">Pour plus d’informations, consultez la rubrique [canal créé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-250">For more information see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="00467-251">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="00467-251">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="00467-252">Remplacez ceci pour gérer la suppression d’un canal Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-252">Override this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="00467-253">Pour plus d’informations, consultez la rubrique [canal supprimé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-253">For more information see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-254">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="00467-254">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="00467-255">Remplacez ceci pour gérer un canal teams renommé.</span><span class="sxs-lookup"><span data-stu-id="00467-255">Override this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="00467-256">Pour plus d’informations, voir [canal renommé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-256">For more information see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="00467-257">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="00467-257">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="00467-258">`return Task.CompletedTask;` Remplacez ceci pour gérer une équipe teams renommée.</span><span class="sxs-lookup"><span data-stu-id="00467-258">`return Task.CompletedTask;` Override this to handle a Teams team being renamed.</span></span> <span data-ttu-id="00467-259">Pour plus d’informations, consultez la rubrique [Equipe renommée](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) en [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-259">For more information see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="00467-260">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="00467-260">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="00467-261">Appelle la `OnMembersAddedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-261">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="00467-262">Remplacez ceci pour gérer les membres qui rejoignent une équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-262">Override this to handle members joining a team.</span></span> <span data-ttu-id="00467-263">Pour plus d’informations, consultez la rubrique membres de l' [équipe ajoutés dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-263">For more information see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="00467-264">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="00467-264">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="00467-265">Appelle la `OnMembersRemovedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-265">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="00467-266">Remplacez ceci pour gérer les membres qui quittent une équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-266">Override this to handle members leaving a team.</span></span> <span data-ttu-id="00467-267">Pour plus d’informations, consultez la rubrique membres de l' [équipe supprimés dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-267">For more information see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="00467-268">Les équipes appellent des activités</span><span class="sxs-lookup"><span data-stu-id="00467-268">Teams invoke activities</span></span>

<span data-ttu-id="00467-269">Voici une liste de tous les gestionnaires d’activités de teams appelés à partir du `onInvokeActivity` Gestionnaire d’activités de teams :</span><span class="sxs-lookup"><span data-stu-id="00467-269">Here is a list of all of the Teams activity handlers called from the `onInvokeActivity` Teams activity handler:</span></span>

| <span data-ttu-id="00467-270">Types d’appel</span><span class="sxs-lookup"><span data-stu-id="00467-270">Invoke types</span></span>                    | <span data-ttu-id="00467-271">D</span><span class="sxs-lookup"><span data-stu-id="00467-271">Handler</span></span>                              | <span data-ttu-id="00467-272">Description</span><span class="sxs-lookup"><span data-stu-id="00467-272">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="00467-273">CardAction. Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-273">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="00467-274">Appel d’action de la carte Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-274">Teams card action invoke.</span></span> |
| <span data-ttu-id="00467-275">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-275">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="00467-276">Acceptation du consentement de fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-276">Teams file consent accept.</span></span> |
| <span data-ttu-id="00467-277">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-277">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="00467-278">Consentement du fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-278">Teams file consent.</span></span> |
| <span data-ttu-id="00467-279">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-279">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="00467-280">Consentement du fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-280">Teams file consent.</span></span> |
| <span data-ttu-id="00467-281">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="00467-281">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="00467-282">Action de la carte de connecteur O365 Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-282">Teams O365 connector card action.</span></span> |
| <span data-ttu-id="00467-283">connexion/verifyState</span><span class="sxs-lookup"><span data-stu-id="00467-283">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="00467-284">L’état de vérification de la connexion Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-284">Teams sign in verify state.</span></span> |
| <span data-ttu-id="00467-285">tâche/extraction</span><span class="sxs-lookup"><span data-stu-id="00467-285">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="00467-286">Extraction du module de tâche Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-286">Teams task module fetch.</span></span> |
| <span data-ttu-id="00467-287">tâche/Envoyer</span><span class="sxs-lookup"><span data-stu-id="00467-287">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="00467-288">Soumission du module de tâche équipes.</span><span class="sxs-lookup"><span data-stu-id="00467-288">Teams task module submit.</span></span> |

<span data-ttu-id="00467-289">Les activités d’appel répertoriées dans la section activités appel à teams sont destinées aux robots de conversation dans Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-289">The invoke activities listed in the Teams invoke activities section are for conversational bots in Teams.</span></span> <span data-ttu-id="00467-290">Le kit de développement logiciel (SDK) de robot prend également en charge les activités d’appel spécifiques aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="00467-290">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="00467-291">Pour plus d’informations, consultez la rubrique [What is Messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="00467-291">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="00467-292">Python</span><span class="sxs-lookup"><span data-stu-id="00467-292">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="00467-293">Gestionnaires d’infrastructure de robot principal</span><span class="sxs-lookup"><span data-stu-id="00467-293">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="00467-294">À l’exception des activités des membres ajoutées et supprimées, tous les gestionnaires d’activité décrits dans cette section continuent de fonctionner comme ils le font avec un bot non Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-294">Except for the added and removed members' activities, all of the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="00467-295">Les gestionnaires d’activité sont différents dans le contexte d’une équipe, où le nouveau membre est ajouté à l’équipe au lieu d’un thread de message.</span><span class="sxs-lookup"><span data-stu-id="00467-295">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="00467-296">La liste des gestionnaires définis dans `ActivityHandler` inclut les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="00467-296">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="00467-297">Événement</span><span class="sxs-lookup"><span data-stu-id="00467-297">Event</span></span> | <span data-ttu-id="00467-298">D</span><span class="sxs-lookup"><span data-stu-id="00467-298">Handler</span></span> | <span data-ttu-id="00467-299">Description</span><span class="sxs-lookup"><span data-stu-id="00467-299">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="00467-300">N’importe quel type d’activité reçu</span><span class="sxs-lookup"><span data-stu-id="00467-300">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="00467-301">Appelle l’un des autres gestionnaires, en fonction du type d’activité reçu.</span><span class="sxs-lookup"><span data-stu-id="00467-301">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="00467-302">Activité de message reçue</span><span class="sxs-lookup"><span data-stu-id="00467-302">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="00467-303">Remplace ceci pour gérer une `Message` activité.</span><span class="sxs-lookup"><span data-stu-id="00467-303">Overrides this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="00467-304">Activité de mise à jour de conversation reçue</span><span class="sxs-lookup"><span data-stu-id="00467-304">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="00467-305">Appelle un gestionnaire si les membres autres que le bot rejoignent ou quittent la conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-305">Calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="00467-306">Les membres autres que les robots joignent la conversation</span><span class="sxs-lookup"><span data-stu-id="00467-306">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="00467-307">Remplace ceci pour gérer les membres qui rejoignent une conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-307">Overrides this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="00467-308">Les membres non-bot ont quitté la conversation</span><span class="sxs-lookup"><span data-stu-id="00467-308">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="00467-309">Remplace ceci pour gérer les membres qui quittent une conversation.</span><span class="sxs-lookup"><span data-stu-id="00467-309">Overrides this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="00467-310">Activité d’événement reçue</span><span class="sxs-lookup"><span data-stu-id="00467-310">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="00467-311">Appelle un gestionnaire spécifique au type d’événement.</span><span class="sxs-lookup"><span data-stu-id="00467-311">Calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="00467-312">Activité d’événement de réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="00467-312">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="00467-313">Remplace ceci pour gérer les événements de réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="00467-313">Overrides this to handle token response events.</span></span> |
| <span data-ttu-id="00467-314">Activité d’événement sans réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="00467-314">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="00467-315">Substitue ceci pour gérer d’autres types d’événements.</span><span class="sxs-lookup"><span data-stu-id="00467-315">Overrides this to handle other types of events.</span></span> |
| <span data-ttu-id="00467-316">Autres types d’activité reçus</span><span class="sxs-lookup"><span data-stu-id="00467-316">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="00467-317">Remplace ceci pour gérer tout type d’activité qui n’est pas géré.</span><span class="sxs-lookup"><span data-stu-id="00467-317">Overrides this to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="00467-318">Gestionnaires spécifiques à teams</span><span class="sxs-lookup"><span data-stu-id="00467-318">Teams-specific handlers</span></span>

<span data-ttu-id="00467-319">L' `TeamsActivityHandler` étend la liste des gestionnaires à partir de la section gestionnaires de l’infrastructure de robot principale pour inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="00467-319">The `TeamsActivityHandler` extends the list of handlers from the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="00467-320">Événement</span><span class="sxs-lookup"><span data-stu-id="00467-320">Event</span></span> | <span data-ttu-id="00467-321">D</span><span class="sxs-lookup"><span data-stu-id="00467-321">Handler</span></span> | <span data-ttu-id="00467-322">Description</span><span class="sxs-lookup"><span data-stu-id="00467-322">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="00467-323">channelCreated</span><span class="sxs-lookup"><span data-stu-id="00467-323">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="00467-324">Remplace ceci pour gérer un canal teams en cours de création.</span><span class="sxs-lookup"><span data-stu-id="00467-324">Overrides this to handle a Teams channel being created.</span></span> <span data-ttu-id="00467-325">Pour plus d’informations, consultez la rubrique [canal créé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) dans les [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-325">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="00467-326">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="00467-326">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="00467-327">Remplace ceci pour gérer la suppression d’un canal Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-327">Overrides this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="00467-328">Pour plus d’informations, consultez la rubrique [Channel Deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-328">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-329">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="00467-329">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="00467-330">Remplace ceci pour gérer le changement de nom d’un canal Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-330">Overrides this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="00467-331">Pour plus d’informations, reportez-vous à la rubrique [canal renommé](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) dans [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-331">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-332">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="00467-332">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="00467-333">`return Task.CompletedTask;` Remplace ceci pour gérer une équipe teams renommée.</span><span class="sxs-lookup"><span data-stu-id="00467-333">`return Task.CompletedTask;` Overrides this to handle a Teams team being renamed.</span></span> <span data-ttu-id="00467-334">Pour plus d’informations, voir [Team Renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-334">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-335">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="00467-335">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="00467-336">Appelle la `OnMembersAddedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-336">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="00467-337">Remplace ceci pour gérer les membres qui rejoignent une équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-337">Overrides this to handle members joining a team.</span></span> <span data-ttu-id="00467-338">Pour plus d’informations, consultez la rubrique membres de l' [équipe ajoutés dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-338">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="00467-339">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="00467-339">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="00467-340">Appelle la `OnMembersRemovedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="00467-340">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="00467-341">Remplace ceci pour gérer les membres qui quittent une équipe.</span><span class="sxs-lookup"><span data-stu-id="00467-341">Overrides this to handle members leaving a team.</span></span> <span data-ttu-id="00467-342">Pour plus d’informations, consultez la rubrique membres de l' [équipe supprimés dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) [événements de mise à jour de conversation](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="00467-342">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="00467-343">Les équipes appellent des activités</span><span class="sxs-lookup"><span data-stu-id="00467-343">Teams invoke activities</span></span>

<span data-ttu-id="00467-344">La liste des gestionnaires d’activités teams appelés à partir du `on_invoke_activity` Gestionnaire d’activités de teams comprend les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="00467-344">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="00467-345">Types d’appel</span><span class="sxs-lookup"><span data-stu-id="00467-345">Invoke types</span></span>                    | <span data-ttu-id="00467-346">D</span><span class="sxs-lookup"><span data-stu-id="00467-346">Handler</span></span>                              | <span data-ttu-id="00467-347">Description</span><span class="sxs-lookup"><span data-stu-id="00467-347">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="00467-348">CardAction. Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-348">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="00467-349">Appel d’action de la carte Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-349">Teams card action invoke.</span></span> |
| <span data-ttu-id="00467-350">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-350">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="00467-351">Acceptation du consentement de fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-351">Teams file consent accept.</span></span> |
| <span data-ttu-id="00467-352">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-352">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="00467-353">Consentement du fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-353">Teams file consent.</span></span> |
| <span data-ttu-id="00467-354">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="00467-354">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="00467-355">Refus de consentement de fichier Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-355">Teams file consent decline.</span></span> |
| <span data-ttu-id="00467-356">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="00467-356">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="00467-357">Action de la carte de connecteur O365 Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-357">Teams O365 connector card action.</span></span> |
| <span data-ttu-id="00467-358">connexion/verifyState</span><span class="sxs-lookup"><span data-stu-id="00467-358">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="00467-359">L’état de vérification de la connexion Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-359">Teams sign in verify state.</span></span> |
| <span data-ttu-id="00467-360">tâche/extraction</span><span class="sxs-lookup"><span data-stu-id="00467-360">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="00467-361">Extraction du module de tâche Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-361">Teams task module fetch.</span></span> |
| <span data-ttu-id="00467-362">tâche/Envoyer</span><span class="sxs-lookup"><span data-stu-id="00467-362">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="00467-363">Soumission du module de tâche équipes.</span><span class="sxs-lookup"><span data-stu-id="00467-363">Teams task module submit.</span></span> |

<span data-ttu-id="00467-364">Les activités d’appel répertoriées dans la section activités appel à teams sont destinées aux robots de conversation dans Teams.</span><span class="sxs-lookup"><span data-stu-id="00467-364">The invoke activities listed in the Teams invoke activities section are for conversational bots in Teams.</span></span> <span data-ttu-id="00467-365">Le kit de développement logiciel (SDK) de robot prend également en charge les activités d’appel spécifiques aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="00467-365">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="00467-366">Pour plus d’informations, consultez la rubrique [What is Messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="00467-366">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---
