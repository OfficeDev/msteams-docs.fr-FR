---
title: Gestionnaire d'activité du robot
author: clearab
description: Comprendre les handlers d'activité des bots dans Teams.
ms.topic: conceptual
localization_priority: Normal
ms.author: anclear
ms.openlocfilehash: da770d930ca6d00503c0102f1e683a60161636fd
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/26/2021
ms.locfileid: "52020189"
---
# <a name="bot-activity-handlers"></a><span data-ttu-id="ef7e0-103">Gestionnaire d'activité du robot</span><span class="sxs-lookup"><span data-stu-id="ef7e0-103">Bot activity handlers</span></span>

<span data-ttu-id="ef7e0-104">Ce document s'appuie sur l'article sur le fonctionnement [des bots](https://aka.ms/how-bots-work) dans la [documentation principale de Bot Framework.](https://aka.ms/azure-bot-service-docs)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-104">This document builds on the article on [how bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="ef7e0-105">La principale différence entre les bots développés pour Microsoft Teams et l'infrastructure de bot principale est dans les fonctionnalités fournies dans Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-105">The primary difference between bots developed for Microsoft Teams and the core Bot Framework is in the features provided in Teams.</span></span>

<span data-ttu-id="ef7e0-106">Pour organiser la logique de conversation de votre bot, un responsable des activités est utilisé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-106">To organize the conversational logic for your bot, an activity handler is used.</span></span> <span data-ttu-id="ef7e0-107">Les activités sont gérées de deux manières à l'aide des handleurs d'activité Teams et de la logique du bot.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-107">Activities are handled in two ways using Teams activity handlers and bot logic.</span></span> <span data-ttu-id="ef7e0-108">Le responsable de l'activité Teams ajoute la prise en charge des événements et interactions spécifiques à Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-108">The Teams activity handler adds support for Microsoft Teams-specific events and interactions.</span></span> <span data-ttu-id="ef7e0-109">L'objet bot contient le logique ou le raisonnement conversationnel d'un tour et expose un sous-robot, qui est la méthode qui peut accepter les activités entrantes de la carte du bot.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-109">The bot object contains the conversational reasoning or logic for a turn and exposes a turn handler, which is the method that can accept incoming activities from the bot adapter.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="ef7e0-110">Gérés d'activité Teams</span><span class="sxs-lookup"><span data-stu-id="ef7e0-110">Teams activity handlers</span></span>

<span data-ttu-id="ef7e0-111">Le handler d'activité Teams est dérivé du programme de gestion d'activité de Microsoft Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-111">Teams activity handler is derived from Microsoft Bot Framework's activity handler.</span></span> <span data-ttu-id="ef7e0-112">Il a pour but d'approvisionnement toutes les activités Teams avant d'autoriser le traitement des activités non spécifiques à Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-112">It routes all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

<span data-ttu-id="ef7e0-113">Lorsqu'un bot pour Teams reçoit une activité, il est acheminé vers les responsables de l'activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-113">When a bot for Teams receives an activity, it is routed to the activity handlers.</span></span> <span data-ttu-id="ef7e0-114">Toutes les activités sont acheminées par le biais d'un seul handler de base appelé « turn handler ».</span><span class="sxs-lookup"><span data-stu-id="ef7e0-114">All activities are routed through one base handler called the turn handler.</span></span> <span data-ttu-id="ef7e0-115">Le handler turn appelle le handler d'activité requis pour gérer les activités reçues.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-115">The turn handler calls the required activity handler to manage any activity received.</span></span> <span data-ttu-id="ef7e0-116">Le bot Teams est dérivé de la classe, qui est dérivée de la classe `TeamsActivityHandler` bot `ActivityHandler` Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-116">The Teams bot is derived from `TeamsActivityHandler` class, which is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="ef7e0-117">C#</span><span class="sxs-lookup"><span data-stu-id="ef7e0-117">C#</span></span>](#tab/csharp)

<span data-ttu-id="ef7e0-118">Les bots sont créés à l'aide de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-118">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="ef7e0-119">Si les bots reçoivent une activité de message, le turn handler reçoit une notification de cette activité entrante.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-119">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="ef7e0-120">Le handler turn envoie ensuite l'activité entrante au `OnMessageActivityAsync` handler d'activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-120">The turn handler then sends the incoming activity to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="ef7e0-121">Dans Teams, cette fonctionnalité reste la même.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-121">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="ef7e0-122">Si le bot reçoit une activité de mise à jour de conversation, le turn handler reçoit une notification de cette activité entrante et envoie l'activité entrante à `OnConversationUpdateActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-122">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="ef7e0-123">Le responsable de l'activité Teams vérifie d'abord s'il y a des événements spécifiques à Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-123">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="ef7e0-124">Si aucun événement n'est trouvé, il les transmet ensuite au programme de gestion d'activité de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-124">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="ef7e0-125">Dans la classe du handler d'activité Teams, il existe deux principaux de ces derniers, `OnConversationUpdateActivityAsync` et `OnInvokeActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-125">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` and `OnInvokeActivityAsync`.</span></span> <span data-ttu-id="ef7e0-126">`OnConversationUpdateActivityAsync` route toutes les activités de mise à jour de conversation et `OnInvokeActivityAsync` route toutes les activités d'appel teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-126">`OnConversationUpdateActivityAsync` routes all conversation update activities and `OnInvokeActivityAsync` routes all Teams invoke activities.</span></span>

<span data-ttu-id="ef7e0-127">Pour implémenter votre logique pour des responsables d'activité spécifiques à Teams, vous devez remplacer les méthodes de votre bot, comme indiqué dans la section [logique du bot.](#bot-logic)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-127">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [bot logic](#bot-logic) section.</span></span> <span data-ttu-id="ef7e0-128">Il n'existe aucune implémentation de base pour ces handlers, par conséquent, vous devez ajouter la logique que vous souhaitez dans votre substitution.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-128">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="ef7e0-129">JavaScript</span><span class="sxs-lookup"><span data-stu-id="ef7e0-129">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="ef7e0-130">Les bots sont créés à l'aide de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-130">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="ef7e0-131">Si les bots reçoivent une activité de message, le turn handler reçoit une notification de cette activité entrante.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-131">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="ef7e0-132">Le handler turn envoie ensuite l'activité entrante au `onMessage` handler d'activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-132">The turn handler then sends the incoming activity to the `onMessage` activity handler.</span></span> <span data-ttu-id="ef7e0-133">Dans Teams, cette fonctionnalité reste la même.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-133">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="ef7e0-134">Si le bot reçoit une activité de mise à jour de conversation, le turn handler reçoit une notification de cette activité entrante et envoie l'activité entrante à `dispatchConversationUpdateActivity` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-134">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="ef7e0-135">Le responsable de l'activité Teams vérifie d'abord s'il y a des événements spécifiques à Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-135">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="ef7e0-136">Si aucun événement n'est trouvé, il les transmet ensuite au programme de gestion d'activité de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-136">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="ef7e0-137">Dans la classe du handler d'activité Teams, il existe deux principaux de ces derniers, `dispatchConversationUpdateActivity` et `onInvokeActivity` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-137">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` and `onInvokeActivity`.</span></span> <span data-ttu-id="ef7e0-138">`dispatchConversationUpdateActivity` route toutes les activités de mise à jour de conversation et `onInvokeActivity` route toutes les activités d'appel teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-138">`dispatchConversationUpdateActivity` routes all conversation update activities and `onInvokeActivity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="ef7e0-139">Pour implémenter votre logique pour des responsables d'activité spécifiques à Teams, vous devez remplacer les méthodes de votre bot, comme indiqué dans la section [logique du bot.](#bot-logic)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-139">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [bot logic](#bot-logic) section.</span></span> <span data-ttu-id="ef7e0-140">Définissez votre logique de bot pour ces handlers, puis assurez-vous d'appeler `next()` à la fin.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-140">Define your bot logic for these handlers, then be sure to call `next()` at the end.</span></span> <span data-ttu-id="ef7e0-141">En `next()` appelant, vous vous assurez que le prochain handler s'exécute.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-141">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="ef7e0-142">Python</span><span class="sxs-lookup"><span data-stu-id="ef7e0-142">Python</span></span>](#tab/python)

<span data-ttu-id="ef7e0-143">Les bots sont créés à l'aide de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-143">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="ef7e0-144">Si les bots reçoivent une activité de message, le turn handler reçoit une notification de cette activité entrante.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-144">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="ef7e0-145">Le handler turn envoie ensuite l'activité entrante au `on_message_activity` handler d'activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-145">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="ef7e0-146">Dans Teams, cette fonctionnalité reste la même.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-146">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="ef7e0-147">Si le bot reçoit une activité de mise à jour de conversation, le turn handler reçoit une notification de cette activité entrante et envoie l'activité entrante à `on_conversation_update_activity` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-147">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="ef7e0-148">Le responsable de l'activité Teams vérifie d'abord s'il y a des événements spécifiques à Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-148">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="ef7e0-149">Si aucun événement n'est trouvé, il les transmet ensuite au programme de gestion d'activité de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-149">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="ef7e0-150">Dans la classe du handler d'activité Teams, il existe deux principaux de ces derniers, `on_conversation_update_activity` et `on_invoke_activity` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-150">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="ef7e0-151">`on_conversation_update_activity` route toutes les activités de mise à jour de conversation et `on_invoke_activity` route toutes les activités d'appel teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-151">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="ef7e0-152">Pour implémenter votre logique pour des responsables d'activité spécifiques à Teams, vous devez remplacer les méthodes de votre bot, comme indiqué dans la section [logique du bot.](#bot-logic)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-152">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [bot logic](#bot-logic) section.</span></span> <span data-ttu-id="ef7e0-153">Il n'existe aucune implémentation de base pour ces handlers, par conséquent, vous devez ajouter la logique que vous souhaitez dans votre substitution.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-153">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="ef7e0-154">Logique du bot</span><span class="sxs-lookup"><span data-stu-id="ef7e0-154">Bot logic</span></span>

<span data-ttu-id="ef7e0-155">La logique du bot traite les activités entrantes à partir d'un ou plusieurs de vos canaux de bot et génère en réponse des activités sortantes.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-155">The bot logic processes incoming activities from one or more of your bot channels and in response generates outgoing activities.</span></span> <span data-ttu-id="ef7e0-156">Cela est toujours vrai pour les bots dérivés de la classe du responsable de l'activité Teams, qui vérifie d'abord les activités teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-156">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities.</span></span> <span data-ttu-id="ef7e0-157">Après avoir vérifié les activités teams, il transmet toutes les autres activités au programme de gestion d'activité de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-157">After checking for Teams activities, it passes all other activities to the Bot Framework's activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="ef7e0-158">C#</span><span class="sxs-lookup"><span data-stu-id="ef7e0-158">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="ef7e0-159">Principaux handlers Bot Framework</span><span class="sxs-lookup"><span data-stu-id="ef7e0-159">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="ef7e0-160">À **l'exception**  des activités des membres ajoutés et supprimés, tous les responsables d'activité décrits dans cette section continuent de fonctionner comme ils le font avec un bot autre que Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-160">Except for the **added** and **removed** members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="ef7e0-161">Les responsables d'activité sont différents dans le contexte d'une équipe, où un nouveau membre est ajouté à l'équipe au lieu d'un thread de message.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-161">Activity handlers are different in context of a team, where a new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="ef7e0-162">La liste des handlers définis dans `ActivityHandler` inclut les suivants :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-162">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="ef7e0-163">Événement</span><span class="sxs-lookup"><span data-stu-id="ef7e0-163">Event</span></span> | <span data-ttu-id="ef7e0-164">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-164">Handler</span></span> | <span data-ttu-id="ef7e0-165">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-165">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="ef7e0-166">Tout type d'activité reçu</span><span class="sxs-lookup"><span data-stu-id="ef7e0-166">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="ef7e0-167">Cette méthode appelle l'un des autres handlers, en fonction du type d'activité reçu.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-167">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="ef7e0-168">Activité de message reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-168">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="ef7e0-169">Cette méthode peut être overridden pour gérer une `Message` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-169">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="ef7e0-170">Activité de mise à jour de conversation reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-170">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="ef7e0-171">Cette méthode appelle un handler si des membres autres que le bot ont rejoint ou quitté la conversation, lors d'une `ConversationUpdate` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-171">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="ef7e0-172">Les membres non-bot ont rejoint la conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-172">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="ef7e0-173">Cette méthode peut être utilisée pour gérer les membres qui rejoignent une conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-173">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="ef7e0-174">Les membres non-bot ont quitté la conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-174">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="ef7e0-175">Cette méthode peut être utilisée pour gérer les membres quittant une conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-175">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="ef7e0-176">Activité d'événement reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-176">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="ef7e0-177">Cette méthode appelle un handler spécifique au type d'événement, sur une `Event` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-177">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="ef7e0-178">Activité d'événement de réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-178">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="ef7e0-179">Cette méthode peut être overridée pour gérer les événements de réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-179">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="ef7e0-180">Activité d'événement de réponse sans jeton reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-180">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="ef7e0-181">Cette méthode peut être utilisée pour gérer d'autres types d'événements.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-181">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="ef7e0-182">Autre type d'activité reçu</span><span class="sxs-lookup"><span data-stu-id="ef7e0-182">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="ef7e0-183">Cette méthode peut être overridée pour gérer n'importe quel type d'activité autrement non géré.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-183">This method can be overridden to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="ef7e0-184">Les personnes qui gèrent des activités spécifiques à Teams</span><span class="sxs-lookup"><span data-stu-id="ef7e0-184">Teams specific activity handlers</span></span>

<span data-ttu-id="ef7e0-185">Il étend la liste des handlers dans la section principale des `TeamsActivityHandler` handlers Bot Framework pour inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-185">The `TeamsActivityHandler` extends the list of handlers in the core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="ef7e0-186">Événement</span><span class="sxs-lookup"><span data-stu-id="ef7e0-186">Event</span></span> | <span data-ttu-id="ef7e0-187">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-187">Handler</span></span> | <span data-ttu-id="ef7e0-188">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-188">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="ef7e0-189">channelCreated</span><span class="sxs-lookup"><span data-stu-id="ef7e0-189">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="ef7e0-190">Cette méthode peut être overridée pour gérer un canal Teams en cours de création.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-190">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="ef7e0-191">Pour plus d'informations, [voir le canal créé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-191">For more information, see [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="ef7e0-192">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="ef7e0-192">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="ef7e0-193">Cette méthode peut être supprimée pour gérer un canal Teams en cours de suppression.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-193">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="ef7e0-194">Pour plus d'informations, [voir canal supprimé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-194">For more information, see [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-195">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="ef7e0-195">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="ef7e0-196">Cette méthode peut être changée pour gérer un canal Teams renommé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-196">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="ef7e0-197">Pour plus d'informations, [voir canal renommé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-197">For more information, see [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-198">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="ef7e0-198">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="ef7e0-199">`return Task.CompletedTask;` Cette méthode peut être changée pour gérer une équipe Teams renommée.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-199">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="ef7e0-200">Pour plus d'informations, voir [l'équipe renommée dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-200">For more information, see [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-201">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="ef7e0-201">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="ef7e0-202">Cette méthode appelle la `OnMembersAddedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-202">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="ef7e0-203">La méthode peut être overridée pour gérer les membres qui rejoignent une équipe.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-203">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="ef7e0-204">Pour plus d'informations, voir les membres [de l'équipe ajoutés aux](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-204">For more information, see [team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-205">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="ef7e0-205">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="ef7e0-206">Cette méthode appelle la `OnMembersRemovedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-206">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="ef7e0-207">La méthode peut être overridée pour gérer les membres quittant une équipe.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-207">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="ef7e0-208">Pour plus d'informations, voir les membres [de l'équipe supprimés dans](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) les événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-208">For more information, see [team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="ef7e0-209">Les équipes appellent des activités</span><span class="sxs-lookup"><span data-stu-id="ef7e0-209">Teams invoke activities</span></span>

<span data-ttu-id="ef7e0-210">La liste des handlers d'activité Teams appelés à partir du `OnInvokeActivityAsync` handler d'activité Teams est la suivante :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-210">The list of Teams activity handlers called from the `OnInvokeActivityAsync` Teams activity handler include the following:</span></span>

| <span data-ttu-id="ef7e0-211">Types d’appel</span><span class="sxs-lookup"><span data-stu-id="ef7e0-211">Invoke types</span></span>                    | <span data-ttu-id="ef7e0-212">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-212">Handler</span></span>                              | <span data-ttu-id="ef7e0-213">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-213">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="ef7e0-214">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-214">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="ef7e0-215">Cette méthode est invoquée lorsqu’une activité d’appel d’action de carte est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-215">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-216">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-216">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="ef7e0-217">Cette méthode est invoquée lorsqu’une carte de consentement de fichier est acceptée par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-217">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="ef7e0-218">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-218">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="ef7e0-219">Cette méthode est invoquée lorsqu’une activité de carte de consentement de fichier est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-219">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-220">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-220">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="ef7e0-221">Cette méthode est invoquée lorsqu’une carte de consentement de fichier est refusée par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-221">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="ef7e0-222">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="ef7e0-222">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="ef7e0-223">Cette méthode est invoquée lorsqu’une activité d’action de carte de connecteur O365 est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-223">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-224">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="ef7e0-224">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="ef7e0-225">Cette méthode est invoquée lorsqu’une activité de vérification de l’état signIn est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-225">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-226">task/fetch</span><span class="sxs-lookup"><span data-stu-id="ef7e0-226">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="ef7e0-227">Cette méthode peut être override dans une classe dérivée pour fournir une logique lorsqu’un module de tâche est extrait.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-227">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="ef7e0-228">tâche/envoyer</span><span class="sxs-lookup"><span data-stu-id="ef7e0-228">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="ef7e0-229">Cette méthode peut être overridée dans une classe dérivée pour fournir une logique lorsqu’un module de tâche est envoyé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-229">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="ef7e0-230">Les activités d’appel répertoriées dans cette section sont pour les bots de conversation dans Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-230">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="ef7e0-231">Le SDK Bot Framework prend également en charge les activités d’appel spécifiques aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-231">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="ef7e0-232">Pour plus d'informations, [voir les extensions de messagerie.](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-232">For more information, see [what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="javascript"></a>[<span data-ttu-id="ef7e0-233">JavaScript</span><span class="sxs-lookup"><span data-stu-id="ef7e0-233">JavaScript</span></span>](#tab/javascript)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="ef7e0-234">Principaux handlers Bot Framework</span><span class="sxs-lookup"><span data-stu-id="ef7e0-234">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="ef7e0-235">À **l'exception**  des activités des membres ajoutés et supprimés, tous les responsables d'activité décrits dans cette section continuent de fonctionner comme ils le font avec un bot autre que Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-235">Except for the **added** and **removed** members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="ef7e0-236">Les responsables d'activité sont différents dans le contexte d'une équipe, où le nouveau membre est ajouté à l'équipe au lieu d'un thread de message.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-236">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="ef7e0-237">La liste des handlers définis dans `ActivityHandler` inclut les suivants :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-237">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="ef7e0-238">Événement</span><span class="sxs-lookup"><span data-stu-id="ef7e0-238">Event</span></span> | <span data-ttu-id="ef7e0-239">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-239">Handler</span></span> | <span data-ttu-id="ef7e0-240">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-240">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="ef7e0-241">Tout type d'activité reçu</span><span class="sxs-lookup"><span data-stu-id="ef7e0-241">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="ef7e0-242">Cette méthode appelle l'un des autres handlers, en fonction du type d'activité reçu.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-242">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="ef7e0-243">Activité de message reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-243">Message activity received</span></span> | `onMessage` | <span data-ttu-id="ef7e0-244">Cette méthode permet de gérer une `Message` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-244">This method helps to handle a `Message` activity.</span></span> |
| <span data-ttu-id="ef7e0-245">Activité de mise à jour de conversation reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-245">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="ef7e0-246">Cette méthode appelle un handler si des membres autres que le bot ont rejoint ou quitté la conversation, lors d'une `ConversationUpdate` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-246">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="ef7e0-247">Les membres non-bot ont rejoint la conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-247">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="ef7e0-248">Cette méthode permet de gérer les membres qui rejoignent une conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-248">This method helps to handle members joining a conversation.</span></span> |
| <span data-ttu-id="ef7e0-249">Les membres non-bot ont quitté la conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-249">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="ef7e0-250">Cette méthode permet de gérer les membres quittant une conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-250">This method helps to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="ef7e0-251">Activité d'événement reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-251">Event activity received</span></span> | `onEvent` | <span data-ttu-id="ef7e0-252">Cette méthode appelle un handler spécifique au type d'événement, sur une `Event` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-252">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="ef7e0-253">Activité d'événement de réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-253">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="ef7e0-254">Cette méthode permet de gérer les événements de réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-254">This method helps to handle token response events.</span></span> |
| <span data-ttu-id="ef7e0-255">Autre type d'activité reçu</span><span class="sxs-lookup"><span data-stu-id="ef7e0-255">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="ef7e0-256">Cette méthode permet de gérer tout type d'activité autrement non géré.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-256">This method helps to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="ef7e0-257">Les personnes qui gèrent des activités spécifiques à Teams</span><span class="sxs-lookup"><span data-stu-id="ef7e0-257">Teams specific activity handlers</span></span>

<span data-ttu-id="ef7e0-258">Il étend la liste des handlers dans la section principale des `TeamsActivityHandler` handlers Bot Framework pour inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-258">The `TeamsActivityHandler` extends the list of handlers in the core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="ef7e0-259">Événement</span><span class="sxs-lookup"><span data-stu-id="ef7e0-259">Event</span></span> | <span data-ttu-id="ef7e0-260">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-260">Handler</span></span> | <span data-ttu-id="ef7e0-261">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-261">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="ef7e0-262">channelCreated</span><span class="sxs-lookup"><span data-stu-id="ef7e0-262">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="ef7e0-263">Cette méthode peut être overridée pour gérer un canal Teams en cours de création.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-263">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="ef7e0-264">Pour plus d'informations, [voir le canal créé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-264">For more information, see [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="ef7e0-265">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="ef7e0-265">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="ef7e0-266">Cette méthode peut être supprimée pour gérer un canal Teams en cours de suppression.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-266">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="ef7e0-267">Pour plus d'informations, [voir canal supprimé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-267">For more information, see [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-268">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="ef7e0-268">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="ef7e0-269">Cette méthode peut être changée pour gérer un canal Teams renommé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-269">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="ef7e0-270">Pour plus d'informations, [voir canal renommé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-270">For more information, see [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="ef7e0-271">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="ef7e0-271">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="ef7e0-272">`return Task.CompletedTask;` Cette méthode peut être changée pour gérer une équipe Teams renommée.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-272">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="ef7e0-273">Pour plus d'informations, voir [l'équipe renommée dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-273">For more information, see [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="ef7e0-274">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="ef7e0-274">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="ef7e0-275">Cette méthode appelle la `OnMembersAddedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-275">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="ef7e0-276">La méthode peut être overridée pour gérer les membres qui rejoignent une équipe.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-276">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="ef7e0-277">Pour plus d'informations, voir les membres [de l'équipe ajoutés aux](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-277">For more information, see [team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="ef7e0-278">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="ef7e0-278">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="ef7e0-279">Cette méthode appelle la `OnMembersRemovedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-279">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="ef7e0-280">La méthode peut être overridée pour gérer les membres quittant une équipe.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-280">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="ef7e0-281">Pour plus d'informations, voir les membres [de l'équipe supprimés dans](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) les événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-281">For more information, see [team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="ef7e0-282">Les équipes appellent des activités</span><span class="sxs-lookup"><span data-stu-id="ef7e0-282">Teams invoke activities</span></span>

<span data-ttu-id="ef7e0-283">La liste des handlers d'activité Teams appelés à partir du `onInvokeActivity` handler d'activité Teams est la suivante :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-283">The list of Teams activity handlers called from the `onInvokeActivity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="ef7e0-284">Types d'appel</span><span class="sxs-lookup"><span data-stu-id="ef7e0-284">Invoke types</span></span>                    | <span data-ttu-id="ef7e0-285">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-285">Handler</span></span>                              | <span data-ttu-id="ef7e0-286">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-286">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="ef7e0-287">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-287">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="ef7e0-288">Cette méthode est invoquée lorsqu'une activité d'appel d'action de carte est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-288">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-289">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-289">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="ef7e0-290">Cette méthode est invoquée lorsqu'une carte de consentement de fichier est acceptée par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-290">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="ef7e0-291">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-291">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="ef7e0-292">Cette méthode est invoquée lorsqu'une activité de carte de consentement de fichier est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-292">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-293">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-293">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="ef7e0-294">Cette méthode est invoquée lorsqu'une carte de consentement de fichier est refusée par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-294">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="ef7e0-295">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="ef7e0-295">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="ef7e0-296">Cette méthode est invoquée lorsqu'une activité d'action de carte de connecteur O365 est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-296">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-297">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="ef7e0-297">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="ef7e0-298">Cette méthode est invoquée lorsqu'une activité de vérification de l'état signIn est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-298">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-299">task/fetch</span><span class="sxs-lookup"><span data-stu-id="ef7e0-299">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="ef7e0-300">Cette méthode peut être overridée dans une classe dérivée pour fournir une logique lorsqu'un module de tâche est extrait.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-300">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="ef7e0-301">tâche/soumission</span><span class="sxs-lookup"><span data-stu-id="ef7e0-301">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="ef7e0-302">Cette méthode peut être overridée dans une classe dérivée pour fournir une logique lorsqu'un module de tâche est envoyé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-302">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="ef7e0-303">Les activités d'appel répertoriées dans cette section sont pour les bots de conversation dans Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-303">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="ef7e0-304">Le SDK Bot Framework prend également en charge les activités d'appel spécifiques aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-304">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="ef7e0-305">Pour plus d'informations, [voir les extensions de messagerie.](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-305">For more information, see [what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="ef7e0-306">Python</span><span class="sxs-lookup"><span data-stu-id="ef7e0-306">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="ef7e0-307">Principaux handlers Bot Framework</span><span class="sxs-lookup"><span data-stu-id="ef7e0-307">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="ef7e0-308">À **l'exception**  des activités des membres ajoutés et supprimés, tous les responsables d'activité décrits dans cette section continuent de fonctionner comme ils le font avec un bot autre que Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-308">Except for the **added** and **removed** members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="ef7e0-309">Les responsables d'activité sont différents dans le contexte d'une équipe, où le nouveau membre est ajouté à l'équipe au lieu d'un thread de message.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-309">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="ef7e0-310">La liste des handlers définis dans `ActivityHandler` inclut les suivants :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-310">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="ef7e0-311">Événement</span><span class="sxs-lookup"><span data-stu-id="ef7e0-311">Event</span></span> | <span data-ttu-id="ef7e0-312">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-312">Handler</span></span> | <span data-ttu-id="ef7e0-313">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-313">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="ef7e0-314">Tout type d'activité reçu</span><span class="sxs-lookup"><span data-stu-id="ef7e0-314">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="ef7e0-315">Cette méthode appelle l'un des autres handlers, en fonction du type d'activité reçu.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-315">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="ef7e0-316">Activité de message reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-316">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="ef7e0-317">Cette méthode peut être overridden pour gérer une `Message` activité.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-317">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="ef7e0-318">Activité de mise à jour de conversation reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-318">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="ef7e0-319">Cette méthode appelle un handler si des membres autres que le bot rejoignent ou quittent la conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-319">This method calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="ef7e0-320">Les membres non-bot ont rejoint la conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-320">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="ef7e0-321">Cette méthode peut être utilisée pour gérer les membres qui rejoignent une conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-321">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="ef7e0-322">Les membres non-bot ont quitté la conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-322">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="ef7e0-323">Cette méthode peut être utilisée pour gérer les membres quittant une conversation.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-323">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="ef7e0-324">Activité d'événement reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-324">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="ef7e0-325">Cette méthode appelle un handler spécifique au type d'événement.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-325">This method calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="ef7e0-326">Activité d'événement de réponse de jeton reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-326">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="ef7e0-327">Cette méthode peut être overridée pour gérer les événements de réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-327">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="ef7e0-328">Activité d'événement de réponse sans jeton reçue</span><span class="sxs-lookup"><span data-stu-id="ef7e0-328">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="ef7e0-329">Cette méthode peut être utilisée pour gérer d'autres types d'événements.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-329">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="ef7e0-330">Autres types d'activité reçus</span><span class="sxs-lookup"><span data-stu-id="ef7e0-330">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="ef7e0-331">Cette méthode peut être overridée pour gérer tout type d'activité qui n'est pas géré.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-331">This method can be overridden to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="ef7e0-332">Les personnes qui gèrent des activités spécifiques à Teams</span><span class="sxs-lookup"><span data-stu-id="ef7e0-332">Teams specific activity handlers</span></span>

<span data-ttu-id="ef7e0-333">Il étend la liste des handlers de la section principale des `TeamsActivityHandler` handlers Bot Framework pour inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-333">The `TeamsActivityHandler` extends the list of handlers from the core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="ef7e0-334">Événement</span><span class="sxs-lookup"><span data-stu-id="ef7e0-334">Event</span></span> | <span data-ttu-id="ef7e0-335">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-335">Handler</span></span> | <span data-ttu-id="ef7e0-336">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-336">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="ef7e0-337">channelCreated</span><span class="sxs-lookup"><span data-stu-id="ef7e0-337">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="ef7e0-338">Cette méthode peut être overridée pour gérer un canal Teams en cours de création.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-338">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="ef7e0-339">Pour plus d'informations, [voir le canal créé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-339">For more information, see [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="ef7e0-340">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="ef7e0-340">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="ef7e0-341">Cette méthode peut être supprimée pour gérer un canal Teams en cours de suppression.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-341">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="ef7e0-342">Pour plus d'informations, [voir canal supprimé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-342">For more information, see [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-343">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="ef7e0-343">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="ef7e0-344">Cette méthode peut être changée pour gérer un canal Teams renommé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-344">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="ef7e0-345">Pour plus d'informations, [voir canal renommé dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) événements de mise à jour de [conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-345">For more information, see [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-346">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="ef7e0-346">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="ef7e0-347">`return Task.CompletedTask;` Cette méthode peut être changée pour gérer une équipe Teams renommée.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-347">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="ef7e0-348">Pour plus d'informations, voir [l'équipe renommée dans les](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-348">For more information, see [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-349">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="ef7e0-349">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="ef7e0-350">Cette méthode appelle la `OnMembersAddedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-350">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="ef7e0-351">La méthode peut être overridée pour gérer les membres qui rejoignent une équipe.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-351">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="ef7e0-352">Pour plus d'informations, voir les membres [de l'équipe ajoutés aux](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-352">For more information, see [team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="ef7e0-353">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="ef7e0-353">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="ef7e0-354">Cette méthode appelle la `OnMembersRemovedAsync` méthode dans `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="ef7e0-354">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="ef7e0-355">La méthode peut être overridée pour gérer les membres quittant une équipe.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-355">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="ef7e0-356">Pour plus d'informations, voir les membres [de l'équipe supprimés dans](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) les événements de [mise à jour de conversation.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-356">For more information, see [team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="ef7e0-357">Les équipes appellent des activités</span><span class="sxs-lookup"><span data-stu-id="ef7e0-357">Teams invoke activities</span></span>

<span data-ttu-id="ef7e0-358">La liste des handlers d'activité Teams appelés à partir du `on_invoke_activity` handler d'activité Teams est la suivante :</span><span class="sxs-lookup"><span data-stu-id="ef7e0-358">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="ef7e0-359">Types d'appel</span><span class="sxs-lookup"><span data-stu-id="ef7e0-359">Invoke types</span></span>                    | <span data-ttu-id="ef7e0-360">Handler</span><span class="sxs-lookup"><span data-stu-id="ef7e0-360">Handler</span></span>                              | <span data-ttu-id="ef7e0-361">Description</span><span class="sxs-lookup"><span data-stu-id="ef7e0-361">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="ef7e0-362">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-362">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="ef7e0-363">Cette méthode est invoquée lorsqu'une activité d'appel d'action de carte est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-363">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-364">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-364">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="ef7e0-365">Cette méthode est invoquée lorsqu'une carte de consentement de fichier est acceptée par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-365">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="ef7e0-366">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-366">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="ef7e0-367">Cette méthode est invoquée lorsqu'une activité de carte de consentement de fichier est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-367">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-368">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="ef7e0-368">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="ef7e0-369">Cette méthode est invoquée lorsqu'une carte de consentement de fichier est refusée par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-369">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="ef7e0-370">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="ef7e0-370">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="ef7e0-371">Cette méthode est invoquée lorsqu'une activité d'action de carte de connecteur O365 est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-371">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-372">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="ef7e0-372">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="ef7e0-373">Cette méthode est invoquée lorsqu'une activité de vérification de l'état signIn est reçue du connecteur.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-373">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="ef7e0-374">task/fetch</span><span class="sxs-lookup"><span data-stu-id="ef7e0-374">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="ef7e0-375">Cette méthode peut être overridée dans une classe dérivée pour fournir une logique lorsqu'un module de tâche est extrait.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-375">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="ef7e0-376">tâche/soumission</span><span class="sxs-lookup"><span data-stu-id="ef7e0-376">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="ef7e0-377">Cette méthode peut être overridée dans une classe dérivée pour fournir une logique lorsqu'un module de tâche est envoyé.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-377">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="ef7e0-378">Les activités d'appel répertoriées dans cette section sont pour les bots de conversation dans Teams.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-378">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="ef7e0-379">Le SDK Bot Framework prend également en charge les activités d'appel spécifiques aux extensions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-379">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="ef7e0-380">Pour plus d'informations, [voir les extensions de messagerie.](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="ef7e0-380">For more information, see [what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---

* * *

<span data-ttu-id="ef7e0-381">Maintenant que vous vous êtes familiarisé avec les personnes qui gèrent l'activité des bots, laissez-nous voir comment les bots se comportent différemment en fonction de la conversation et des messages qu'il reçoit ou envoie.</span><span class="sxs-lookup"><span data-stu-id="ef7e0-381">Now that you have familiarized yourself with bot activity handlers, let us see how bots behave differently depending on the conversation and the messages it receives or sends.</span></span>

## <a name="next-step"></a><span data-ttu-id="ef7e0-382">Étape suivante</span><span class="sxs-lookup"><span data-stu-id="ef7e0-382">Next step</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="ef7e0-383">Concepts de base d’une conversation</span><span class="sxs-lookup"><span data-stu-id="ef7e0-383">Conversation basics</span></span>](~/bots/how-to/conversations/conversation-basics.md)
