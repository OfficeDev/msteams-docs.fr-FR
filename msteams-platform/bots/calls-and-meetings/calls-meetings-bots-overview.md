---
title: Appels et bots de réunions en ligne
description: Découvrez comment vos applications Microsoft Teams peuvent interagir avec les utilisateurs à l’aide de la voix et de la vidéo à l’aide des API Microsoft Graph pour les appels et les réunions en ligne.
keywords: appel d’appels de réunions vocales (IVR) audio en ligne
ms.openlocfilehash: 0fcf420ba8d698404d00bb2cab3d61cab2245f40
ms.sourcegitcommit: 49d1ecda14042bf3f368b14c1971618fe979b914
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/23/2021
ms.locfileid: "51034641"
---
# <a name="calls-and-online-meetings-bots"></a><span data-ttu-id="a9210-104">Appels et bots de réunions en ligne</span><span class="sxs-lookup"><span data-stu-id="a9210-104">Calls and online meetings bots</span></span>

<span data-ttu-id="a9210-105">Avec l’ajout d’API Microsoft Graph pour les appels et les réunions en ligne, les applications Microsoft Teams peuvent désormais interagir avec les [utilisateurs](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)de manière enrichie à l’aide de la voix et de la vidéo.</span><span class="sxs-lookup"><span data-stu-id="a9210-105">With the addition of [Microsoft Graph APIs for calls and online meetings](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true), Microsoft Teams apps can now interact with users in rich ways using voice and video.</span></span> <span data-ttu-id="a9210-106">Ces API vous permettent d’ajouter de nouvelles fonctionnalités telles que la réponse vocale interactive (IVR), le contrôle d’appel et l’accès aux flux audio et/ou vidéo en temps réel pour les appels et les réunions, y compris le partage de bureau et d’application.</span><span class="sxs-lookup"><span data-stu-id="a9210-106">These APIs allow you to add new features such as interactive voice response (IVR), call control, and access to real-time audio and/or video streams for calls and meetings, including desktop and app sharing.</span></span>

<span data-ttu-id="a9210-107">Pour utiliser ces API Microsoft Graph dans une application Microsoft Teams, vous créez un bot et spécifiez des informations et autorisations supplémentaires que nous allons décrire ailleurs, mais tout d’abord, il est important de comprendre certains concepts de base, terminologie et conventions :</span><span class="sxs-lookup"><span data-stu-id="a9210-107">To use these Microsoft Graph APIs in a Microsoft Teams app, you create a bot and specify some additional information and permissions which we'll describe elsewhere, but first, it's important to understand some core concepts, terminology, and conventions:</span></span>

* <span data-ttu-id="a9210-108">**Appels audio/vidéo.**</span><span class="sxs-lookup"><span data-stu-id="a9210-108">**Audio/video calls.**</span></span> <span data-ttu-id="a9210-109">Les appels dans Teams peuvent être purement audio ou audio+vidéo.</span><span class="sxs-lookup"><span data-stu-id="a9210-109">Calls in Teams can be purely audio or audio+video.</span></span> <span data-ttu-id="a9210-110">Par souci de concision, nous ne dites pas « appel audio/vidéo » partout ; nous venons de dire « appel ».</span><span class="sxs-lookup"><span data-stu-id="a9210-110">For brevity's sake, we don't say "audio/video call" everywhere; we just say "call."</span></span>
* <span data-ttu-id="a9210-111">**Types d’appel.**</span><span class="sxs-lookup"><span data-stu-id="a9210-111">**Call types.**</span></span> <span data-ttu-id="a9210-112">Les appels sont pair à pair (entre une personne et votre bot) ou à plusieurs (votre bot et plusieurs personnes dans un appel de groupe).</span><span class="sxs-lookup"><span data-stu-id="a9210-112">Calls are either peer-to-peer (between a person and your bot) or multiparty (your bot and two or more people in a group call).</span></span>
  <span data-ttu-id="a9210-113">![CallingTypes ](~/assets/images/calls-and-meetings/call-types.png) :</span><span class="sxs-lookup"><span data-stu-id="a9210-113">![CallingTypes](~/assets/images/calls-and-meetings/call-types.png):</span></span>
  * <span data-ttu-id="a9210-114">Un utilisateur peut lancer un appel d’égal à égal avec votre bot ou inviter votre bot à un appel à plusieurs existant (bien que ce dernier ne soit pas encore activé dans l’interface utilisateur de Microsoft Teams).</span><span class="sxs-lookup"><span data-stu-id="a9210-114">A user may initiate a peer-to-peer call with your bot or invite your bot into an existing multiparty call (although the latter is not yet enabled in the Microsoft Teams UI).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="a9210-115">Les appels initiés par l’utilisateur à un bot ne sont actuellement pas pris en charge sur la plateforme mobile Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="a9210-115">User initiated calls to a bot are currently not supported on Microsoft Teams mobile platform.</span></span> 
  
  * <span data-ttu-id="a9210-116">Les autorisations Microsoft Graph ne sont pas nécessaires pour qu’un utilisateur lance un appel d’égal à égal avec votre bot, mais des autorisations supplémentaires sont nécessaires pour que votre bot participe à un appel à plusieurs ou pour que votre bot lance un appel d’égal à égal avec un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a9210-116">Microsoft Graph permissions aren't necessary for a user to initiate a peer-to-peer call with your bot, but additional permissions are needed for your bot to participate in a multiparty call, or for your bot to initiate a peer-to-peer call with a user.</span></span>
  * <span data-ttu-id="a9210-117">Un appel peut commencer comme pair à pair et s’escalader à plusieurs.</span><span class="sxs-lookup"><span data-stu-id="a9210-117">A call may start as peer-to-peer and escalate to multiparty.</span></span> <span data-ttu-id="a9210-118">Votre bot peut initier cette escalade en invitant d’autres personnes, à condition que votre bot dispose des autorisations adéquates.</span><span class="sxs-lookup"><span data-stu-id="a9210-118">Your bot can initiate this escalation by inviting others, provided your bot has the proper permissions.</span></span> <span data-ttu-id="a9210-119">Si votre bot n’est pas autorisé à participer à des appels de groupe et qu’un participant ajoute une autre personne, votre bot est supprimé de l’appel.</span><span class="sxs-lookup"><span data-stu-id="a9210-119">If your bot doesn't have permissions to participate in group calls and one participant adds another party, your bot is dropped from the call.</span></span>
* <span data-ttu-id="a9210-120">**Signalisation.**</span><span class="sxs-lookup"><span data-stu-id="a9210-120">**Signaling.**</span></span> <span data-ttu-id="a9210-121">Il existe deux types de signaux : l’appel entrant et l’appel entrant :</span><span class="sxs-lookup"><span data-stu-id="a9210-121">There are two types of signals — incoming call and in-call:</span></span>
  * <span data-ttu-id="a9210-122">Pour recevoir un appel entrant, vous spécifiez un point de terminaison dans les paramètres de votre bot . ce point de terminaison reçoit une notification lorsqu’un appel entrant arrive.</span><span class="sxs-lookup"><span data-stu-id="a9210-122">To receive an incoming call, you specify an endpoint in your bot settings; this endpoint receives a notification when an incoming call arrives.</span></span> <span data-ttu-id="a9210-123">Vous pouvez répondre à l’appel, le rejeter ou le rediriger vers un endroit ou une autre personne.</span><span class="sxs-lookup"><span data-stu-id="a9210-123">You can answer the call, reject it, or redirect it to somewhere or someone else.</span></span>
  <span data-ttu-id="a9210-124">![Types d’appel](~/assets/images/calls-and-meetings/call-handling.png)</span><span class="sxs-lookup"><span data-stu-id="a9210-124">![Call Types](~/assets/images/calls-and-meetings/call-handling.png)</span></span>
  * <span data-ttu-id="a9210-125">Lorsqu’un bot est dans un appel, il existe des API pour activer et désactiver lui-même le son et pour démarrer/arrêter le partage de contenu vidéo/de bureau avec les autres participants.</span><span class="sxs-lookup"><span data-stu-id="a9210-125">When a bot is in a call, there are APIs for muting and unmuting itself and to start/stop sharing video/desktop content with the other participants.</span></span>
  * <span data-ttu-id="a9210-126">Le bot peut également accéder à la liste des participants, inviter de nouveaux participants et les désactiver.</span><span class="sxs-lookup"><span data-stu-id="a9210-126">The bot can also access the list of participants, invite new participants, and mute them.</span></span>
* <span data-ttu-id="a9210-127">**Appels et réunions en ligne.**</span><span class="sxs-lookup"><span data-stu-id="a9210-127">**Calls and online meetings.**</span></span> <span data-ttu-id="a9210-128">Du point de vue d’un utilisateur Teams, il existe deux types de réunions en ligne : ad hoc et programmées.</span><span class="sxs-lookup"><span data-stu-id="a9210-128">From a Teams user's perspective, there are two kinds of online meetings — ad hoc and scheduled.</span></span> <span data-ttu-id="a9210-129">Toutefois, du point de vue d’un bot, les deux sont identiques.</span><span class="sxs-lookup"><span data-stu-id="a9210-129">However, from a bot's perspective, both are the same.</span></span> <span data-ttu-id="a9210-130">Pour un bot, une réunion en ligne est simplement un appel à plusieurs (ensemble de participants) plus « coordonnées de réunion », que vous pouvez voir comme les métadonnées de la réunion : , associées à la réunion, et bien plus `botId` `chatId` `joinUrl` `startTime` / `endTime` encore.</span><span class="sxs-lookup"><span data-stu-id="a9210-130">To a bot, an online meeting is just a multiparty call (the set of participants) plus "meeting coordinates," which you can think of as the metadata for the meeting: `botId`, `chatId` associated with the meeting, `joinUrl`, `startTime`/`endTime`, and more.</span></span>
* <span data-ttu-id="a9210-131">**Médias en temps réel.**</span><span class="sxs-lookup"><span data-stu-id="a9210-131">**Real-time media.**</span></span> <span data-ttu-id="a9210-132">Lorsqu’un bot participe à un appel ou à une réunion en ligne, il doit gérer les flux audio et vidéo.</span><span class="sxs-lookup"><span data-stu-id="a9210-132">When a bot is participating in a call or online meeting, it must deal with audio and video streams.</span></span> <span data-ttu-id="a9210-133">Lorsque les utilisateurs parlent lors d’un appel, s’affichent sur une webcam ou présentent leurs écrans lors d’une réunion, un bot « voit » cela comme des flux audio et/ou vidéo.</span><span class="sxs-lookup"><span data-stu-id="a9210-133">When users talk on a call, show themselves on a webcam, or present their screens in a meeting, a bot "sees" this as audio and/or video streams.</span></span> <span data-ttu-id="a9210-134">Si un bot souhaite dire quelque chose ou présenter du contenu d’écran, cela nécessite un flux audio ou vidéo.</span><span class="sxs-lookup"><span data-stu-id="a9210-134">If a bot wants to say something or present screen content, that requires an audio or video stream.</span></span> <span data-ttu-id="a9210-135">Même quelque chose d’aussi simple que le bot qui dit « appuyer sur 0 pour atteindre l’opérateur » dans un scénario de réponse vocale interactive (IVR) implique la lecture d’un . Fichier WAV.</span><span class="sxs-lookup"><span data-stu-id="a9210-135">Even something as simple as the bot saying, "press 0 to reach the operator" in an IVR (interactive voice response) scenario means playing a .WAV file.</span></span> <span data-ttu-id="a9210-136">Collectivement, il s’agit de médias ou de médias en temps réel (lorsqu’il s’agit de scénarios où les médias doivent être traitées en temps réel, par opposition à la lecture d’audio/vidéo précédemment enregistrées).  </span><span class="sxs-lookup"><span data-stu-id="a9210-136">Collectively, we refer to this as _media_ or _real-time media_ (when referring to scenarios where media must be processed in real time, as opposed to playback of previously-recorded audio/video).</span></span> <span data-ttu-id="a9210-137">Historiquement, la gestion des flux multimédias, en particulier des flux multimédias en temps réel, était extrêmement complexe pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="a9210-137">Historically, dealing with media streams, particularly real-time media streams, has been extremely complex for developers.</span></span> <span data-ttu-id="a9210-138">Microsoft a créé la _plateforme Multimédia_ en temps réel pour gérer ces cas d’utilisation et pour décharger autant que possible les « charges importantes » traditionnelles du traitement multimédia en temps réel.</span><span class="sxs-lookup"><span data-stu-id="a9210-138">Microsoft has created the _Real-time Media Platform_ to handle these use cases and to offload as much of the traditional "heavy lifting" of real-time media processing as possible.</span></span>  <span data-ttu-id="a9210-139">Quand le bot répond à un appel entrant ou rejoint un nouvel appel ou un appel existant, il doit indiquer à la plateforme Real-time Media comment les médias seront traités.</span><span class="sxs-lookup"><span data-stu-id="a9210-139">When the bot answers an incoming call, or joins a new or existing call, it needs to tell the Real-time Media Platform how media will be handled.</span></span> <span data-ttu-id="a9210-140">Si vous construisez une application de réponse vocale, vous pouvez décharger le traitement audio coûteux à Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a9210-140">If you're building an IVR application, you can offload the expensive audio processing to Microsoft.</span></span> <span data-ttu-id="a9210-141">Par contre, si votre bot nécessite un accès direct aux flux multimédias, nous 2016 000 000 000.</span><span class="sxs-lookup"><span data-stu-id="a9210-141">Alternatively, if your bot requires direct access to media streams, we support that scenario too.</span></span> <span data-ttu-id="a9210-142">Il existe les deux types de traitement multimédia :</span><span class="sxs-lookup"><span data-stu-id="a9210-142">There are the two types of media processing:</span></span>
  * <span data-ttu-id="a9210-143">**Média hébergé par le service.**</span><span class="sxs-lookup"><span data-stu-id="a9210-143">**Service-hosted media.**</span></span> <span data-ttu-id="a9210-144">Les bots se concentrent sur la gestion du flux de travail d’application (par exemple, les appels de routage) et déchargent le traitement audio sur la plateforme Microsoft Real-time Media.</span><span class="sxs-lookup"><span data-stu-id="a9210-144">Bots focus on managing application workflow (e.g., routing calls) and offload audio processing to the Microsoft Real-time Media Platform.</span></span> <span data-ttu-id="a9210-145">Avec les médias hébergés par le service, vous avez plusieurs options pour implémenter et héberger votre bot.</span><span class="sxs-lookup"><span data-stu-id="a9210-145">With service-hosted media, you have several options to implement and host your bot.</span></span> <span data-ttu-id="a9210-146">Un bot multimédia hébergé par le service peut être implémenté en tant que service sans état, car il ne traitera pas les médias localement.</span><span class="sxs-lookup"><span data-stu-id="a9210-146">A service-hosted media bot can be implemented as a stateless service since it doesn't process media locally.</span></span> <span data-ttu-id="a9210-147">Les robots multimédias hébergés par le service peuvent utiliser des API telles que la lecture d’un clip audio, l’enregistrement de clips audio ou l’abonnement à des `PlayPrompt` `Record` `SubscribeToTone` tonalités DTMF (par exemple, savoir quand un utilisateur a appuyer sur 0 pour atteindre l’opérateur).</span><span class="sxs-lookup"><span data-stu-id="a9210-147">Service-hosted media bots can use APIs such as `PlayPrompt` for playing an audio clip, `Record` for recording audio clips, or `SubscribeToTone` for subscribing to DTMF tones (e.g., knowing when a user has pressed 0 to reach the operator).</span></span>
  * <span data-ttu-id="a9210-148">**Support hébergé par l’application.**</span><span class="sxs-lookup"><span data-stu-id="a9210-148">**Application-hosted media.**</span></span> <span data-ttu-id="a9210-149">Pour qu’un bot obtienne un accès direct aux médias, il a besoin [](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) d’une autorisation Graph spécifique, mais une fois que votre bot l’a, la bibliothèque de médias en temps réel et le [SDK Graph Calling](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) vous aident à créer des médias enrichis en temps réel, appelant des bots.</span><span class="sxs-lookup"><span data-stu-id="a9210-149">For a bot to get direct access to the media, it needs a specific Graph permission, but once your bot has it, the [Real-time Media Library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) and the [Graph Calling SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) helps you build rich, real-time media, calling bots.</span></span> <span data-ttu-id="a9210-150">Un bot hébergé par l’application doit être hébergé dans un environnement Windows, comme décrit plus en détail [ici.](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="a9210-150">An Application-hosted bot must be hosted in a Windows environment, as described in more detail [here](./requirements-considerations-application-hosted-media-bots.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="a9210-151">Lecture supplémentaire</span><span class="sxs-lookup"><span data-stu-id="a9210-151">Further reading</span></span>

<span data-ttu-id="a9210-152">Voici plus d’informations sur la création et le test d’appels et de bots de réunions en ligne :</span><span class="sxs-lookup"><span data-stu-id="a9210-152">Here's more information on how to create and test calls and online meetings bots:</span></span>

* [<span data-ttu-id="a9210-153">Référence de l’API Graph</span><span class="sxs-lookup"><span data-stu-id="a9210-153">Graph API reference</span></span>](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)
* [<span data-ttu-id="a9210-154">Exemple d’applications</span><span class="sxs-lookup"><span data-stu-id="a9210-154">Sample apps</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples)
* <span data-ttu-id="a9210-155">[Inscription d’un bot qui prend en charge les appels](./registering-calling-bot.md) et les réunions en ligne et les autorisations Microsoft Graph pour les appels et les [bots de réunions en ligne](./registering-calling-bot.md#add-microsoft-graph-permissions)</span><span class="sxs-lookup"><span data-stu-id="a9210-155">[Registering a bot that supports calls and online meetings](./registering-calling-bot.md) and [Microsoft Graph permissions for calls and online meetings bots](./registering-calling-bot.md#add-microsoft-graph-permissions)</span></span>
* [<span data-ttu-id="a9210-156">Comment développer des bots d’appels et de réunions en ligne sur votre PC local</span><span class="sxs-lookup"><span data-stu-id="a9210-156">How to develop calling and online meeting bots on your local PC</span></span>](./debugging-local-testing-calling-meeting-bots.md)
* <span data-ttu-id="a9210-157">[Plus d’informations sur le traitement multimédia](./real-time-media-concepts.md)en temps réel et les informations nécessaires pour prendre en charge les médias [hébergés par l’application](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="a9210-157">[More information on real-time media processing](./real-time-media-concepts.md), and [what's needed to support application-hosted media](./requirements-considerations-application-hosted-media-bots.md)</span></span>
* [<span data-ttu-id="a9210-158">Informations techniques sur la gestion des notifications d’appels entrants</span><span class="sxs-lookup"><span data-stu-id="a9210-158">Technical information on handling incoming call notifications</span></span>](./call-notifications.md)
