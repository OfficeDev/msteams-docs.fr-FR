---
title: Que sont les extensions de messagerie ?
author: clearab
description: Vue d’ensemble des extensions de messagerie sur la plateforme Microsoft teams
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 3e80c965fb8cb2c4da2af6f6bf0709e7c8bd1d88
ms.sourcegitcommit: 9fbc701a9a039ecdc360aefbe86df52b9c3593f3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/12/2020
ms.locfileid: "46651939"
---
# <a name="what-are-messaging-extensions"></a><span data-ttu-id="2e585-103">Que sont les extensions de messagerie ?</span><span class="sxs-lookup"><span data-stu-id="2e585-103">What are messaging extensions?</span></span>

<span data-ttu-id="2e585-104">Les extensions de messagerie permettent aux utilisateurs du client Microsoft Teams d’interagir avec votre service web par le biais de boutons et de formulaires.</span><span class="sxs-lookup"><span data-stu-id="2e585-104">Messaging extensions allow users to interact with your web service through buttons and forms in the Microsoft Teams client.</span></span> <span data-ttu-id="2e585-105">Ils peuvent effectuer des recherches ou initier des actions dans un système externe à partir de la zone de message de composition, de la zone de commande ou directement à partir d’un message.</span><span class="sxs-lookup"><span data-stu-id="2e585-105">They can search or initiate actions in an external system from the compose message area, the command box, or directly from a message.</span></span> <span data-ttu-id="2e585-106">Vous pouvez ensuite renvoyer les résultats de cette interaction au client Microsoft Teams, généralement sous la forme d’une carte avec mise en forme enrichie.</span><span class="sxs-lookup"><span data-stu-id="2e585-106">You can then send the results of that interaction back to the Microsoft Teams client, typically in the form of a richly formatted card.</span></span>

<span data-ttu-id="2e585-107">La capture d’écran ci-dessous montre les emplacements à partir desquels les extensions de messagerie peuvent être appelées.</span><span class="sxs-lookup"><span data-stu-id="2e585-107">The screenshot below shows the locations where messaging extensions can be invoked from.</span></span>

![emplacements d’appel d’extension de messagerie](~/assets/images/messaging-extension-invoke-locations.png)

## <a name="user-scenarios"></a><span data-ttu-id="2e585-109">Scénarios utilisateur</span><span class="sxs-lookup"><span data-stu-id="2e585-109">User scenarios</span></span>

<span data-ttu-id="2e585-110">**Scénario :** J’ai besoin d’un système externe pour effectuer une opération et je souhaite que le résultat de l’action soit renvoyé à ma conversation. </span><span class="sxs-lookup"><span data-stu-id="2e585-110">**Scenario:** I need some external system to do something and I want the result of the action to be sent back to my conversation.</span></span>\
<span data-ttu-id="2e585-111">**Exemple :** Réservez une ressource et indiquez au canal la date/l’heure à laquelle vous l’avez réservée.</span><span class="sxs-lookup"><span data-stu-id="2e585-111">**Example:** Reserve a resource and let the channel know what day/time you reserved it for.</span></span>

<span data-ttu-id="2e585-112">**Scénario :** J’ai besoin de trouver des éléments dans un système externe et je souhaite partager les résultats avec ma conversation. </span><span class="sxs-lookup"><span data-stu-id="2e585-112">**Scenario:** I need to find something in an external system, and I want to share the results with my conversation.</span></span>\
<span data-ttu-id="2e585-113">**Exemple :**  Recherchez un élément de travail dans Azure DevOps et partagez-le avec le groupe sous forme de carte adaptative.</span><span class="sxs-lookup"><span data-stu-id="2e585-113">**Example:**  Search for a work item in Azure DevOps, and share it with the group as an adaptive card.</span></span>

<span data-ttu-id="2e585-114">**Scénario :** J’ai besoin d’effectuer une tâche complexe impliquant plusieurs étapes (ou un grand nombre d’informations) dans un système externe, et les résultats doivent être partagés avec une conversation. </span><span class="sxs-lookup"><span data-stu-id="2e585-114">**Scenario:** I need to complete a complex task involving multiple steps (or lots of information) in an external system, and the results should be shared with a conversation.</span></span>\
<span data-ttu-id="2e585-115">**Exemple :** Créez un bogue dans votre système de suivi en fonction d’un message Teams, affectez ce bogue à Bob, puis envoyez une carte au thread de conversation avec les détails du bogue.</span><span class="sxs-lookup"><span data-stu-id="2e585-115">**Example:** Create a bug in your tracking system based on a Teams message, assign that bug to Bob, then send a card to the conversation thread with the bug's details.</span></span>

## <a name="how-do-messaging-extensions-work"></a><span data-ttu-id="2e585-116">Comment fonctionnent les extensions de messagerie ?</span><span class="sxs-lookup"><span data-stu-id="2e585-116">How do messaging extensions work?</span></span>

<span data-ttu-id="2e585-117">Une extension de messagerie se compose d’un service Web que vous hébergez et de votre manifeste d’application qui définit l’emplacement à partir duquel votre service Web peut être appelé dans le client Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="2e585-117">A messaging extension consists of a web service you host and your app manifest which defines where your web service can be invoked from in the Microsoft Teams client.</span></span> <span data-ttu-id="2e585-118">Ceux-ci tirent parti du schéma de messagerie et du protocole de communication sécurisé de Bot Framework. Vous devez donc également inscrire votre service web en tant que bot dans Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="2e585-118">They take advantage of the Bot Framework's messaging schema and secure communication protocol, so you'll also need to register your web service as a bot in the Bot Framework.</span></span> <span data-ttu-id="2e585-119">Bien que vous puissiez créer entièrement votre service Web manuellement, nous vous recommandons de tirer parti du [Kit de développement logiciel (SDK)](https://github.com/microsoft/botframework) de l’infrastructure de robots pour utiliser plus facilement le protocole.</span><span class="sxs-lookup"><span data-stu-id="2e585-119">Although you can create your web service completely by hand, we recommend you take advantage of the [Bot Framework SDK](https://github.com/microsoft/botframework) to make working with the protocol simpler.</span></span>

<span data-ttu-id="2e585-120">Dans le manifeste de l’application pour votre application Microsoft Teams, vous allez définir une extension de messagerie unique avec jusqu’à dix commandes différentes.</span><span class="sxs-lookup"><span data-stu-id="2e585-120">In the app manifest for your Microsoft Teams app you'll define a single messaging extension with up to ten different commands.</span></span> <span data-ttu-id="2e585-121">Chaque commande définit un type (action ou recherche), ainsi que les emplacements dans le client à partir duquel elle peut être appelée (zone de message, barre de commandes et/ou message de composition).</span><span class="sxs-lookup"><span data-stu-id="2e585-121">Each command defines a type (action or search), and the locations in the client it can be invoked from (compose message area, command bar, and/or message).</span></span> <span data-ttu-id="2e585-122">Une fois l’appel effectué, votre service Web reçoit un message HTTPs avec une charge utile JSON, y compris toutes les informations pertinentes.</span><span class="sxs-lookup"><span data-stu-id="2e585-122">Once invoked, your web service will receive an HTTPS message with a JSON payload including all the relevant information.</span></span> <span data-ttu-id="2e585-123">Vous allez répondre avec une charge utile JSON, ce qui permet au client teams de savoir quelle interaction activer ensuite.</span><span class="sxs-lookup"><span data-stu-id="2e585-123">You'll respond with a JSON payload, letting the Teams client know what interaction to enable next.</span></span>

## <a name="types-of-messaging-extensions"></a><span data-ttu-id="2e585-124">Types d’extensions de messagerie</span><span class="sxs-lookup"><span data-stu-id="2e585-124">Types of messaging extensions</span></span>

<span data-ttu-id="2e585-125">Le type de commande d’extension de messagerie définit les éléments d’interface utilisateur et les flux d’interaction disponibles pour votre service Web.</span><span class="sxs-lookup"><span data-stu-id="2e585-125">The type of messaging extension command defines the UI elements and interaction flows available to your web service.</span></span> <span data-ttu-id="2e585-126">Certaines interactions, telles que l’authentification et la configuration, sont disponibles pour les deux types de commandes.</span><span class="sxs-lookup"><span data-stu-id="2e585-126">Some interactions, like authentication and configuration, are available for both types of commands.</span></span>

### <a name="action-commands"></a><span data-ttu-id="2e585-127">Commandes d’action</span><span class="sxs-lookup"><span data-stu-id="2e585-127">Action commands</span></span>

<span data-ttu-id="2e585-128">Les commandes d’action vous permettent de présenter à vos utilisateurs une fenêtre contextuelle modale pour collecter ou afficher des informations.</span><span class="sxs-lookup"><span data-stu-id="2e585-128">Action commands allow you to present your users with a modal popup to collect or display information.</span></span> <span data-ttu-id="2e585-129">Lors de l’envoi du formulaire, votre service Web peut répondre en insérant un message directement dans la conversation ou en insérant un message dans la zone de message de composition et en permettant à l’utilisateur d’envoyer le message.</span><span class="sxs-lookup"><span data-stu-id="2e585-129">When they submit the form, your web service can respond by inserting a message into the conversation directly, or by inserting a message into the compose message area and allowing the user to submit the message.</span></span> <span data-ttu-id="2e585-130">Vous pouvez même regrouper plusieurs formulaires pour des flux de travail plus complexes.</span><span class="sxs-lookup"><span data-stu-id="2e585-130">You can even chain multiple forms together for more complex workflows.</span></span>

<span data-ttu-id="2e585-131">Elles peuvent être déclenchées à partir de la zone de message de composition, de la zone de commande ou d’un message.</span><span class="sxs-lookup"><span data-stu-id="2e585-131">They can be triggered from the compose message area, the command box, or from a message.</span></span> <span data-ttu-id="2e585-132">Lorsqu’elle est appelée à partir d’un message, la charge utile JSON initiale envoyée à votre bot inclut l’intégralité du message à partir duquel elle a été appelée.</span><span class="sxs-lookup"><span data-stu-id="2e585-132">When invoked from a message, the initial JSON payload sent to your bot will include the entire message it was invoked from.</span></span>

![module de tâche de commande d’action d’extension de messagerie](~/assets/images/task-module.png)

### <a name="search-commands"></a><span data-ttu-id="2e585-134">Commandes de recherche</span><span class="sxs-lookup"><span data-stu-id="2e585-134">Search commands</span></span>

<span data-ttu-id="2e585-135">Les commandes de recherche permettent à vos utilisateurs de rechercher des informations dans un système externe (manuellement via une zone de recherche ou en collant un lien dans un domaine surveillé dans la zone de message composer un message), puis insérer les résultats de la recherche dans un message.</span><span class="sxs-lookup"><span data-stu-id="2e585-135">Search commands allow your users to search an external system for information (either manually through a search box, or by pasting a link to a monitored domain into the compose message area), then insert the results of the search into a message.</span></span> <span data-ttu-id="2e585-136">Dans le flux de commandes de recherche le plus simple, le message d’appel initial inclut la chaîne de recherche soumise par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2e585-136">In the most basic search command flow, the initial invoke message will include the search string the user submitted.</span></span> <span data-ttu-id="2e585-137">Vous répondrez avec une liste de cartes et d’aperçus de cartes.</span><span class="sxs-lookup"><span data-stu-id="2e585-137">You'll respond with a list of cards and card previews.</span></span> <span data-ttu-id="2e585-138">Le client teams affiche les aperçus de carte dans une liste à partir de laquelle l’utilisateur final peut effectuer une sélection.</span><span class="sxs-lookup"><span data-stu-id="2e585-138">The Teams client will render the card previews in a list for the end user to select from.</span></span> <span data-ttu-id="2e585-139">Lorsque l’utilisateur sélectionne une carte, la carte en taille réelle est insérée dans la zone composer un message.</span><span class="sxs-lookup"><span data-stu-id="2e585-139">When the user selects a card, the full-size card will be inserted into the compose message area.</span></span>

<span data-ttu-id="2e585-140">Ils peuvent être déclenchés à partir de la zone de message composer ou de la zone de commande.</span><span class="sxs-lookup"><span data-stu-id="2e585-140">They can be triggered from the compose message area or the command box.</span></span> <span data-ttu-id="2e585-141">Contrairement aux commandes d’action, elles ne peuvent pas être déclenchées à partir d’un message.</span><span class="sxs-lookup"><span data-stu-id="2e585-141">Unlike action commands, they cannot be triggered from a message.</span></span>

![commande de recherche de l’extension de messagerie](~/assets/images/search-extension.png)

### <a name="link-unfurling"></a><span data-ttu-id="2e585-143">Déploiement de lien</span><span class="sxs-lookup"><span data-stu-id="2e585-143">Link unfurling</span></span>

<span data-ttu-id="2e585-144">Vous pouvez également appeler votre service lorsqu’une URL est collée dans la zone de message de composition.</span><span class="sxs-lookup"><span data-stu-id="2e585-144">You also can invoke your service when a URL is pasted in the compose message area.</span></span> <span data-ttu-id="2e585-145">Cette fonctionnalité, appelée **liaison unfurling**, vous permet de vous abonner pour recevoir un appel lorsque des URL contenant un domaine particulier sont collées dans la zone de message de composition.</span><span class="sxs-lookup"><span data-stu-id="2e585-145">This functionality, known as **link unfurling**, allows you to subscribe to receive an invoke when URLs containing a particular domain are pasted into the compose message area.</span></span> <span data-ttu-id="2e585-146">Votre service Web peut « Unfurl » l’URL en une carte détaillée, ce qui fournit davantage d’informations que la carte d’aperçu de site Web standard.</span><span class="sxs-lookup"><span data-stu-id="2e585-146">Your web service can "unfurl" the URL into a detailed card, providing more information than the standard website preview card.</span></span> <span data-ttu-id="2e585-147">Vous pouvez même ajouter des boutons pour permettre aux utilisateurs de prendre des mesures sans quitter Teams.</span><span class="sxs-lookup"><span data-stu-id="2e585-147">You can even add buttons so users can take action without leaving Teams.</span></span>

## <a name="get-started"></a><span data-ttu-id="2e585-148">Prise en main</span><span class="sxs-lookup"><span data-stu-id="2e585-148">Get started</span></span>

<span data-ttu-id="2e585-149">Vous êtes prêt à commencer à créer ?</span><span class="sxs-lookup"><span data-stu-id="2e585-149">Ready to get started building?</span></span> <span data-ttu-id="2e585-150">Essayez l’un de nos Démarrages rapides :</span><span class="sxs-lookup"><span data-stu-id="2e585-150">Try one of our quickstarts:</span></span>

### <a name="c"></a><span data-ttu-id="2e585-151">C#</span><span class="sxs-lookup"><span data-stu-id="2e585-151">C#</span></span>
* [<span data-ttu-id="2e585-152">Extension de messagerie avec des commandes basées sur l’action</span><span class="sxs-lookup"><span data-stu-id="2e585-152">Messaging extension with action-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/51.teams-messaging-extensions-action)
* [<span data-ttu-id="2e585-153">Extension de messagerie avec des commandes basées sur la recherche</span><span class="sxs-lookup"><span data-stu-id="2e585-153">Messaging extension with search-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/50.teams-messaging-extensions-search)

### <a name="javascript"></a><span data-ttu-id="2e585-154">JavaScript</span><span class="sxs-lookup"><span data-stu-id="2e585-154">JavaScript</span></span>
* [<span data-ttu-id="2e585-155">Extension de messagerie avec des commandes basées sur l’action</span><span class="sxs-lookup"><span data-stu-id="2e585-155">Messaging extension with action-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/51.teams-messaging-extensions-action)
* [<span data-ttu-id="2e585-156">Extension de messagerie avec des commandes basées sur la recherche</span><span class="sxs-lookup"><span data-stu-id="2e585-156">Messaging extension with search-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/50.teams-messaging-extensions-search)

## <a name="learn-more"></a><span data-ttu-id="2e585-157">En savoir plus</span><span class="sxs-lookup"><span data-stu-id="2e585-157">Learn more</span></span>

* [<span data-ttu-id="2e585-158">Créer une extension de messagerie</span><span class="sxs-lookup"><span data-stu-id="2e585-158">Create a messaging extension</span></span>](~/messaging-extensions/how-to/create-messaging-extension.md)
* [<span data-ttu-id="2e585-159">Commande définir une extension de messagerie d’action</span><span class="sxs-lookup"><span data-stu-id="2e585-159">Define action messaging extension command</span></span>](~/messaging-extensions/how-to/action-commands/define-action-command.md)
* [<span data-ttu-id="2e585-160">Commande define Search Messaging extension</span><span class="sxs-lookup"><span data-stu-id="2e585-160">Define search messaging extension command</span></span>](~/messaging-extensions/how-to/search-commands/define-search-command.md)
* [<span data-ttu-id="2e585-161">Planification de votre application</span><span class="sxs-lookup"><span data-stu-id="2e585-161">Planning your app</span></span>](../../concepts/extensibility-points.md)
* [<span data-ttu-id="2e585-162">Création de votre application</span><span class="sxs-lookup"><span data-stu-id="2e585-162">Building your app</span></span>](../../concepts/building-an-app.md)
* [<span data-ttu-id="2e585-163">Publication de votre application</span><span class="sxs-lookup"><span data-stu-id="2e585-163">Publishing your app</span></span>](../../concepts/deploy-and-publish/overview.md)
