---
title: Choix d’une configuration pour tester et déboguer votre application
description: Décrit les options de test et de débogage des applications Microsoft Teams
keywords: les équipes exécutent des applications de débogage
ms.topic: conceptual
ms.openlocfilehash: ea851a0d3ecf3ec87093bcc095050190a282c25e
ms.sourcegitcommit: 4539479289b43812eaae07a1c0f878bed815d2d2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/12/2021
ms.locfileid: "49797798"
---
# <a name="choosing-a-setup-to-test-and-debug-your-microsoft-teams-app"></a><span data-ttu-id="c0888-104">Choix d’une configuration pour tester et déboguer votre application Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="c0888-104">Choosing a setup to test and debug your Microsoft Teams app</span></span>

<span data-ttu-id="c0888-105">Les applications Microsoft Teams peuvent contenir une ou plusieurs fonctionnalités, et les méthodes d’exécuter ou même d’héberger ces fonctionnalités peuvent être différentes.</span><span class="sxs-lookup"><span data-stu-id="c0888-105">Microsoft Teams apps can contain one or more capabilities, and the ways to run or even host them may be different.</span></span> <span data-ttu-id="c0888-106">En ce qui concerne le débogage, en général, nous avons les méthodes suivantes pour exécuter votre application Microsoft Teams :</span><span class="sxs-lookup"><span data-stu-id="c0888-106">When it comes to debugging, in general, we have the following ways to run your Microsoft Teams app:</span></span>

* <span data-ttu-id="c0888-107">**Purement local** &emsp; Pour les bots, vous pouvez tester votre expérience dans l’émulateur de bot.</span><span class="sxs-lookup"><span data-stu-id="c0888-107">**Purely local**&emsp;For bots, you can test your experience in the Bot Emulator.</span></span> <span data-ttu-id="c0888-108">Pour d’autres contenus, vous pouvez exécuter localement dans votre navigateur et traiter le contenu via `http://localhost` .</span><span class="sxs-lookup"><span data-stu-id="c0888-108">For other content, you can run locally in your browser and address content through `http://localhost`.</span></span>
* <span data-ttu-id="c0888-109">**Hébergé localement, dans Teams** &emsp; Cela implique l’exécution locale avec un logiciel de tunneling et la [création d’un package](~/concepts/build-and-test/apps-package.md) à [télécharger](~/concepts/deploy-and-publish/apps-upload.md) dans Teams.</span><span class="sxs-lookup"><span data-stu-id="c0888-109">**Locally hosted, in Teams**&emsp;This involves running locally with tunneling software and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span> <span data-ttu-id="c0888-110">Cela vous permet d’exécuter et de déboguer facilement votre application dans le client Teams.</span><span class="sxs-lookup"><span data-stu-id="c0888-110">This allows you to easily run and debug your app within the Teams client.</span></span>
* <span data-ttu-id="c0888-111">**Hébergé dans le cloud, dans Teams** Cela simule véritablement (ou est) la prise en charge au niveau de la production pour une application Teams.</span><span class="sxs-lookup"><span data-stu-id="c0888-111">**Cloud-hosted, in Teams** This truly simulates (or is) production-level support for a Teams app.</span></span> <span data-ttu-id="c0888-112">Cela implique le téléchargement de votre solution vers votre serveur accessible en externe ou le fournisseur cloud de votre choix (nous vous recommandons Azure, bien entendu) et la création d’un [package](~/concepts/build-and-test/apps-package.md) à télécharger [dans](~/concepts/deploy-and-publish/apps-upload.md) Teams.</span><span class="sxs-lookup"><span data-stu-id="c0888-112">It involves uploading your solution to your externally accessible server or cloud provider of choice (we recommend Azure, of course) and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span>

<span data-ttu-id="c0888-113">Pour les tests Teams purement locaux ou locaux, vous exécutez l’expérience à partir de votre propre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c0888-113">For purely local or local Teams testing, you run the experience from your own computer.</span></span> <span data-ttu-id="c0888-114">Cela vous permet de compiler et d’exécuter au sein de votre IDE, et de tirer pleinement parti de techniques telles que les points d’arrêt et le débogage d’étape.</span><span class="sxs-lookup"><span data-stu-id="c0888-114">This allows you to actually compile and run within your IDE, and take full advantage of such techniques as breakpoints and step debugging.</span></span> <span data-ttu-id="c0888-115">Pour le débogage et les tests à l’échelle de la production, nous vous recommandons de suivre les instructions de votre entreprise pour vous assurer que vous êtes en mesure de prendre en charge les tests, les étapes et le déploiement par le biais de vos propres processus.</span><span class="sxs-lookup"><span data-stu-id="c0888-115">For production-scale debugging and testing, we recommend that you follow your own company guidelines to ensure you are able to support testing, staging, and deployment through your own processes.</span></span>

<span data-ttu-id="c0888-116">En général, nous vous recommandons d’utiliser plusieurs manifestes et packages pour vous permettre de conserver la séparation entre les services de production et de développement.</span><span class="sxs-lookup"><span data-stu-id="c0888-116">In general we recommend you use multiple manifests and packages to allow you to maintain separation between production and development services.</span></span> <span data-ttu-id="c0888-117">Par exemple, vous pouvez choisir d’inscrire des robots de développement et de production distincts et de créer des packages appropriés pour les télécharger dans votre environnement de test.</span><span class="sxs-lookup"><span data-stu-id="c0888-117">For example, you might choose to register separate development and production bots and create appropriate packages to upload them in your testing environment.</span></span> <span data-ttu-id="c0888-118">Nous vous recommandons également de charger et de tester votre package de production avant de soumettre votre application pour publication dans notre App Store ou de la distribuer aux clients.</span><span class="sxs-lookup"><span data-stu-id="c0888-118">We also recommend you upload and test your production package before submitting your app for publishing in our app store, or distributing to customers.</span></span>

## <a name="purely-local"></a><span data-ttu-id="c0888-119">Purement local</span><span class="sxs-lookup"><span data-stu-id="c0888-119">Purely local</span></span>

> [!NOTE]
> <span data-ttu-id="c0888-120">L’exécution de cette façon ne vous permet pas d’accéder aux fonctionnalités de l’application Teams ou aux fonctions de bot propres à Teams, telles que les appels de liste de membres et d’autres fonctionnalités propres au canal.</span><span class="sxs-lookup"><span data-stu-id="c0888-120">Running this way does not give you access to Teams app functionality or Teams-specific bot functions like roster calls and other channel-specific functionality.</span></span> <span data-ttu-id="c0888-121">En outre, certaines fonctionnalités peuvent être autorisées par Bot Framework dans l’émulateur de bot qui peuvent ne pas fonctionner lors de l’exécution dans Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="c0888-121">In addition, some capabilities may be allowed by the Bot Framework in the Bot Emulator that might not function when running in Microsoft Teams.</span></span>

<span data-ttu-id="c0888-122">Votre bot peut être exécuté dans l’émulateur de bot.</span><span class="sxs-lookup"><span data-stu-id="c0888-122">Your bot can be run within the Bot Emulator.</span></span> <span data-ttu-id="c0888-123">Cela vous permet de tester une partie de la logique principale du bot, de voir une disposition approximative des messages et d’effectuer des tests simples.</span><span class="sxs-lookup"><span data-stu-id="c0888-123">This enables you to test some of the core logic of the bot, see a rough layout of messages, and perform simple tests.</span></span> <span data-ttu-id="c0888-124">Voici les étapes à effectuer :</span><span class="sxs-lookup"><span data-stu-id="c0888-124">Here are the steps:</span></span>

* <span data-ttu-id="c0888-125">Exécuter le code localement</span><span class="sxs-lookup"><span data-stu-id="c0888-125">Run the code locally</span></span>
* <span data-ttu-id="c0888-126">Lancez l’émulateur de bot et définissez l’URL :</span><span class="sxs-lookup"><span data-stu-id="c0888-126">Launch the Bot Emulator and set the URL:</span></span>
  * <span data-ttu-id="c0888-127">Node.js : `http://localhost:3978/api/messages`</span><span class="sxs-lookup"><span data-stu-id="c0888-127">Node.js: `http://localhost:3978/api/messages`</span></span>
  * <span data-ttu-id="c0888-128">.NET/C# : `http://localhost:3979/api/messages`</span><span class="sxs-lookup"><span data-stu-id="c0888-128">.NET/C#: `http://localhost:3979/api/messages`</span></span>
* <span data-ttu-id="c0888-129">Laissez l’ID de l’application Microsoft et le mot de passe de l’application Microsoft vides, pour qu’ils correspondent aux variables d’environnement par défaut.</span><span class="sxs-lookup"><span data-stu-id="c0888-129">Leave the Microsoft app ID and Microsoft app password blank, to match the default environment variables.</span></span>

## <a name="locally-hosted"></a><span data-ttu-id="c0888-130">Hébergé localement</span><span class="sxs-lookup"><span data-stu-id="c0888-130">Locally hosted</span></span>

<span data-ttu-id="c0888-131">Étant donné que Microsoft Teams est un produit entièrement basé sur le cloud, tous les services accessibles doivent être disponibles publiquement à l’aide des points de terminaison HTTPS.</span><span class="sxs-lookup"><span data-stu-id="c0888-131">Because Microsoft Teams is an entirely cloud-based product, it requires all services it accesses to be available publicly using HTTPS endpoints.</span></span> <span data-ttu-id="c0888-132">Par conséquent, pour permettre à votre application de fonctionner dans Teams, vous devez publier le code dans le cloud de votre choix ou rendre notre instance locale en cours d’exécution accessible en externe.</span><span class="sxs-lookup"><span data-stu-id="c0888-132">Therefore, to enable your app to work within Teams, you need to either publish the code to the cloud of your choice, or make our local running instance externally accessible.</span></span> <span data-ttu-id="c0888-133">Nous pouvons le faire avec un logiciel de tunneling.</span><span class="sxs-lookup"><span data-stu-id="c0888-133">We can do the latter with tunneling software.</span></span>

<span data-ttu-id="c0888-134">Bien que vous pouvez utiliser n’importe quel outil de votre choix, nous utilisons et recommandons [ngrok,](https://ngrok.com/download)qui crée une URL adressan externe pour un port que vous ouvrez localement sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c0888-134">Although you can use any tool of choice, we use and recommend [ngrok](https://ngrok.com/download), which creates an externally addressable URL for a port you open locally on your machine.</span></span> <span data-ttu-id="c0888-135">Pour configurer ngrok en vue de l’exécution locale de votre application Microsoft Teams :</span><span class="sxs-lookup"><span data-stu-id="c0888-135">To set up ngrok in preparation for running your Microsoft Teams app locally:</span></span>

* <span data-ttu-id="c0888-136">Dans une application terminal, go the directory where you have ngrok.exe installed.</span><span class="sxs-lookup"><span data-stu-id="c0888-136">In a terminal application, go the directory where you have ngrok.exe installed.</span></span> <span data-ttu-id="c0888-137">Vous pouvez l’ajouter en tant que variable de chemin d’accès pour éviter cette étape.</span><span class="sxs-lookup"><span data-stu-id="c0888-137">You may want to add it as a path variable to avoid this step.</span></span>
* <span data-ttu-id="c0888-138">Exécutez, par exemple, `ngrok http 3978 --host-header=localhost:3978` ou remplacez le numéro de port selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="c0888-138">Run, for example, `ngrok http 3978 --host-header=localhost:3978`, or replace the port number as needed.</span></span>

<span data-ttu-id="c0888-139">Cela lance ngrok pour écouter sur le port que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="c0888-139">This launches ngrok to listen on the port you specify.</span></span> <span data-ttu-id="c0888-140">En retour, il vous donne une URL adressan externe, valide tant que ngrok est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="c0888-140">In return, it gives you an externally addressable URL, valid for as long as ngrok is running.</span></span>

> [!NOTE]
> <span data-ttu-id="c0888-141">Si vous arrêtez et redémarrez ngrok, l’URL change.</span><span class="sxs-lookup"><span data-stu-id="c0888-141">If you stop and restart ngrok, the URL changes.</span></span>

<span data-ttu-id="c0888-142">Pour utiliser ngrok dans votre projet et en fonction des fonctionnalités que vous utilisez, vous devez remplacer toutes les références d’URL dans votre fichier code, configuration et/ou manifest.jspour utiliser ce point de terminaison d’URL.</span><span class="sxs-lookup"><span data-stu-id="c0888-142">To use ngrok in your project, and depending on the capabilities you are using, you must replace all URL references in your code, configuration, and/or manifest.json file to use this URL endpoint.</span></span>

<span data-ttu-id="c0888-143">Par exemple, pour les bots inscrits dans Microsoft Bot Framework, mettez à jour le point de terminaison de messagerie du bot pour utiliser ce nouveau point de terminaison ngrok.</span><span class="sxs-lookup"><span data-stu-id="c0888-143">For example, for bots registered in the Microsoft Bot Framework, update the bot's messaging endpoint to use this new ngrok endpoint.</span></span> <span data-ttu-id="c0888-144">Par exemple, `https://2d1224fb.ngrok.io/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="c0888-144">For example, `https://2d1224fb.ngrok.io/api/messages`.</span></span> <span data-ttu-id="c0888-145">Vous pouvez vérifier que ngrok fonctionne en testant la réponse du bot dans la fenêtre de conversation test du portail Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="c0888-145">You can validate that ngrok is working by testing bot response in the Bot Framework portal's Test chat window.</span></span> <span data-ttu-id="c0888-146">(Là encore, comme l’émulateur, ce test ne vous permet pas d’accéder aux fonctionnalités propres à Teams.)</span><span class="sxs-lookup"><span data-stu-id="c0888-146">(Again, like the emulator, this test doesn't allow you to access Teams-specific functionality.)</span></span>

> [!NOTE]
> <span data-ttu-id="c0888-147">Pour mettre à jour le point de terminaison de messagerie d’un bot, vous devez utiliser Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="c0888-147">To update the messaging endpoint for a bot, you must use the Bot Framework.</span></span> <span data-ttu-id="c0888-148">Cliquez sur votre bot dans [votre liste de bots dans Bot Framework.](https://dev.botframework.com/bots)</span><span class="sxs-lookup"><span data-stu-id="c0888-148">Click on your bot in [your list of bots in Bot Framework](https://dev.botframework.com/bots).</span></span> <span data-ttu-id="c0888-149">Vous n’avez pas besoin de migrer votre bot vers Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="c0888-149">You do not need to migrate your bot to Microsoft Azure.</span></span> <span data-ttu-id="c0888-150">Vous pouvez également mettre à jour votre point de terminaison de messagerie via [App Studio.](~/concepts/build-and-test/app-studio-overview.md)</span><span class="sxs-lookup"><span data-stu-id="c0888-150">You can also update your messaging endpoint through [App Studio](~/concepts/build-and-test/app-studio-overview.md).</span></span>

## <a name="cloud-hosted"></a><span data-ttu-id="c0888-151">Hébergé dans le cloud</span><span class="sxs-lookup"><span data-stu-id="c0888-151">Cloud-hosted</span></span>

<span data-ttu-id="c0888-152">Vous pouvez utiliser n’importe quel service adressaisable en externe pour héberger votre code de développement et de production et leurs points de terminaison HTTPS.</span><span class="sxs-lookup"><span data-stu-id="c0888-152">You can use any externally addressable service to host your development and production code and their HTTPS endpoints.</span></span> <span data-ttu-id="c0888-153">Il n’est pas attendu que vos fonctionnalités résident sur le même service.</span><span class="sxs-lookup"><span data-stu-id="c0888-153">There is no expectation that your capabilities reside on the same service.</span></span> <span data-ttu-id="c0888-154">Nous exigeons que tous les domaines accessibles à partir de vos applications Microsoft Teams soient répertoriés dans l’objet [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) du fichier manifest.jssur.</span><span class="sxs-lookup"><span data-stu-id="c0888-154">We do require that all domains being accessed from your Microsoft Teams apps be listed in the [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) object in the manifest.json file.</span></span>

> [!NOTE]
> <span data-ttu-id="c0888-155">Pour garantir un environnement sécurisé, soyez explicite sur le domaine et les sous-domaines exacts que vous référencez, et ces domaines doivent être dans votre contrôle.</span><span class="sxs-lookup"><span data-stu-id="c0888-155">To ensure a secure environment, be explicit about the exact domain and subdomains you reference, and those domains must be in your control.</span></span> <span data-ttu-id="c0888-156">Par exemple, `*.azurewebsites.net` ce n’est pas recommandé, mais `contoso.azurewebsites.net` c’est le cas.</span><span class="sxs-lookup"><span data-stu-id="c0888-156">For example, `*.azurewebsites.net` would not be recommended, but `contoso.azurewebsites.net` would.</span></span>

## <a name="loading-and-running"></a><span data-ttu-id="c0888-157">Chargement et exécution</span><span class="sxs-lookup"><span data-stu-id="c0888-157">Loading and running</span></span>

<span data-ttu-id="c0888-158">En règle générale, pour charger et exécuter votre expérience dans Microsoft Teams, vous devez créer un package et le télécharger dans Teams, en suivant les instructions suivantes :</span><span class="sxs-lookup"><span data-stu-id="c0888-158">In general, to load and run your experience within Microsoft Teams, you need to create a package and upload it into Teams, using the following guidance:</span></span>

* [<span data-ttu-id="c0888-159">Créer le package pour votre application Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="c0888-159">Create the package for your Microsoft Teams app</span></span>](~/concepts/build-and-test/apps-package.md)
* [<span data-ttu-id="c0888-160">Télécharger votre application dans Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="c0888-160">Upload your app in Microsoft Teams</span></span>](~/concepts/deploy-and-publish/apps-upload.md)
